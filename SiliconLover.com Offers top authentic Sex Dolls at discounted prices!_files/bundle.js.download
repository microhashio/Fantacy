/*! For license information please see bundle.js.LICENSE.txt */
!function(){var t={669:function(t,e,n){t.exports=n(609)},448:function(t,e,n){"use strict";var o=n(867),r=n(26),i=n(372),a=n(327),s=n(97),c=n(109),l=n(985),d=n(61);t.exports=function(t){return new Promise((function(e,n){var u=t.data,p=t.headers;o.isFormData(u)&&delete p["Content-Type"];var f=new XMLHttpRequest;if(t.auth){var m=t.auth.username||"",h=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";p.Authorization="Basic "+btoa(m+":"+h)}var g=s(t.baseURL,t.url);if(f.open(t.method.toUpperCase(),a(g,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var o="getAllResponseHeaders"in f?c(f.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:o,config:t,request:f};r(e,n,i),f=null}},f.onabort=function(){f&&(n(d("Request aborted",t,"ECONNABORTED",f)),f=null)},f.onerror=function(){n(d("Network Error",t,null,f)),f=null},f.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(d(e,t,"ECONNABORTED",f)),f=null},o.isStandardBrowserEnv()){var _=(t.withCredentials||l(g))&&t.xsrfCookieName?i.read(t.xsrfCookieName):void 0;_&&(p[t.xsrfHeaderName]=_)}if("setRequestHeader"in f&&o.forEach(p,(function(t,e){void 0===u&&"content-type"===e.toLowerCase()?delete p[e]:f.setRequestHeader(e,t)})),o.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){f&&(f.abort(),n(t),f=null)})),u||(u=null),f.send(u)}))}},609:function(t,e,n){"use strict";var o=n(867),r=n(849),i=n(321),a=n(185);function s(t){var e=new i(t),n=r(i.prototype.request,e);return o.extend(n,i.prototype,e),o.extend(n,e),n}var c=s(n(655));c.Axios=i,c.create=function(t){return s(a(c.defaults,t))},c.Cancel=n(263),c.CancelToken=n(972),c.isCancel=n(502),c.all=function(t){return Promise.all(t)},c.spread=n(713),c.isAxiosError=n(268),t.exports=c,t.exports.default=c},263:function(t){"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},972:function(t,e,n){"use strict";var o=n(263);function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new o(t),e(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r((function(e){t=e})),cancel:t}},t.exports=r},502:function(t){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},321:function(t,e,n){"use strict";var o=n(867),r=n(327),i=n(782),a=n(572),s=n(185);function c(t){this.defaults=t,this.interceptors={request:new i,response:new i}}c.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},c.prototype.getUri=function(t){return t=s(this.defaults,t),r(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},o.forEach(["delete","get","head","options"],(function(t){c.prototype[t]=function(e,n){return this.request(s(n||{},{method:t,url:e,data:(n||{}).data}))}})),o.forEach(["post","put","patch"],(function(t){c.prototype[t]=function(e,n,o){return this.request(s(o||{},{method:t,url:e,data:n}))}})),t.exports=c},782:function(t,e,n){"use strict";var o=n(867);function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){o.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=r},97:function(t,e,n){"use strict";var o=n(793),r=n(303);t.exports=function(t,e){return t&&!o(e)?r(t,e):e}},61:function(t,e,n){"use strict";var o=n(481);t.exports=function(t,e,n,r,i){var a=new Error(t);return o(a,e,n,r,i)}},572:function(t,e,n){"use strict";var o=n(867),r=n(527),i=n(502),a=n(655);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=o.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),o.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return s(t),e.data=r(e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(s(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},481:function(t){"use strict";t.exports=function(t,e,n,o,r){return t.config=e,n&&(t.code=n),t.request=o,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},185:function(t,e,n){"use strict";var o=n(867);t.exports=function(t,e){e=e||{};var n={},r=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(t,e){return o.isPlainObject(t)&&o.isPlainObject(e)?o.merge(t,e):o.isPlainObject(e)?o.merge({},e):o.isArray(e)?e.slice():e}function l(r){o.isUndefined(e[r])?o.isUndefined(t[r])||(n[r]=c(void 0,t[r])):n[r]=c(t[r],e[r])}o.forEach(r,(function(t){o.isUndefined(e[t])||(n[t]=c(void 0,e[t]))})),o.forEach(i,l),o.forEach(a,(function(r){o.isUndefined(e[r])?o.isUndefined(t[r])||(n[r]=c(void 0,t[r])):n[r]=c(void 0,e[r])})),o.forEach(s,(function(o){o in e?n[o]=c(t[o],e[o]):o in t&&(n[o]=c(void 0,t[o]))}));var d=r.concat(i).concat(a).concat(s),u=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===d.indexOf(t)}));return o.forEach(u,l),n}},26:function(t,e,n){"use strict";var o=n(61);t.exports=function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(o("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},527:function(t,e,n){"use strict";var o=n(867);t.exports=function(t,e,n){return o.forEach(n,(function(n){t=n(t,e)})),t}},655:function(t,e,n){"use strict";var o=n(867),r=n(16),i={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!o.isUndefined(t)&&o.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,c={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(s=n(448)),s),transformRequest:[function(t,e){return r(e,"Accept"),r(e,"Content-Type"),o.isFormData(t)||o.isArrayBuffer(t)||o.isBuffer(t)||o.isStream(t)||o.isFile(t)||o.isBlob(t)?t:o.isArrayBufferView(t)?t.buffer:o.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):o.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],(function(t){c.headers[t]={}})),o.forEach(["post","put","patch"],(function(t){c.headers[t]=o.merge(i)})),t.exports=c},849:function(t){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return t.apply(e,n)}}},327:function(t,e,n){"use strict";var o=n(867);function r(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(o.isURLSearchParams(e))i=e.toString();else{var a=[];o.forEach(e,(function(t,e){null!=t&&(o.isArray(t)?e+="[]":t=[t],o.forEach(t,(function(t){o.isDate(t)?t=t.toISOString():o.isObject(t)&&(t=JSON.stringify(t)),a.push(r(e)+"="+r(t))})))})),i=a.join("&")}if(i){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},303:function(t){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},372:function(t,e,n){"use strict";var o=n(867);t.exports=o.isStandardBrowserEnv()?{write:function(t,e,n,r,i,a){var s=[];s.push(t+"="+encodeURIComponent(e)),o.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),o.isString(r)&&s.push("path="+r),o.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:function(t){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},268:function(t){"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},985:function(t,e,n){"use strict";var o=n(867);t.exports=o.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var o=t;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=o.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},16:function(t,e,n){"use strict";var o=n(867);t.exports=function(t,e){o.forEach(t,(function(n,o){o!==e&&o.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[o])}))}},109:function(t,e,n){"use strict";var o=n(867),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,a={};return t?(o.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=o.trim(t.substr(0,i)).toLowerCase(),n=o.trim(t.substr(i+1)),e){if(a[e]&&r.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},713:function(t){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},867:function(t,e,n){"use strict";var o=n(849),r=Object.prototype.toString;function i(t){return"[object Array]"===r.call(t)}function a(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function c(t){if("[object Object]"!==r.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function l(t){return"[object Function]"===r.call(t)}function d(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),i(t))for(var n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}t.exports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===r.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isPlainObject:c,isUndefined:a,isDate:function(t){return"[object Date]"===r.call(t)},isFile:function(t){return"[object File]"===r.call(t)},isBlob:function(t){return"[object Blob]"===r.call(t)},isFunction:l,isStream:function(t){return s(t)&&l(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:d,merge:function t(){var e={};function n(n,o){c(e[o])&&c(n)?e[o]=t(e[o],n):c(n)?e[o]=t({},n):i(n)?e[o]=n.slice():e[o]=n}for(var o=0,r=arguments.length;o<r;o++)d(arguments[o],n);return e},extend:function(t,e,n){return d(e,(function(e,r){t[r]=n&&"function"==typeof e?o(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},236:function(t){t.exports=function(){"use strict";var t=function(t){var e=t.addFilter,n=t.utils,o=n.Type,r=n.replaceInString,i=n.toNaturalFileSize;return e("ALLOW_HOPPER_ITEM",(function(t,e){var n=e.query;if(!n("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;var o=n("GET_MAX_FILE_SIZE");if(null!==o&&t.size>=o)return!1;var r=n("GET_MIN_FILE_SIZE");return!(null!==r&&t.size<=r)})),e("LOAD_FILE",(function(t,e){var n=e.query;return new Promise((function(e,o){if(!n("GET_ALLOW_FILE_SIZE_VALIDATION"))return e(t);var a=n("GET_FILE_VALIDATE_SIZE_FILTER");if(a&&!a(t))return e(t);var s=n("GET_MAX_FILE_SIZE");if(null!==s&&t.size>=s)o({status:{main:n("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:r(n("GET_LABEL_MAX_FILE_SIZE"),{filesize:i(s)})}});else{var c=n("GET_MIN_FILE_SIZE");if(null!==c&&t.size<=c)o({status:{main:n("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:r(n("GET_LABEL_MIN_FILE_SIZE"),{filesize:i(c)})}});else{var l=n("GET_MAX_TOTAL_FILE_SIZE");if(null!==l&&n("GET_ACTIVE_ITEMS").reduce((function(t,e){return t+e.fileSize}),0)>l)return void o({status:{main:n("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:r(n("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:i(l)})}});e(t)}}}))})),{options:{allowFileSizeValidation:[!0,o.BOOLEAN],maxFileSize:[null,o.INT],minFileSize:[null,o.INT],maxTotalFileSize:[null,o.INT],fileValidateSizeFilter:[null,o.FUNCTION],labelMinFileSizeExceeded:["File is too small",o.STRING],labelMinFileSize:["Minimum file size is {filesize}",o.STRING],labelMaxFileSizeExceeded:["File is too large",o.STRING],labelMaxFileSize:["Maximum file size is {filesize}",o.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",o.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",o.STRING]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:t})),t}()},521:function(t){t.exports=function(){"use strict";var t=function(t){var e=t.addFilter,n=t.utils,o=n.Type,r=n.isString,i=n.replaceInString,a=n.guesstimateMimeType,s=n.getExtensionFromFilename,c=n.getFilenameFromURL,l=function(t,e){return t.some((function(t){return/\*$/.test(t)?(n=t,(/^[^/]+/.exec(e)||[]).pop()===n.slice(0,-2)):t===e;var n}))},d=function(t,e,n){if(0===e.length)return!0;var o=function(t){var e="";if(r(t)){var n=c(t),o=s(n);o&&(e=a(o))}else e=t.type;return e}(t);return n?new Promise((function(r,i){n(t,o).then((function(t){l(e,t)?r():i()})).catch(i)})):l(e,o)};return e("SET_ATTRIBUTE_TO_OPTION_MAP",(function(t){return Object.assign(t,{accept:"acceptedFileTypes"})})),e("ALLOW_HOPPER_ITEM",(function(t,e){var n=e.query;return!n("GET_ALLOW_FILE_TYPE_VALIDATION")||d(t,n("GET_ACCEPTED_FILE_TYPES"))})),e("LOAD_FILE",(function(t,e){var n=e.query;return new Promise((function(e,o){if(n("GET_ALLOW_FILE_TYPE_VALIDATION")){var r=n("GET_ACCEPTED_FILE_TYPES"),a=n("GET_FILE_VALIDATE_TYPE_DETECT_TYPE"),s=d(t,r,a),c=function(){var t,e=r.map((t=n("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP"),function(e){return null!==t[e]&&(t[e]||e)})).filter((function(t){return!1!==t}));o({status:{main:n("GET_LABEL_FILE_TYPE_NOT_ALLOWED"),sub:i(n("GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES"),{allTypes:e.join(", "),allButLastType:e.slice(0,-1).join(", "),lastType:e[e.length-1]})}})};if("boolean"==typeof s)return s?e(t):c();s.then((function(){e(t)})).catch(c)}else e(t)}))})),{options:{allowFileTypeValidation:[!0,o.BOOLEAN],acceptedFileTypes:[[],o.ARRAY],labelFileTypeNotAllowed:["File is of invalid type",o.STRING],fileValidateTypeLabelExpectedTypes:["Expects {allButLastType} or {lastType}",o.STRING],fileValidateTypeLabelExpectedTypesMap:[{},o.OBJECT],fileValidateTypeDetectType:[null,o.FUNCTION]}}};return"undefined"!=typeof window&&void 0!==window.document&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:t})),t}()},136:function(t,e){!function(t){"use strict";var e=function(t){return t instanceof HTMLElement},n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=Object.assign({},t),r=[],i=[],a=function(){var t=[].concat(i);i.length=0,t.forEach((function(t){var e=t.type,n=t.data;s(e,n)}))},s=function(t,e,n){!n||document.hidden?(u[t]&&u[t](e),r.push({type:t,data:e})):i.push({type:t,data:e})},c=function(t){for(var e,n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return d[t]?(e=d)[t].apply(e,o):null},l={getState:function(){return Object.assign({},o)},processActionQueue:function(){var t=[].concat(r);return r.length=0,t},processDispatchQueue:a,dispatch:s,query:c},d={};e.forEach((function(t){d=Object.assign({},t(o),{},d)}));var u={};return n.forEach((function(t){u=Object.assign({},t(s,c,o),{},u)})),l},o=function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])},r=function(t){var e={};return o(t,(function(n){!function(t,e,n){"function"!=typeof n?Object.defineProperty(t,e,Object.assign({},n)):t[e]=n}(e,n,t[n])})),e},i=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null===n)return t.getAttribute(e)||t.hasAttribute(e);t.setAttribute(e,n)},a="http://www.w3.org/2000/svg",s=["svg","path"],c=function(t){return s.includes(t)},l=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"==typeof e&&(n=e,e=null);var r=c(t)?document.createElementNS(a,t):document.createElement(t);return e&&(c(t)?i(r,"class",e):r.className=e),o(n,(function(t,e){i(r,t,e)})),r},d=function(t){return function(e,n){void 0!==n&&t.children[n]?t.insertBefore(e,t.children[n]):t.appendChild(e)}},u=function(t,e){return function(t,n){return void 0!==n?e.splice(n,0,t):e.push(t),t}},p=function(t,e){return function(n){return e.splice(e.indexOf(n),1),n.element.parentNode&&t.removeChild(n.element),n}},f="undefined"!=typeof window&&void 0!==window.document,m=function(){return f},h="children"in(m()?l("svg"):{})?function(t){return t.children.length}:function(t){return t.childNodes.length},g=function(t,e,n,o){var r=n[0]||t.left,i=n[1]||t.top,a=r+t.width,s=i+t.height*(o[1]||1),c={element:Object.assign({},t),inner:{left:t.left,top:t.top,right:t.right,bottom:t.bottom},outer:{left:r,top:i,right:a,bottom:s}};return e.filter((function(t){return!t.isRectIgnored()})).map((function(t){return t.rect})).forEach((function(t){_(c.inner,Object.assign({},t.inner)),_(c.outer,Object.assign({},t.outer))})),v(c.inner),c.outer.bottom+=c.element.marginBottom,c.outer.right+=c.element.marginRight,v(c.outer),c},_=function(t,e){e.top+=t.top,e.right+=t.left,e.bottom+=t.top,e.left+=t.left,e.bottom>t.bottom&&(t.bottom=e.bottom),e.right>t.right&&(t.right=e.right)},v=function(t){t.width=t.right-t.left,t.height=t.bottom-t.top},E=function(t){return"number"==typeof t},y=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.001;return Math.abs(t-e)<o&&Math.abs(n)<o},b=function(t){return t<.5?2*t*t:(4-2*t)*t-1},T={spring:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.stiffness,n=void 0===e?.5:e,o=t.damping,i=void 0===o?.75:o,a=t.mass,s=void 0===a?10:a,c=null,l=null,d=0,u=!1,p=r({interpolate:function(t,e){if(!u){if(!E(c)||!E(l))return u=!0,void(d=0);y(l+=d+=-(l-c)*n/s,c,d*=i)||e?(l=c,d=0,u=!0,p.onupdate(l),p.oncomplete(l)):p.onupdate(l)}},target:{set:function(t){if(E(t)&&!E(l)&&(l=t),null===c&&(c=t,l=t),l===(c=t)||void 0===c)return u=!0,d=0,p.onupdate(l),void p.oncomplete(l);u=!1},get:function(){return c}},resting:{get:function(){return u}},onupdate:function(t){},oncomplete:function(t){}});return p},tween:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.duration,i=void 0===o?500:o,a=n.easing,s=void 0===a?b:a,c=n.delay,l=void 0===c?0:c,d=null,u=!0,p=!1,f=null,m=r({interpolate:function(n,o){u||null===f||(null===d&&(d=n),n-d<l||((t=n-d-l)>=i||o?(t=1,e=p?0:1,m.onupdate(e*f),m.oncomplete(e*f),u=!0):(e=t/i,m.onupdate((t>=0?s(p?1-e:e):0)*f))))},target:{get:function(){return p?0:f},set:function(t){if(null===f)return f=t,m.onupdate(t),void m.oncomplete(t);t<f?(f=1,p=!0):(p=!1,f=t),u=!1,d=null}},resting:{get:function(){return u}},onupdate:function(t){},oncomplete:function(t){}});return m}},I=function(t,e,n){var o=t[e]&&"object"==typeof t[e][n]?t[e][n]:t[e]||t,r="string"==typeof o?o:o.type,i="object"==typeof o?Object.assign({},o):{};return T[r]?T[r](i):null},O=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(e=Array.isArray(e)?e:[e]).forEach((function(e){t.forEach((function(t){var r=t,i=function(){return n[t]},a=function(e){return n[t]=e};"object"==typeof t&&(r=t.key,i=t.getter||i,a=t.setter||a),e[r]&&!o||(e[r]={get:i,set:a})}))}))},w=function(t){return null!=t},C={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},D=function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!0;for(var n in e)if(e[n]!==t[n])return!0;return!1},S=function(t,e){var n=e.opacity,o=e.perspective,r=e.translateX,i=e.translateY,a=e.scaleX,s=e.scaleY,c=e.rotateX,l=e.rotateY,d=e.rotateZ,u=e.originX,p=e.originY,f=e.width,m=e.height,h="",g="";(w(u)||w(p))&&(g+="transform-origin: "+(u||0)+"px "+(p||0)+"px;"),w(o)&&(h+="perspective("+o+"px) "),(w(r)||w(i))&&(h+="translate3d("+(r||0)+"px, "+(i||0)+"px, 0) "),(w(a)||w(s))&&(h+="scale3d("+(w(a)?a:1)+", "+(w(s)?s:1)+", 1) "),w(d)&&(h+="rotateZ("+d+"rad) "),w(c)&&(h+="rotateX("+c+"rad) "),w(l)&&(h+="rotateY("+l+"rad) "),h.length&&(g+="transform:"+h+";"),w(n)&&(g+="opacity:"+n+";",0===n&&(g+="visibility:hidden;"),n<1&&(g+="pointer-events:none;")),w(m)&&(g+="height:"+m+"px;"),w(f)&&(g+="width:"+f+"px;");var _=t.elementCurrentStyle||"";g.length===_.length&&g===_||(t.style.cssText=g,t.elementCurrentStyle=g)},A={styles:function(t){var e=t.mixinConfig,n=t.viewProps,o=t.viewInternalAPI,r=t.viewExternalAPI,i=t.view,a=Object.assign({},n),s={};O(e,[o,r],n);var c=function(){return i.rect?g(i.rect,i.childViews,[n.translateX||0,n.translateY||0],[n.scaleX||0,n.scaleY||0]):null};return o.rect={get:c},r.rect={get:c},e.forEach((function(t){n[t]=void 0===a[t]?C[t]:a[t]})),{write:function(){if(D(s,n))return S(i.element,n),Object.assign(s,Object.assign({},n)),!0},destroy:function(){}}},listeners:function(t){t.mixinConfig,t.viewProps,t.viewInternalAPI;var e,n=t.viewExternalAPI,o=(t.viewState,t.view),r=[],i=(e=o.element,function(t,n){e.addEventListener(t,n)}),a=function(t){return function(e,n){t.removeEventListener(e,n)}}(o.element);return n.on=function(t,e){r.push({type:t,fn:e}),i(t,e)},n.off=function(t,e){r.splice(r.findIndex((function(n){return n.type===t&&n.fn===e})),1),a(t,e)},{write:function(){return!0},destroy:function(){r.forEach((function(t){a(t.type,t.fn)}))}}},animations:function(t){var e=t.mixinConfig,n=t.viewProps,r=t.viewInternalAPI,i=t.viewExternalAPI,a=Object.assign({},n),s=[];return o(e,(function(t,e){var o=I(e);o&&(o.onupdate=function(e){n[t]=e},o.target=a[t],O([{key:t,setter:function(t){o.target!==t&&(o.target=t)},getter:function(){return n[t]}}],[r,i],n,!0),s.push(o))})),{write:function(t){var e=document.hidden,n=!0;return s.forEach((function(o){o.resting||(n=!1),o.interpolate(t,e)})),n},destroy:function(){}}},apis:function(t){var e=t.mixinConfig,n=t.viewProps,o=t.viewExternalAPI;O(e,o,n)}},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.layoutCalculated||(t.paddingTop=parseInt(n.paddingTop,10)||0,t.marginTop=parseInt(n.marginTop,10)||0,t.marginRight=parseInt(n.marginRight,10)||0,t.marginBottom=parseInt(n.marginBottom,10)||0,t.marginLeft=parseInt(n.marginLeft,10)||0,e.layoutCalculated=!0),t.left=e.offsetLeft||0,t.top=e.offsetTop||0,t.width=e.offsetWidth||0,t.height=e.offsetHeight||0,t.right=t.left+t.width,t.bottom=t.top+t.height,t.scrollTop=e.scrollTop,t.hidden=null===e.offsetParent,t},L=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.tag,n=void 0===e?"div":e,o=t.name,i=void 0===o?null:o,a=t.attributes,s=void 0===a?{}:a,c=t.read,f=void 0===c?function(){}:c,m=t.write,_=void 0===m?function(){}:m,v=t.create,E=void 0===v?function(){}:v,y=t.destroy,b=void 0===y?function(){}:y,T=t.filterFrameActionsForChild,I=void 0===T?function(t,e){return e}:T,O=t.didCreateView,w=void 0===O?function(){}:O,C=t.didWriteView,D=void 0===C?function(){}:C,S=t.ignoreRect,L=void 0!==S&&S,N=t.ignoreRectUpdate,P=void 0!==N&&N,x=t.mixins,M=void 0===x?[]:x;return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=l(n,"filepond--"+i,s),a=window.getComputedStyle(o,null),c=R(),m=null,v=!1,y=[],T=[],O={},C={},S=[_],N=[f],x=[b],k=function(){return o},q=function(){return y.concat()},F=function(){return O},j=function(t){return function(e,n){return e(t,n)}},B=function(){return m||(m=g(c,y,[0,0],[1,1]))},G=function(){m=null,y.forEach((function(t){return t._read()})),!(P&&c.width&&c.height)&&R(c,o,a);var t={root:$,props:e,rect:c};N.forEach((function(e){return e(t)}))},U=function(t,n,o){var r=0===n.length;return S.forEach((function(i){!1===i({props:e,root:$,actions:n,timestamp:t,shouldOptimize:o})&&(r=!1)})),T.forEach((function(e){!1===e.write(t)&&(r=!1)})),y.filter((function(t){return!!t.element.parentNode})).forEach((function(e){e._write(t,I(e,n),o)||(r=!1)})),y.forEach((function(e,i){e.element.parentNode||($.appendChild(e.element,i),e._read(),e._write(t,I(e,n),o),r=!1)})),v=r,D({props:e,root:$,actions:n,timestamp:t}),r},Y=function(){T.forEach((function(t){return t.destroy()})),x.forEach((function(t){t({root:$,props:e})})),y.forEach((function(t){return t._destroy()}))},H={element:{get:k},style:{get:function(){return a}},childViews:{get:q}},V=Object.assign({},H,{rect:{get:B},ref:{get:F},is:function(t){return i===t},appendChild:d(o),createChildView:j(t),linkView:function(t){return y.push(t),t},unlinkView:function(t){y.splice(y.indexOf(t),1)},appendChildView:u(0,y),removeChildView:p(o,y),registerWriter:function(t){return S.push(t)},registerReader:function(t){return N.push(t)},registerDestroyer:function(t){return x.push(t)},invalidateLayout:function(){return o.layoutCalculated=!1},dispatch:t.dispatch,query:t.query}),W={element:{get:k},childViews:{get:q},rect:{get:B},resting:{get:function(){return v}},isRectIgnored:function(){return L},_read:G,_write:U,_destroy:Y},X=Object.assign({},H,{rect:{get:function(){return c}}});Object.keys(M).sort((function(t,e){return"styles"===t?1:"styles"===e?-1:0})).forEach((function(t){var n=A[t]({mixinConfig:M[t],viewProps:e,viewState:C,viewInternalAPI:V,viewExternalAPI:W,view:r(X)});n&&T.push(n)}));var $=r(V);E({root:$,props:e});var z=h(o);return y.forEach((function(t,e){$.appendChild(t.element,z+e)})),w($),r(W)}},N=function(t,e){return function(n){var o=n.root,r=n.props,i=n.actions,a=void 0===i?[]:i,s=n.timestamp,c=n.shouldOptimize;a.filter((function(e){return t[e.type]})).forEach((function(e){return t[e.type]({root:o,props:r,action:e.data,timestamp:s,shouldOptimize:c})})),e&&e({root:o,props:r,actions:a,timestamp:s,shouldOptimize:c})}},P=function(t,e){return e.parentNode.insertBefore(t,e)},x=function(t,e){return e.parentNode.insertBefore(t,e.nextSibling)},M=function(t){return Array.isArray(t)},k=function(t){return null==t},q=function(t){return t.trim()},F=function(t){return""+t},j=function(t){return"boolean"==typeof t},B=function(t){return j(t)?t:"true"===t},G=function(t){return"string"==typeof t},U=function(t){return E(t)?t:G(t)?F(t).replace(/[a-z]+/gi,""):0},Y=function(t){return parseInt(U(t),10)},H=function(t){return parseFloat(U(t))},V=function(t){return E(t)&&isFinite(t)&&Math.floor(t)===t},W=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(V(t))return t;var n=F(t).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),Y(n)*e*e):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),Y(n)*e):Y(n)},X=function(t){return"function"==typeof t},$={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},z=function(t,e,n,o,r){if(null===e)return null;if("function"==typeof e)return e;var i={url:"GET"===n||"PATCH"===n?"?"+t+"=":"",method:n,headers:r,withCredentials:!1,timeout:o,onload:null,ondata:null,onerror:null};if(G(e))return i.url=e,i;if(Object.assign(i,e),G(i.headers)){var a=i.headers.split(/:(.+)/);i.headers={header:a[0],value:a[1]}}return i.withCredentials=B(i.withCredentials),i},Q=function(t){return"object"==typeof t&&null!==t},K=function(t){return M(t)?"array":function(t){return null===t}(t)?"null":V(t)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(t)?"bytes":function(t){return Q(t)&&G(t.url)&&Q(t.process)&&Q(t.revert)&&Q(t.restore)&&Q(t.fetch)}(t)?"api":typeof t},Z={array:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return k(t)?[]:M(t)?t:F(t).split(e).map(q).filter((function(t){return t.length}))},boolean:B,int:function(t){return"bytes"===K(t)?W(t):Y(t)},number:H,float:H,bytes:W,string:function(t){return X(t)?t:F(t)},function:function(t){return function(t){for(var e=self,n=t.split("."),o=null;o=n.shift();)if(!(e=e[o]))return null;return e}(t)},serverapi:function(t){return(n={}).url=G(e=t)?e:e.url||"",n.timeout=e.timeout?parseInt(e.timeout,10):0,n.headers=e.headers?e.headers:{},o($,(function(t){n[t]=z(t,e[t],$[t],n.timeout,n.headers)})),n.remove=e.remove||null,delete n.headers,n;var e,n},object:function(t){try{return JSON.parse(t.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'))}catch(t){return null}}},J=function(t,e,n){if(t===e)return t;var o,r=K(t);if(r!==n){var i=(o=t,Z[n](o));if(r=K(i),null===i)throw'Trying to assign value with incorrect type to "'+option+'", allowed type: "'+n+'"';t=i}return t},tt=function(t){var e={};return o(t,(function(n){var o,r,i,a=t[n];e[n]=(o=a[0],r=a[1],i=o,{enumerable:!0,get:function(){return i},set:function(t){i=J(t,o,r)}})})),r(e)},et=function(t){return{items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:tt(t)}},nt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t.split(/(?=[A-Z])/).map((function(t){return t.toLowerCase()})).join(e)},ot=function(t,e){var n={};return o(e,(function(e){n[e]={get:function(){return t.getState().options[e]},set:function(n){t.dispatch("SET_"+nt(e,"_").toUpperCase(),{value:n})}}})),n},rt=function(t){return function(e,n,r){var i={};return o(t,(function(t){var n=nt(t,"_").toUpperCase();i["SET_"+n]=function(o){try{r.options[t]=o.value}catch(t){}e("DID_SET_"+n,{value:r.options[t]})}})),i}},it=function(t){return function(e){var n={};return o(t,(function(t){n["GET_"+nt(t,"_").toUpperCase()]=function(n){return e.options[t]}})),n}},at=1,st=2,ct=3,lt=4,dt=5,ut=function(){return Math.random().toString(36).substr(2,9)};function pt(t){this.wrapped=t}function ft(t){var e,n;function o(e,n){try{var i=t[e](n),a=i.value,s=a instanceof pt;Promise.resolve(s?a.wrapped:a).then((function(t){s?o("next",t):r(i.done?"return":"normal",t)}),(function(t){o("throw",t)}))}catch(t){r("throw",t)}}function r(t,r){switch(t){case"return":e.resolve({value:r,done:!0});break;case"throw":e.reject(r);break;default:e.resolve({value:r,done:!1})}(e=e.next)?o(e.key,e.arg):n=null}this._invoke=function(t,r){return new Promise((function(i,a){var s={key:t,arg:r,resolve:i,reject:a,next:null};n?n=n.next=s:(e=n=s,o(t,r))}))},"function"!=typeof t.return&&(this.return=void 0)}function mt(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ht(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}"function"==typeof Symbol&&Symbol.asyncIterator&&(ft.prototype[Symbol.asyncIterator]=function(){return this}),ft.prototype.next=function(t){return this._invoke("next",t)},ft.prototype.throw=function(t){return this._invoke("throw",t)},ft.prototype.return=function(t){return this._invoke("return",t)};var gt,_t,vt=function(t,e){return t.splice(e,1)},Et=function(){var t=[],e=function(e,n){vt(t,t.findIndex((function(t){return t.event===e&&(t.cb===n||!n)})))},n=function(e,n,o){t.filter((function(t){return t.event===e})).map((function(t){return t.cb})).forEach((function(t){return function(t,e){e?t():document.hidden?Promise.resolve(1).then(t):setTimeout(t,0)}((function(){return t.apply(void 0,ht(n))}),o)}))};return{fireSync:function(t){for(var e=arguments.length,o=new Array(e>1?e-1:0),r=1;r<e;r++)o[r-1]=arguments[r];n(t,o,!0)},fire:function(t){for(var e=arguments.length,o=new Array(e>1?e-1:0),r=1;r<e;r++)o[r-1]=arguments[r];n(t,o,!1)},on:function(e,n){t.push({event:e,cb:n})},onOnce:function(n,o){t.push({event:n,cb:function(){e(n,o),o.apply(void 0,arguments)}})},off:e}},yt=function(t,e,n){Object.getOwnPropertyNames(t).filter((function(t){return!n.includes(t)})).forEach((function(n){return Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))},bt=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Tt=function(t){var e={};return yt(t,e,bt),e},It=function(t){t.forEach((function(e,n){e.released&&vt(t,n)}))},Ot={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},wt={INPUT:1,LIMBO:2,LOCAL:3},Ct=function(t){return/[^0-9]+/.exec(t)},Dt=function(){return Ct(1.1.toLocaleString())[0]},St={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},At=[],Rt=function(t,e,n){return new Promise((function(o,r){var i=At.filter((function(e){return e.key===t})).map((function(t){return t.cb}));if(0!==i.length){var a=i.shift();i.reduce((function(t,e){return t.then((function(t){return e(t,n)}))}),a(e,n)).then((function(t){return o(t)})).catch((function(t){return r(t)}))}else o(e)}))},Lt=function(t,e,n){return At.filter((function(e){return e.key===t})).map((function(t){return t.cb(e,n)}))},Nt=function(t,e){return At.push({key:t,cb:e})},Pt=function(){return Object.assign({},xt)},xt={id:[null,St.STRING],name:["filepond",St.STRING],disabled:[!1,St.BOOLEAN],className:[null,St.STRING],required:[!1,St.BOOLEAN],captureMethod:[null,St.STRING],allowSyncAcceptAttribute:[!0,St.BOOLEAN],allowDrop:[!0,St.BOOLEAN],allowBrowse:[!0,St.BOOLEAN],allowPaste:[!0,St.BOOLEAN],allowMultiple:[!1,St.BOOLEAN],allowReplace:[!0,St.BOOLEAN],allowRevert:[!0,St.BOOLEAN],allowRemove:[!0,St.BOOLEAN],allowProcess:[!0,St.BOOLEAN],allowReorder:[!1,St.BOOLEAN],allowDirectoriesOnly:[!1,St.BOOLEAN],forceRevert:[!1,St.BOOLEAN],maxFiles:[null,St.INT],checkValidity:[!1,St.BOOLEAN],itemInsertLocationFreedom:[!0,St.BOOLEAN],itemInsertLocation:["before",St.STRING],itemInsertInterval:[75,St.INT],dropOnPage:[!1,St.BOOLEAN],dropOnElement:[!0,St.BOOLEAN],dropValidation:[!1,St.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],St.ARRAY],instantUpload:[!0,St.BOOLEAN],maxParallelUploads:[2,St.INT],chunkUploads:[!1,St.BOOLEAN],chunkForce:[!1,St.BOOLEAN],chunkSize:[5e6,St.INT],chunkRetryDelays:[[500,1e3,3e3],St.Array],server:[null,St.SERVER_API],fileSizeBase:[1e3,St.INT],labelDecimalSeparator:[Dt(),St.STRING],labelThousandsSeparator:[(gt=Dt(),_t=1e3.toLocaleString(),_t!==1e3.toString()?Ct(_t)[0]:"."===gt?",":"."),St.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',St.STRING],labelInvalidField:["Field contains invalid files",St.STRING],labelFileWaitingForSize:["Waiting for size",St.STRING],labelFileSizeNotAvailable:["Size not available",St.STRING],labelFileCountSingular:["file in list",St.STRING],labelFileCountPlural:["files in list",St.STRING],labelFileLoading:["Loading",St.STRING],labelFileAdded:["Added",St.STRING],labelFileLoadError:["Error during load",St.STRING],labelFileRemoved:["Removed",St.STRING],labelFileRemoveError:["Error during remove",St.STRING],labelFileProcessing:["Uploading",St.STRING],labelFileProcessingComplete:["Upload complete",St.STRING],labelFileProcessingAborted:["Upload cancelled",St.STRING],labelFileProcessingError:["Error during upload",St.STRING],labelFileProcessingRevertError:["Error during revert",St.STRING],labelTapToCancel:["tap to cancel",St.STRING],labelTapToRetry:["tap to retry",St.STRING],labelTapToUndo:["tap to undo",St.STRING],labelButtonRemoveItem:["Remove",St.STRING],labelButtonAbortItemLoad:["Abort",St.STRING],labelButtonRetryItemLoad:["Retry",St.STRING],labelButtonAbortItemProcessing:["Cancel",St.STRING],labelButtonUndoItemProcessing:["Undo",St.STRING],labelButtonRetryItemProcessing:["Retry",St.STRING],labelButtonProcessItem:["Upload",St.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',St.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',St.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',St.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',St.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',St.STRING],oninit:[null,St.FUNCTION],onwarning:[null,St.FUNCTION],onerror:[null,St.FUNCTION],onactivatefile:[null,St.FUNCTION],oninitfile:[null,St.FUNCTION],onaddfilestart:[null,St.FUNCTION],onaddfileprogress:[null,St.FUNCTION],onaddfile:[null,St.FUNCTION],onprocessfilestart:[null,St.FUNCTION],onprocessfileprogress:[null,St.FUNCTION],onprocessfileabort:[null,St.FUNCTION],onprocessfilerevert:[null,St.FUNCTION],onprocessfile:[null,St.FUNCTION],onprocessfiles:[null,St.FUNCTION],onremovefile:[null,St.FUNCTION],onpreparefile:[null,St.FUNCTION],onupdatefiles:[null,St.FUNCTION],onreorderfiles:[null,St.FUNCTION],beforeDropFile:[null,St.FUNCTION],beforeAddFile:[null,St.FUNCTION],beforeRemoveFile:[null,St.FUNCTION],beforePrepareFile:[null,St.FUNCTION],stylePanelLayout:[null,St.STRING],stylePanelAspectRatio:[null,St.STRING],styleItemPanelAspectRatio:[null,St.STRING],styleButtonRemoveItemPosition:["left",St.STRING],styleButtonProcessItemPosition:["right",St.STRING],styleLoadIndicatorPosition:["right",St.STRING],styleProgressIndicatorPosition:["right",St.STRING],styleButtonRemoveItemAlign:[!1,St.BOOLEAN],files:[[],St.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],St.ARRAY]},Mt=function(t,e){return k(e)?t[0]||null:V(e)?t[e]||null:("object"==typeof e&&(e=e.id),t.find((function(t){return t.id===e}))||null)},kt=function(t){if(k(t))return t;if(/:/.test(t)){var e=t.split(":");return e[1]/e[0]}return parseFloat(t)},qt=function(t){return t.filter((function(t){return!t.archived}))},Ft={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4},jt=[Ot.LOAD_ERROR,Ot.PROCESSING_ERROR,Ot.PROCESSING_REVERT_ERROR],Bt=[Ot.LOADING,Ot.PROCESSING,Ot.PROCESSING_QUEUED,Ot.INIT],Gt=[Ot.PROCESSING_COMPLETE],Ut=function(t){return jt.includes(t.status)},Yt=function(t){return Bt.includes(t.status)},Ht=function(t){return Gt.includes(t.status)},Vt=function(t){return{GET_STATUS:function(){var e=qt(t.items),n=Ft.EMPTY,o=Ft.ERROR,r=Ft.BUSY,i=Ft.IDLE,a=Ft.READY;return 0===e.length?n:e.some(Ut)?o:e.some(Yt)?r:e.some(Ht)?a:i},GET_ITEM:function(e){return Mt(t.items,e)},GET_ACTIVE_ITEM:function(e){return Mt(qt(t.items),e)},GET_ACTIVE_ITEMS:function(){return qt(t.items)},GET_ITEMS:function(){return t.items},GET_ITEM_NAME:function(e){var n=Mt(t.items,e);return n?n.filename:null},GET_ITEM_SIZE:function(e){var n=Mt(t.items,e);return n?n.fileSize:null},GET_STYLES:function(){return Object.keys(t.options).filter((function(t){return/^style/.test(t)})).map((function(e){return{name:e,value:t.options[e]}}))},GET_PANEL_ASPECT_RATIO:function(){return/circle/.test(t.options.stylePanelLayout)?1:kt(t.options.stylePanelAspectRatio)},GET_ITEM_PANEL_ASPECT_RATIO:function(){return t.options.styleItemPanelAspectRatio},GET_ITEMS_BY_STATUS:function(e){return qt(t.items).filter((function(t){return t.status===e}))},GET_TOTAL_ITEMS:function(){return qt(t.items).length},IS_ASYNC:function(){return Q(t.options.server)&&(Q(t.options.server.process)||X(t.options.server.process))}}},Wt=function(t,e,n){return Math.max(Math.min(n,t),e)},Xt=function(t){return/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(t)},$t=function(t){return t.split("/").pop().split("?").shift()},zt=function(t){return t.split(".").pop()},Qt=function(t){if("string"!=typeof t)return"";var e=t.split("/").pop();return/svg/.test(e)?"svg":/zip|compressed/.test(e)?"zip":/plain/.test(e)?"txt":/msword/.test(e)?"doc":/[a-z]+/.test(e)?"jpeg"===e?"jpg":e:""},Kt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(e+t).slice(-e.length)},Zt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return t.getFullYear()+"-"+Kt(t.getMonth()+1,"00")+"-"+Kt(t.getDate(),"00")+"_"+Kt(t.getHours(),"00")+"-"+Kt(t.getMinutes(),"00")+"-"+Kt(t.getSeconds(),"00")},Jt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r="string"==typeof n?t.slice(0,t.size,n):t.slice(0,t.size,t.type);return r.lastModifiedDate=new Date,t._relativePath&&(r._relativePath=t._relativePath),G(e)||(e=Zt()),e&&null===o&&zt(e)?r.name=e:(o=o||Qt(r.type),r.name=e+(o?"."+o:"")),r},te=function(t,e){var n=window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(n){var o=new n;return o.append(t),o.getBlob(e)}return new Blob([t],{type:e})},ee=function(t){return(/^data:(.+);/.exec(t)||[])[1]||null},ne=function(t){var e=ee(t);return function(t,e){for(var n=new ArrayBuffer(t.length),o=new Uint8Array(n),r=0;r<t.length;r++)o[r]=t.charCodeAt(r);return te(n,e)}(function(t){return atob(function(t){return t.split(",")[1].replace(/\s/g,"")}(t))}(t),e)},oe=function(t){if(!/^content-disposition:/i.test(t))return null;var e=t.split(/filename=|filename\*=.+''/).splice(1).map((function(t){return t.trim().replace(/^["']|[;"']{0,2}$/g,"")})).filter((function(t){return t.length}));return e.length?decodeURI(e[e.length-1]):null},re=function(t){if(/content-length:/i.test(t)){var e=t.match(/[0-9]+/)[0];return e?parseInt(e,10):null}return null},ie=function(t){return/x-content-transfer-id:/i.test(t)&&(t.split(":")[1]||"").trim()||null},ae=function(t){var e={source:null,name:null,size:null},n=t.split("\n"),o=!0,r=!1,i=void 0;try{for(var a,s=n[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var c=a.value,l=oe(c);if(l)e.name=l;else{var d=re(c);if(d)e.size=d;else{var u=ie(c);u&&(e.source=u)}}}}catch(t){r=!0,i=t}finally{try{o||null==s.return||s.return()}finally{if(r)throw i}}return e},se=function(t){var e={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=function(n){t?(e.timestamp=Date.now(),e.request=t(n,(function(t){e.duration=Date.now()-e.timestamp,e.complete=!0,t instanceof Blob&&(t=Jt(t,t.name||$t(n))),o.fire("load",t instanceof Blob?t:t?t.body:null)}),(function(t){o.fire("error","string"==typeof t?{type:"error",code:0,body:t}:t)}),(function(t,n,r){r&&(e.size=r),e.duration=Date.now()-e.timestamp,t?(e.progress=n/r,o.fire("progress",e.progress)):e.progress=null}),(function(){o.fire("abort")}),(function(t){var n=ae("string"==typeof t?t:t.headers);o.fire("meta",{size:e.size||n.size,filename:n.name,source:n.source})}))):o.fire("error",{type:"error",body:"Can't load URL",code:400})},o=Object.assign({},Et(),{setSource:function(t){return e.source=t},getProgress:function(){return e.progress},abort:function(){e.request&&e.request.abort&&e.request.abort()},load:function(){var t,r,i=e.source;o.fire("init",i),i instanceof File?o.fire("load",i):i instanceof Blob?o.fire("load",Jt(i,i.name)):Xt(i)?o.fire("load",Jt(ne(i),t,null,r)):n(i)}});return o},ce=function(t){return/GET|HEAD/.test(t)},le=function(t,e,n){var o={onheaders:function(){},onprogress:function(){},onload:function(){},ontimeout:function(){},onerror:function(){},onabort:function(){},abort:function(){r=!0,a.abort()}},r=!1,i=!1;n=Object.assign({method:"POST",headers:{},withCredentials:!1},n),e=encodeURI(e),ce(n.method)&&t&&(e=""+e+encodeURIComponent("string"==typeof t?t:JSON.stringify(t)));var a=new XMLHttpRequest;return(ce(n.method)?a:a.upload).onprogress=function(t){r||o.onprogress(t.lengthComputable,t.loaded,t.total)},a.onreadystatechange=function(){a.readyState<2||4===a.readyState&&0===a.status||i||(i=!0,o.onheaders(a))},a.onload=function(){a.status>=200&&a.status<300?o.onload(a):o.onerror(a)},a.onerror=function(){return o.onerror(a)},a.onabort=function(){r=!0,o.onabort()},a.ontimeout=function(){return o.ontimeout(a)},a.open(n.method,e,!0),V(n.timeout)&&(a.timeout=n.timeout),Object.keys(n.headers).forEach((function(t){var e=unescape(encodeURIComponent(n.headers[t]));a.setRequestHeader(t,e)})),n.responseType&&(a.responseType=n.responseType),n.withCredentials&&(a.withCredentials=!0),a.send(t),o},de=function(t,e,n,o){return{type:t,code:e,body:n,headers:o}},ue=function(t){return function(e){t(de("error",0,"Timeout",e.getAllResponseHeaders()))}},pe=function(t){return/\?/.test(t)},fe=function(){for(var t="",e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return n.forEach((function(e){t+=pe(t)&&pe(e)?e.replace(/\?/,"&"):e})),t},me=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;if("function"==typeof e)return e;if(!e||!G(e.url))return null;var n=e.onload||function(t){return t},o=e.onerror||function(t){return null};return function(r,i,a,s,c,l){var d=le(r,fe(t,e.url),Object.assign({},e,{responseType:"blob"}));return d.onload=function(t){var o=t.getAllResponseHeaders(),a=ae(o).name||$t(r);i(de("load",t.status,"HEAD"===e.method?null:Jt(n(t.response),a),o))},d.onerror=function(t){a(de("error",t.status,o(t.response)||t.statusText,t.getAllResponseHeaders()))},d.onheaders=function(t){l(de("headers",t.status,null,t.getAllResponseHeaders()))},d.ontimeout=ue(a),d.onprogress=s,d.onabort=c,d}},he=0,ge=1,_e=2,ve=3,Ee=4,ye=function(t,e,n,o,r,i,a,s,c,l,d){for(var u=[],p=d.chunkTransferId,f=d.chunkServer,m=d.chunkSize,h=d.chunkRetryDelays,g={serverId:p,aborted:!1},_=e.ondata||function(t){return t},v=e.onload||function(t,e){return"HEAD"===e?t.getResponseHeader("Upload-Offset"):t.response},E=e.onerror||function(t){return null},y=Math.floor(o.size/m),b=0;b<=y;b++){var T=b*m,I=o.slice(T,T+m,"application/offset+octet-stream");u[b]={index:b,size:I.size,offset:T,data:I,file:o,progress:0,retries:ht(h),status:he,error:null,request:null,timeout:null}}var O,w,C,D,S=function(t){return t.status===he||t.status===ve},A=function(e){if(!g.aborted)if(e=e||u.find(S)){e.status=_e,e.progress=null;var n=f.ondata||function(t){return t},r=f.onerror||function(t){return null},s=fe(t,f.url,g.serverId),l="function"==typeof f.headers?f.headers(e):Object.assign({},f.headers,{"Content-Type":"application/offset+octet-stream","Upload-Offset":e.offset,"Upload-Length":o.size,"Upload-Name":o.name}),d=e.request=le(n(e.data),s,Object.assign({},f,{headers:l}));d.onload=function(){e.status=ge,e.request=null,N()},d.onprogress=function(t,n,o){e.progress=t?n:null,L()},d.onerror=function(t){e.status=ve,e.request=null,e.error=r(t.response)||t.statusText,R(e)||a(de("error",t.status,r(t.response)||t.statusText,t.getAllResponseHeaders()))},d.ontimeout=function(t){e.status=ve,e.request=null,R(e)||ue(a)(t)},d.onabort=function(){e.status=he,e.request=null,c()}}else u.every((function(t){return t.status===ge}))&&i(g.serverId)},R=function(t){return 0!==t.retries.length&&(t.status=Ee,clearTimeout(t.timeout),t.timeout=setTimeout((function(){A(t)}),t.retries.shift()),!0)},L=function(){var t=u.reduce((function(t,e){return null===t||null===e.progress?null:t+e.progress}),0);if(null===t)return s(!1,0,0);var e=u.reduce((function(t,e){return t+e.size}),0);s(!0,t,e)},N=function(){u.filter((function(t){return t.status===_e})).length>=1||A()};return g.serverId?(O=function(t){g.aborted||(u.filter((function(e){return e.offset<t})).forEach((function(t){t.status=ge,t.progress=t.size})),N())},w=fe(t,f.url,g.serverId),C={headers:"function"==typeof e.headers?e.headers(g.serverId):Object.assign({},e.headers),method:"HEAD"},(D=le(null,w,C)).onload=function(t){return O(v(t,C.method))},D.onerror=function(t){return a(de("error",t.status,E(t.response)||t.statusText,t.getAllResponseHeaders()))},D.ontimeout=ue(a)):function(i){var s=new FormData;Q(r)&&s.append(n,JSON.stringify(r));var c="function"==typeof e.headers?e.headers(o,r):Object.assign({},e.headers,{"Upload-Length":o.size}),l=Object.assign({},e,{headers:c}),d=le(_(s),fe(t,e.url),l);d.onload=function(t){return i(v(t,l.method))},d.onerror=function(t){return a(de("error",t.status,E(t.response)||t.statusText,t.getAllResponseHeaders()))},d.ontimeout=ue(a)}((function(t){g.aborted||(l(t),g.serverId=t,N())})),{abort:function(){g.aborted=!0,u.forEach((function(t){clearTimeout(t.timeout),t.request&&t.request.abort()}))}}},be=function(t,e,n,o){return function(r,i,a,s,c,l,d){if(r){var u=o.chunkUploads,p=u&&r.size>o.chunkSize,f=u&&(p||o.chunkForce);if(r instanceof Blob&&f)return ye(t,e,n,r,i,a,s,c,l,d,o);var m=e.ondata||function(t){return t},h=e.onload||function(t){return t},g=e.onerror||function(t){return null},_=new FormData;Q(i)&&_.append(n,JSON.stringify(i)),(r instanceof Blob?[{name:null,file:r}]:r).forEach((function(t){_.append(n,t.file,null===t.name?t.file.name:""+t.name+t.file.name)}));var v=le(m(_),fe(t,e.url),e);return v.onload=function(t){a(de("load",t.status,h(t.response),t.getAllResponseHeaders()))},v.onerror=function(t){s(de("error",t.status,g(t.response)||t.statusText,t.getAllResponseHeaders()))},v.ontimeout=ue(s),v.onprogress=c,v.onabort=l,v}}},Te=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;if("function"==typeof e)return e;if(!e||!G(e.url))return function(t,e){return e()};var n=e.onload||function(t){return t},o=e.onerror||function(t){return null};return function(r,i,a){var s=le(r,t+e.url,e);return s.onload=function(t){i(de("load",t.status,n(t.response),t.getAllResponseHeaders()))},s.onerror=function(t){a(de("error",t.status,o(t.response)||t.statusText,t.getAllResponseHeaders()))},s.ontimeout=ue(a),s}},Ie=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t+Math.random()*(e-t)},Oe=function(t){var e={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},n=function(){e.request&&(e.perceivedPerformanceUpdater.clear(),e.request.abort&&e.request.abort(),e.complete=!0)},o=Object.assign({},Et(),{process:function(n,r){var i=function(){0!==e.duration&&null!==e.progress&&o.fire("progress",o.getProgress())},a=function(){e.complete=!0,o.fire("load-perceived",e.response.body)};o.fire("start"),e.timestamp=Date.now(),e.perceivedPerformanceUpdater=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,r=null,i=Date.now();return function a(){var s=Date.now()-i,c=Ie(n,o);s+c>e&&(c=s+c-e);var l=s/e;l>=1||document.hidden?t(1):(t(l),r=setTimeout(a,c))}(),{clear:function(){clearTimeout(r)}}}((function(t){e.perceivedProgress=t,e.perceivedDuration=Date.now()-e.timestamp,i(),e.response&&1===e.perceivedProgress&&!e.complete&&a()}),Ie(750,1500)),e.request=t(n,r,(function(t){e.response=Q(t)?t:{type:"load",code:200,body:""+t,headers:{}},e.duration=Date.now()-e.timestamp,e.progress=1,o.fire("load",e.response.body),1===e.perceivedProgress&&a()}),(function(t){e.perceivedPerformanceUpdater.clear(),o.fire("error",Q(t)?t:{type:"error",code:0,body:""+t})}),(function(t,n,o){e.duration=Date.now()-e.timestamp,e.progress=t?n/o:null,i()}),(function(){e.perceivedPerformanceUpdater.clear(),o.fire("abort",e.response?e.response.body:null)}),(function(t){o.fire("transfer",t)}))},abort:n,getProgress:function(){return e.progress?Math.min(e.progress,e.perceivedProgress):null},getDuration:function(){return Math.min(e.duration,e.perceivedDuration)},reset:function(){n(),e.complete=!1,e.perceivedProgress=0,e.progress=0,e.timestamp=null,e.perceivedDuration=0,e.duration=0,e.request=null,e.response=null}});return o},we=function(t){return t.substr(0,t.lastIndexOf("."))||t},Ce=function(t){var e=[t.name,t.size,t.type];return t instanceof Blob||Xt(t)?e[0]=t.name||Zt():Xt(t)?(e[1]=t.length,e[2]=ee(t)):G(t)&&(e[0]=$t(t),e[1]=0,e[2]="application/octet-stream"),{name:e[0],size:e[1],type:e[2]}},De=function(t){return!!(t instanceof File||t instanceof Blob&&t.name)},Se=function t(e){if(!Q(e))return e;var n=M(e)?[]:{};for(var o in e)if(e.hasOwnProperty(o)){var r=e[o];n[o]=r&&Q(r)?t(r):r}return n},Ae=function(t,e){var n=function(t,e){return k(e)?0:G(e)?t.findIndex((function(t){return t.id===e})):-1}(t,e);if(!(n<0))return t[n]||null},Re=function(t,e,n,o,r,i){var a=le(null,t,{method:"GET",responseType:"blob"});return a.onload=function(n){var o=n.getAllResponseHeaders(),r=ae(o).name||$t(t);e(de("load",n.status,Jt(n.response,r),o))},a.onerror=function(t){n(de("error",t.status,t.statusText,t.getAllResponseHeaders()))},a.onheaders=function(t){i(de("headers",t.status,null,t.getAllResponseHeaders()))},a.ontimeout=ue(n),a.onprogress=o,a.onabort=r,a},Le=function(t){return 0===t.indexOf("//")&&(t=location.protocol+t),t.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]},Ne=function(t){return function(){return X(t)?t.apply(void 0,arguments):t}},Pe=function(t,e){clearTimeout(e.listUpdateTimeout),e.listUpdateTimeout=setTimeout((function(){t("DID_UPDATE_ITEMS",{items:qt(e.items)})}),0)},xe=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return new Promise((function(e){if(!t)return e(!0);var o=t.apply(void 0,n);return null==o?e(!0):"boolean"==typeof o?e(o):void("function"==typeof o.then&&o.then(e))}))},Me=function(t,e){t.items.sort((function(t,n){return e(Tt(t),Tt(n))}))},ke=function(t,e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.query,r=n.success,i=void 0===r?function(){}:r,a=n.failure,s=void 0===a?function(){}:a,c=mt(n,["query","success","failure"]),l=Mt(t.items,o);l?e(l,i,s,c||{}):s({error:de("error",0,"Item not found"),file:null})}},qe=function(t,e,n){return{ABORT_ALL:function(){qt(n.items).forEach((function(t){t.freeze(),t.abortLoad(),t.abortProcessing()}))},DID_SET_FILES:function(e){var o=e.value,r=(void 0===o?[]:o).map((function(t){return{source:t.source?t.source:t,options:t.options}})),i=qt(n.items);i.forEach((function(e){r.find((function(t){return t.source===e.source||t.source===e.file}))||t("REMOVE_ITEM",{query:e,remove:!1})})),i=qt(n.items),r.forEach((function(e,n){i.find((function(t){return t.source===e.source||t.file===e.source}))||t("ADD_ITEM",Object.assign({},e,{interactionMethod:dt,index:n}))}))},DID_UPDATE_ITEM_METADATA:function(o){var r=o.id,i=o.action;clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout((function(){var o,a=Ae(n.items,r);if(e("IS_ASYNC")){var s=function(){setTimeout((function(){t("REQUEST_ITEM_PROCESSING",{query:r})}),32)};return a.status===Ot.PROCESSING_COMPLETE?(o=n.options.instantUpload,void a.revert(Te(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then(o?s:function(){}).catch((function(){}))):a.status===Ot.PROCESSING?function(t){a.abortProcessing().then(t?s:function(){})}(n.options.instantUpload):void(n.options.instantUpload&&s())}Rt("SHOULD_PREPARE_OUTPUT",!1,{item:a,query:e,action:i}).then((function(n){var o=e("GET_BEFORE_PREPARE_FILE");o&&(n=o(a,n)),n&&t("REQUEST_PREPARE_OUTPUT",{query:r,item:a,success:function(e){t("DID_PREPARE_OUTPUT",{id:r,file:e})}},!0)}))}),0)},MOVE_ITEM:function(t){var e=t.query,o=t.index,r=Mt(n.items,e);if(r){var i=n.items.indexOf(r);i!==(o=Wt(o,0,n.items.length-1))&&n.items.splice(o,0,n.items.splice(i,1)[0])}},SORT:function(o){var r=o.compare;Me(n,r),t("DID_SORT_ITEMS",{items:e("GET_ACTIVE_ITEMS")})},ADD_ITEMS:function(n){var o=n.items,r=n.index,i=n.interactionMethod,a=n.success,s=void 0===a?function(){}:a,c=n.failure,l=void 0===c?function(){}:c,d=r;if(-1===r||void 0===r){var u=e("GET_ITEM_INSERT_LOCATION"),p=e("GET_TOTAL_ITEMS");d="before"===u?0:p}var f=e("GET_IGNORED_FILES"),m=o.filter((function(t){return De(t)?!f.includes(t.name.toLowerCase()):!k(t)})).map((function(e){return new Promise((function(n,o){t("ADD_ITEM",{interactionMethod:i,source:e.source||e,success:n,failure:o,index:d++,options:e.options||{}})}))}));Promise.all(m).then(s).catch(l)},ADD_ITEM:function(o){var i=o.source,a=o.index,s=void 0===a?-1:a,c=o.interactionMethod,l=o.success,d=void 0===l?function(){}:l,u=o.failure,p=void 0===u?function(){}:u,f=o.options,m=void 0===f?{}:f;if(k(i))p({error:de("error",0,"No source"),file:null});else if(!De(i)||!n.options.ignoredFiles.includes(i.name.toLowerCase())){if(!function(t){var e=qt(t.items).length;if(!t.options.allowMultiple)return 0===e;var n=t.options.maxFiles;return null===n||e<n}(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){var h=de("warning",0,"Max files");return t("DID_THROW_MAX_FILES",{source:i,error:h}),void p({error:h,file:null})}var g=qt(n.items)[0];if(g.status===Ot.PROCESSING_COMPLETE||g.status===Ot.PROCESSING_REVERT_ERROR){var _=e("GET_FORCE_REVERT");if(g.revert(Te(n.options.server.url,n.options.server.revert),_).then((function(){_&&t("ADD_ITEM",{source:i,index:s,interactionMethod:c,success:d,failure:p,options:m})})).catch((function(){})),_)return}t("REMOVE_ITEM",{query:g.id})}var v="local"===m.type?wt.LOCAL:"limbo"===m.type?wt.LIMBO:wt.INPUT,E=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=ut(),i={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:e,transferId:null,processingAborted:!1,status:e?Ot.PROCESSING_COMPLETE:Ot.INIT,activeLoader:null,activeProcessor:null},a=null,s={},c=function(t){return i.status=t},l=function(t){if(!i.released&&!i.frozen){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];I.fire.apply(I,[t].concat(n))}},d=function(){return zt(i.file.name)},u=function(){return i.file.type},p=function(){return i.file.size},f=function(){return i.file},m=function(e,n,o){i.source=e,I.fireSync("init"),i.file?I.fireSync("load-skip"):(i.file=Ce(e),n.on("init",(function(){l("load-init")})),n.on("meta",(function(e){i.file.size=e.size,i.file.filename=e.filename,e.source&&(t=wt.LIMBO,i.serverFileReference=e.source,i.status=Ot.PROCESSING_COMPLETE),l("load-meta")})),n.on("progress",(function(t){c(Ot.LOADING),l("load-progress",t)})),n.on("error",(function(t){c(Ot.LOAD_ERROR),l("load-request-error",t)})),n.on("abort",(function(){c(Ot.INIT),l("load-abort")})),n.on("load",(function(e){i.activeLoader=null;var n=function(e){i.file=De(e)?e:i.file,t===wt.LIMBO&&i.serverFileReference?c(Ot.PROCESSING_COMPLETE):c(Ot.IDLE),l("load")};i.serverFileReference?n(e):o(e,n,(function(t){i.file=e,l("load-meta"),c(Ot.LOAD_ERROR),l("load-file-error",t)}))})),n.setSource(e),i.activeLoader=n,n.load())},h=function(){i.activeLoader&&i.activeLoader.load()},g=function(){i.activeLoader?i.activeLoader.abort():(c(Ot.INIT),l("load-abort"))},_=function t(e,n){if(i.processingAborted)i.processingAborted=!1;else if(c(Ot.PROCESSING),a=null,i.file instanceof Blob){e.on("load",(function(t){i.transferId=null,i.serverFileReference=t})),e.on("transfer",(function(t){i.transferId=t})),e.on("load-perceived",(function(t){i.activeProcessor=null,i.transferId=null,i.serverFileReference=t,c(Ot.PROCESSING_COMPLETE),l("process-complete",t)})),e.on("start",(function(){l("process-start")})),e.on("error",(function(t){i.activeProcessor=null,c(Ot.PROCESSING_ERROR),l("process-error",t)})),e.on("abort",(function(t){i.activeProcessor=null,i.transferId=null,i.serverFileReference=t,c(Ot.IDLE),l("process-abort"),a&&a()})),e.on("progress",(function(t){l("process-progress",t)}));var o=console.error;n(i.file,(function(t){i.archived||e.process(t,Object.assign({},s))}),o),i.activeProcessor=e}else I.on("load",(function(){t(e,n)}))},v=function(){i.processingAborted=!1,c(Ot.PROCESSING_QUEUED)},E=function(){return new Promise((function(t){if(!i.activeProcessor)return i.processingAborted=!0,c(Ot.IDLE),l("process-abort"),void t();a=function(){t()},i.activeProcessor.abort()}))},y=function(t,e){return new Promise((function(n,o){null!==i.serverFileReference?(t(i.serverFileReference,(function(){i.serverFileReference=null,n()}),(function(t){e?(c(Ot.PROCESSING_REVERT_ERROR),l("process-revert-error"),o(t)):n()})),c(Ot.IDLE),l("process-revert")):n()}))},b=function(t,e,n){var o=t.split("."),r=o[0],i=o.pop(),a=s;o.forEach((function(t){return a=a[t]})),JSON.stringify(a[i])!==JSON.stringify(e)&&(a[i]=e,n||l("metadata-update",{key:r,value:s[r]}))},T=function(t){return Se(t?s[t]:s)},I=Object.assign({id:{get:function(){return o}},origin:{get:function(){return t}},serverId:{get:function(){return i.serverFileReference}},transferId:{get:function(){return i.transferId}},status:{get:function(){return i.status}},filename:{get:function(){return i.file.name}},filenameWithoutExtension:{get:function(){return we(i.file.name)}},fileExtension:{get:d},fileType:{get:u},fileSize:{get:p},file:{get:f},relativePath:{get:function(){return i.file._relativePath}},source:{get:function(){return i.source}},getMetadata:T,setMetadata:function(t,e,n){if(Q(t)){var o=t;return Object.keys(o).forEach((function(t){b(t,o[t],e)})),t}return b(t,e,n),e},extend:function(t,e){return O[t]=e},abortLoad:g,retryLoad:h,requestProcessing:v,abortProcessing:E,load:m,process:_,revert:y},Et(),{freeze:function(){return i.frozen=!0},release:function(){return i.released=!0},released:{get:function(){return i.released}},archive:function(){return i.archived=!0},archived:{get:function(){return i.archived}}}),O=r(I);return O}(v,v===wt.INPUT?null:i,m.file);Object.keys(m.metadata||{}).forEach((function(t){E.setMetadata(t,m.metadata[t])})),Lt("DID_CREATE_ITEM",E,{query:e,dispatch:t});var y=e("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(s="before"===y?-1:n.items.length),function(t,e,n){k(e)||(void 0===n?t.push(e):function(t,e,n){t.splice(e,0,n)}(t,n=Wt(n,0,t.length),e))}(n.items,E,s),X(y)&&i&&Me(n,y);var b=E.id;E.on("init",(function(){t("DID_INIT_ITEM",{id:b})})),E.on("load-init",(function(){t("DID_START_ITEM_LOAD",{id:b})})),E.on("load-meta",(function(){t("DID_UPDATE_ITEM_META",{id:b})})),E.on("load-progress",(function(e){t("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:b,progress:e})})),E.on("load-request-error",(function(e){var o=Ne(n.options.labelFileLoadError)(e);if(e.code>=400&&e.code<500)return t("DID_THROW_ITEM_INVALID",{id:b,error:e,status:{main:o,sub:e.code+" ("+e.body+")"}}),void p({error:e,file:Tt(E)});t("DID_THROW_ITEM_LOAD_ERROR",{id:b,error:e,status:{main:o,sub:n.options.labelTapToRetry}})})),E.on("load-file-error",(function(e){t("DID_THROW_ITEM_INVALID",{id:b,error:e.status,status:e.status}),p({error:e.status,file:Tt(E)})})),E.on("load-abort",(function(){t("REMOVE_ITEM",{query:b})})),E.on("load-skip",(function(){t("COMPLETE_LOAD_ITEM",{query:b,item:E,data:{source:i,success:d}})})),E.on("load",(function(){var o=function(o){o?(E.on("metadata-update",(function(e){t("DID_UPDATE_ITEM_METADATA",{id:b,change:e})})),Rt("SHOULD_PREPARE_OUTPUT",!1,{item:E,query:e}).then((function(o){var r=e("GET_BEFORE_PREPARE_FILE");r&&(o=r(E,o));var a=function(){t("COMPLETE_LOAD_ITEM",{query:b,item:E,data:{source:i,success:d}}),Pe(t,n)};o?t("REQUEST_PREPARE_OUTPUT",{query:b,item:E,success:function(e){t("DID_PREPARE_OUTPUT",{id:b,file:e}),a()}},!0):a()}))):t("REMOVE_ITEM",{query:b})};Rt("DID_LOAD_ITEM",E,{query:e,dispatch:t}).then((function(){xe(e("GET_BEFORE_ADD_FILE"),Tt(E)).then(o)})).catch((function(){o(!1)}))})),E.on("process-start",(function(){t("DID_START_ITEM_PROCESSING",{id:b})})),E.on("process-progress",(function(e){t("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:b,progress:e})})),E.on("process-error",(function(e){t("DID_THROW_ITEM_PROCESSING_ERROR",{id:b,error:e,status:{main:Ne(n.options.labelFileProcessingError)(e),sub:n.options.labelTapToRetry}})})),E.on("process-revert-error",(function(e){t("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:b,error:e,status:{main:Ne(n.options.labelFileProcessingRevertError)(e),sub:n.options.labelTapToRetry}})})),E.on("process-complete",(function(e){t("DID_COMPLETE_ITEM_PROCESSING",{id:b,error:null,serverFileReference:e}),t("DID_DEFINE_VALUE",{id:b,value:e})})),E.on("process-abort",(function(){t("DID_ABORT_ITEM_PROCESSING",{id:b})})),E.on("process-revert",(function(){t("DID_REVERT_ITEM_PROCESSING",{id:b}),t("DID_DEFINE_VALUE",{id:b,value:null})})),t("DID_ADD_ITEM",{id:b,index:s,interactionMethod:c}),Pe(t,n);var T=n.options.server||{},I=T.url,O=T.load,w=T.restore,C=T.fetch;E.load(i,se(v===wt.INPUT?G(i)&&function(t){return(t.indexOf(":")>-1||t.indexOf("//")>-1)&&Le(location.href)!==Le(t)}(i)&&C?me(I,C):Re:me(I,v===wt.LIMBO?w:O)),(function(t,n,o){Rt("LOAD_FILE",t,{query:e}).then(n).catch(o)}))}},REQUEST_PREPARE_OUTPUT:function(t){var n=t.item,o=t.success,r=t.failure,i=void 0===r?function(){}:r,a={error:de("error",0,"Item not found"),file:null};if(n.archived)return i(a);Rt("PREPARE_OUTPUT",n.file,{query:e,item:n}).then((function(t){Rt("COMPLETE_PREPARE_OUTPUT",t,{query:e,item:n}).then((function(t){if(n.archived)return i(a);o(t)}))}))},COMPLETE_LOAD_ITEM:function(o){var r=o.item,i=o.data,a=i.success,s=i.source,c=e("GET_ITEM_INSERT_LOCATION");if(X(c)&&s&&Me(n,c),t("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.origin===wt.INPUT?null:s}),a(Tt(r)),r.origin!==wt.LOCAL)return r.origin===wt.LIMBO?(t("DID_COMPLETE_ITEM_PROCESSING",{id:r.id,error:null,serverFileReference:s}),void t("DID_DEFINE_VALUE",{id:r.id,value:s})):void(e("IS_ASYNC")&&n.options.instantUpload&&t("REQUEST_ITEM_PROCESSING",{query:r.id}));t("DID_LOAD_LOCAL_ITEM",{id:r.id})},RETRY_ITEM_LOAD:ke(n,(function(t){t.retryLoad()})),REQUEST_ITEM_PREPARE:ke(n,(function(e,n,o){t("REQUEST_PREPARE_OUTPUT",{query:e.id,item:e,success:function(o){t("DID_PREPARE_OUTPUT",{id:e.id,file:o}),n({file:e,output:o})},failure:o},!0)})),REQUEST_ITEM_PROCESSING:ke(n,(function(o,r,i){if(o.status===Ot.IDLE||o.status===Ot.PROCESSING_ERROR)o.status!==Ot.PROCESSING_QUEUED&&(o.requestProcessing(),t("DID_REQUEST_ITEM_PROCESSING",{id:o.id}),t("PROCESS_ITEM",{query:o,success:r,failure:i},!0));else{var a=function(){return t("REQUEST_ITEM_PROCESSING",{query:o,success:r,failure:i})},s=function(){return document.hidden?a():setTimeout(a,32)};o.status===Ot.PROCESSING_COMPLETE||o.status===Ot.PROCESSING_REVERT_ERROR?o.revert(Te(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then(s).catch((function(){})):o.status===Ot.PROCESSING&&o.abortProcessing().then(s)}})),PROCESS_ITEM:ke(n,(function(o,r,i){var a=e("GET_MAX_PARALLEL_UPLOADS");if(e("GET_ITEMS_BY_STATUS",Ot.PROCESSING).length!==a){if(o.status!==Ot.PROCESSING){var s=function e(){var o=n.processingQueue.shift();if(o){var r=o.id,i=o.success,a=o.failure,s=Mt(n.items,r);s&&!s.archived?t("PROCESS_ITEM",{query:r,success:i,failure:a},!0):e()}};o.onOnce("process-complete",(function(){r(Tt(o)),s(),e("GET_ITEMS_BY_STATUS",Ot.PROCESSING_COMPLETE).length===n.items.length&&t("DID_COMPLETE_ITEM_PROCESSING_ALL")})),o.onOnce("process-error",(function(t){i({error:t,file:Tt(o)}),s()}));var c=n.options;o.process(Oe(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return"function"==typeof e?function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.apply(void 0,[n].concat(r,[o]))}:e&&G(e.url)?be(t,e,n,o):null}(c.server.url,c.server.process,c.name,{chunkTransferId:o.transferId,chunkServer:c.server.patch,chunkUploads:c.chunkUploads,chunkForce:c.chunkForce,chunkSize:c.chunkSize,chunkRetryDelays:c.chunkRetryDelays})),(function(n,r,i){Rt("PREPARE_OUTPUT",n,{query:e,item:o}).then((function(e){t("DID_PREPARE_OUTPUT",{id:o.id,file:e}),r(e)})).catch(i)}))}}else n.processingQueue.push({id:o.id,success:r,failure:i})})),RETRY_ITEM_PROCESSING:ke(n,(function(e){t("REQUEST_ITEM_PROCESSING",{query:e})})),REQUEST_REMOVE_ITEM:ke(n,(function(n){xe(e("GET_BEFORE_REMOVE_FILE"),Tt(n)).then((function(e){e&&t("REMOVE_ITEM",{query:n})}))})),RELEASE_ITEM:ke(n,(function(t){t.release()})),REMOVE_ITEM:ke(n,(function(o,r,i,a){var s=function(){var e=o.id;Ae(n.items,e).archive(),t("DID_REMOVE_ITEM",{error:null,id:e,item:o}),Pe(t,n),r(Tt(o))},c=n.options.server;o.origin===wt.LOCAL&&c&&X(c.remove)&&!1!==a.remove?(t("DID_START_ITEM_REMOVE",{id:o.id}),c.remove(o.source,(function(){return s()}),(function(e){t("DID_THROW_ITEM_REMOVE_ERROR",{id:o.id,error:de("error",0,e,null),status:{main:Ne(n.options.labelFileRemoveError)(e),sub:n.options.labelTapToRetry}})}))):(a.revert&&o.origin!==wt.LOCAL&&null!==o.serverId&&o.revert(Te(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")),s())})),ABORT_ITEM_LOAD:ke(n,(function(t){t.abortLoad()})),ABORT_ITEM_PROCESSING:ke(n,(function(e){e.serverId?t("REVERT_ITEM_PROCESSING",{id:e.id}):e.abortProcessing().then((function(){n.options.instantUpload&&t("REMOVE_ITEM",{query:e.id})}))})),REQUEST_REVERT_ITEM_PROCESSING:ke(n,(function(o){if(n.options.instantUpload){var r=function(e){e&&t("REVERT_ITEM_PROCESSING",{query:o})},i=e("GET_BEFORE_REMOVE_FILE");if(!i)return r(!0);var a=i(Tt(o));return null==a?r(!0):"boolean"==typeof a?r(a):void("function"==typeof a.then&&a.then(r))}t("REVERT_ITEM_PROCESSING",{query:o})})),REVERT_ITEM_PROCESSING:ke(n,(function(o){o.revert(Te(n.options.server.url,n.options.server.revert),e("GET_FORCE_REVERT")).then((function(){(n.options.instantUpload||function(t){return!De(t.file)}(o))&&t("REMOVE_ITEM",{query:o.id})})).catch((function(){}))})),SET_OPTIONS:function(e){var n=e.options;o(n,(function(e,n){t("SET_"+nt(e,"_").toUpperCase(),{value:n})}))}}},Fe=function(t){return document.createElement(t)},je=function(t,e){var n=t.childNodes[0];n?e!==n.nodeValue&&(n.nodeValue=e):(n=document.createTextNode(e),t.appendChild(n))},Be=function(t,e,n,o){var r=(o%360-90)*Math.PI/180;return{x:t+n*Math.cos(r),y:e+n*Math.sin(r)}},Ge=function(t,e,n,o,r){var i=1;return r>o&&r-o<=.5&&(i=0),o>r&&o-r>=.5&&(i=0),function(t,e,n,o,r,i){var a=Be(t,e,n,r),s=Be(t,e,n,o);return["M",a.x,a.y,"A",n,n,0,i,0,s.x,s.y].join(" ")}(t,e,n,360*Math.min(.9999,o),360*Math.min(.9999,r),i)},Ue=L({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:function(t){var e=t.root,n=t.props;n.spin=!1,n.progress=0,n.opacity=0;var o=l("svg");e.ref.path=l("path",{"stroke-width":2,"stroke-linecap":"round"}),o.appendChild(e.ref.path),e.ref.svg=o,e.appendChild(o)},write:function(t){var e=t.root,n=t.props;if(0!==n.opacity){n.align&&(e.element.dataset.align=n.align);var o=parseInt(i(e.ref.path,"stroke-width"),10),r=.5*e.rect.element.width,a=0,s=0;n.spin?(a=0,s=.5):(a=0,s=n.progress);var c=Ge(r,r,r-o,a,s);i(e.ref.path,"d",c),i(e.ref.path,"stroke-opacity",n.spin||n.progress>0?1:0)}},mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),Ye=L({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:function(t){var e=t.root,n=t.props;e.element.innerHTML=(n.icon||"")+"<span>"+n.label+"</span>",n.isDisabled=!1},write:function(t){var e=t.root,n=t.props,o=n.isDisabled,r=e.query("GET_DISABLED")||0===n.opacity;r&&!o?(n.isDisabled=!0,i(e.element,"disabled","disabled")):!r&&o&&(n.isDisabled=!1,e.element.removeAttribute("disabled"))}}),He=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,o=n,r=n*n,i=n*n*n;return(t=Math.round(Math.abs(t)))<o?t+" bytes":t<r?Math.floor(t/o)+" KB":t<i?Ve(t/r,1,e)+" MB":Ve(t/i,2,e)+" GB"},Ve=function(t,e,n){return t.toFixed(e).split(".").filter((function(t){return"0"!==t})).join(n)},We=function(t){var e=t.root,n=t.props;je(e.ref.fileSize,He(e.query("GET_ITEM_SIZE",n.id),".",e.query("GET_FILE_SIZE_BASE"))),je(e.ref.fileName,e.query("GET_ITEM_NAME",n.id))},Xe=function(t){var e=t.root,n=t.props;V(e.query("GET_ITEM_SIZE",n.id))||je(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},$e=L({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:N({DID_LOAD_ITEM:We,DID_UPDATE_ITEM_META:We,DID_THROW_ITEM_LOAD_ERROR:Xe,DID_THROW_ITEM_INVALID:Xe}),didCreateView:function(t){Lt("CREATE_VIEW",Object.assign({},t,{view:t}))},create:function(t){var e=t.root,n=t.props,o=Fe("span");o.className="filepond--file-info-main",i(o,"aria-hidden","true"),e.appendChild(o),e.ref.fileName=o;var r=Fe("span");r.className="filepond--file-info-sub",e.appendChild(r),e.ref.fileSize=r,je(r,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),je(o,e.query("GET_ITEM_NAME",n.id))},mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),ze=function(t){return Math.round(100*t)},Qe=function(t){var e=t.root,n=t.action,o=null===n.progress?e.query("GET_LABEL_FILE_LOADING"):e.query("GET_LABEL_FILE_LOADING")+" "+ze(n.progress)+"%";je(e.ref.main,o),je(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},Ke=function(t){var e=t.root;je(e.ref.main,""),je(e.ref.sub,"")},Ze=function(t){var e=t.root,n=t.action;je(e.ref.main,n.status.main),je(e.ref.sub,n.status.sub)},Je=L({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:N({DID_LOAD_ITEM:Ke,DID_REVERT_ITEM_PROCESSING:Ke,DID_REQUEST_ITEM_PROCESSING:function(t){var e=t.root;je(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),je(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},DID_ABORT_ITEM_PROCESSING:function(t){var e=t.root;je(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),je(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},DID_COMPLETE_ITEM_PROCESSING:function(t){var e=t.root;je(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),je(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(t){var e=t.root,n=t.action,o=null===n.progress?e.query("GET_LABEL_FILE_PROCESSING"):e.query("GET_LABEL_FILE_PROCESSING")+" "+ze(n.progress)+"%";je(e.ref.main,o),je(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},DID_UPDATE_ITEM_LOAD_PROGRESS:Qe,DID_THROW_ITEM_LOAD_ERROR:Ze,DID_THROW_ITEM_INVALID:Ze,DID_THROW_ITEM_PROCESSING_ERROR:Ze,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Ze,DID_THROW_ITEM_REMOVE_ERROR:Ze}),didCreateView:function(t){Lt("CREATE_VIEW",Object.assign({},t,{view:t}))},create:function(t){var e=t.root,n=Fe("span");n.className="filepond--file-status-main",e.appendChild(n),e.ref.main=n;var o=Fe("span");o.className="filepond--file-status-sub",e.appendChild(o),e.ref.sub=o,Qe({root:e,action:{progress:null}})},mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),tn={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},en=[];o(tn,(function(t){en.push(t)}));var nn,on=function(t){var e=t.ref.buttonRemoveItem.rect.element;return e.hidden?null:e.width+e.left},rn=function(t){return t.ref.buttonAbortItemLoad.rect.element.width},an=function(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.height/4)},sn=function(t){return Math.floor(t.ref.buttonRemoveItem.rect.element.left/2)},cn=function(t){return t.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION")},ln={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:function(t){return t.query("GET_STYLE_LOAD_INDICATOR_POSITION")}},processProgressIndicator:{opacity:0,align:function(t){return t.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},dn={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:on},status:{translateX:on}},un={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},pn={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:on},status:{translateX:on,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:on},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:cn},info:{translateX:on},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:cn},buttonRemoveItem:{opacity:1},info:{translateX:on},status:{opacity:1,translateX:on}},DID_LOAD_ITEM:dn,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:on},status:{translateX:on}},DID_START_ITEM_PROCESSING:un,DID_REQUEST_ITEM_PROCESSING:un,DID_UPDATE_ITEM_PROCESS_PROGRESS:un,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:on}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:on},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:dn},fn=L({create:function(t){var e=t.root;e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),mn=N({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:function(t){var e=t.root,n=t.action;e.ref.buttonAbortItemProcessing.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:function(t){var e=t.root,n=t.action;e.ref.buttonAbortItemLoad.label=n.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:function(t){var e=t.root,n=t.action;e.ref.buttonAbortItemRemoval.label=n.value},DID_REQUEST_ITEM_PROCESSING:function(t){var e=t.root;e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:function(t){var e=t.root;e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:function(t){var e=t.root;e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:function(t){var e=t.root,n=t.action;e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=n.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:function(t){var e=t.root,n=t.action;e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=n.progress}}),hn=L({create:function(t){var e,n=t.root,r=t.props.id,i=n.query("GET_ALLOW_REVERT"),a=n.query("GET_ALLOW_REMOVE"),s=n.query("GET_ALLOW_PROCESS"),c=n.query("GET_INSTANT_UPLOAD"),l=n.query("IS_ASYNC"),d=n.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");l?s&&!i?e=function(t){return!/RevertItemProcessing/.test(t)}:!s&&i?e=function(t){return!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(t)}:s||i||(e=function(t){return!/Process/.test(t)}):e=function(t){return!/Process/.test(t)};var u=e?en.filter(e):en.concat();if(c&&i&&(tn.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",tn.RevertItemProcessing.icon="GET_ICON_REMOVE"),l&&!i){var p=pn.DID_COMPLETE_ITEM_PROCESSING;p.info.translateX=sn,p.info.translateY=an,p.status.translateY=an,p.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(l&&!s&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach((function(t){pn[t].status.translateY=an})),pn.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=rn),d&&i){tn.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";var f=pn.DID_COMPLETE_ITEM_PROCESSING;f.info.translateX=on,f.status.translateY=an,f.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}a||(tn.RemoveItem.disabled=!0),o(tn,(function(t,e){var o=n.createChildView(Ye,{label:n.query(e.label),icon:n.query(e.icon),opacity:0});u.includes(t)&&n.appendChildView(o),e.disabled&&(o.element.setAttribute("disabled","disabled"),o.element.setAttribute("hidden","hidden")),o.element.dataset.align=n.query("GET_STYLE_"+e.align),o.element.classList.add(e.className),o.on("click",(function(t){t.stopPropagation(),e.disabled||n.dispatch(e.action,{query:r})})),n.ref["button"+t]=o})),n.ref.processingCompleteIndicator=n.appendChildView(n.createChildView(fn)),n.ref.processingCompleteIndicator.element.dataset.align=n.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),n.ref.info=n.appendChildView(n.createChildView($e,{id:r})),n.ref.status=n.appendChildView(n.createChildView(Je,{id:r}));var m=n.appendChildView(n.createChildView(Ue,{opacity:0,align:n.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));m.element.classList.add("filepond--load-indicator"),n.ref.loadProgressIndicator=m;var h=n.appendChildView(n.createChildView(Ue,{opacity:0,align:n.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));h.element.classList.add("filepond--process-indicator"),n.ref.processProgressIndicator=h,n.ref.activeStyles=[]},write:function(t){var e=t.root,n=t.actions,r=t.props;mn({root:e,actions:n,props:r});var i=n.concat().filter((function(t){return/^DID_/.test(t.type)})).reverse().find((function(t){return pn[t.type]}));if(i){e.ref.activeStyles=[];var a=pn[i.type];o(ln,(function(t,n){var r=e.ref[t];o(n,(function(n,o){var i=a[t]&&void 0!==a[t][n]?a[t][n]:o;e.ref.activeStyles.push({control:r,key:n,value:i})}))}))}e.ref.activeStyles.forEach((function(t){var n=t.control,o=t.key,r=t.value;n[o]="function"==typeof r?r(e):r}))},didCreateView:function(t){Lt("CREATE_VIEW",Object.assign({},t,{view:t}))},name:"file"}),gn=L({create:function(t){var e=t.root,n=t.props;e.ref.fileName=Fe("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(hn,{id:n.id})),e.ref.data=!1},ignoreRect:!0,write:N({DID_LOAD_ITEM:function(t){var e=t.root,n=t.props;je(e.ref.fileName,e.query("GET_ITEM_NAME",n.id))}}),didCreateView:function(t){Lt("CREATE_VIEW",Object.assign({},t,{view:t}))},tag:"fieldset",name:"file-wrapper"}),_n={type:"spring",damping:.6,mass:7},vn=function(t,e,n){var o=L({name:"panel-"+e.name+" filepond--"+n,mixins:e.mixins,ignoreRectUpdate:!0}),r=t.createChildView(o,e.props);t.ref[e.name]=t.appendChildView(r)},En=L({name:"panel",read:function(t){var e=t.root;return t.props.heightCurrent=e.ref.bottom.translateY},write:function(t){var e=t.root,n=t.props;if(null!==e.ref.scalable&&n.scalable===e.ref.scalable||(e.ref.scalable=!j(n.scalable)||n.scalable,e.element.dataset.scalable=e.ref.scalable),n.height){var o=e.ref.top.rect.element,r=e.ref.bottom.rect.element,i=Math.max(o.height+r.height,n.height);e.ref.center.translateY=o.height,e.ref.center.scaleY=(i-o.height-r.height)/100,e.ref.bottom.translateY=i-r.height}},create:function(t){var e=t.root,n=t.props;[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:_n},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:_n},styles:["translateY"]}}].forEach((function(t){vn(e,t,n.name)})),e.element.classList.add("filepond--"+n.name),e.ref.scalable=null},ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),yn={type:"spring",stiffness:.75,damping:.45,mass:10},bn="spring",Tn={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},In=N({DID_UPDATE_PANEL_HEIGHT:function(t){var e=t.root,n=t.action;e.height=n.height}}),On=N({DID_GRAB_ITEM:function(t){var e=t.root;t.props.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:function(t){t.root.element.dataset.dragState="drag"},DID_DROP_ITEM:function(t){var e=t.root,n=t.props;n.dragOffset=null,n.dragOrigin=null,e.element.dataset.dragState="drop"}},(function(t){var e=t.root,n=t.actions,o=t.props,r=t.shouldOptimize;"drop"===e.element.dataset.dragState&&e.scaleX<=1&&(e.element.dataset.dragState="idle");var i=n.concat().filter((function(t){return/^DID_/.test(t.type)})).reverse().find((function(t){return Tn[t.type]}));i&&i.type!==o.currentState&&(o.currentState=i.type,e.element.dataset.filepondItemState=Tn[o.currentState]||"");var a=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");a?r||(e.height=e.rect.element.width*a):(In({root:e,actions:n,props:o}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),r&&(e.ref.panel.height=null),e.ref.panel.height=e.height})),wn=L({create:function(t){var e=t.root,n=t.props;if(e.ref.handleClick=function(t){return e.dispatch("DID_ACTIVATE_ITEM",{id:n.id})},e.element.id="filepond--item-"+n.id,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(gn,{id:n.id})),e.ref.panel=e.appendChildView(e.createChildView(En,{name:"item-panel"})),e.ref.panel.height=null,n.markedForRemoval=!1,e.query("GET_ALLOW_REORDER")){e.element.dataset.dragState="idle";e.element.addEventListener("pointerdown",(function(t){if(t.isPrimary){var o=!1,r={x:t.pageX,y:t.pageY};n.dragOrigin={x:e.translateX,y:e.translateY},n.dragCenter={x:t.offsetX,y:t.offsetY};var i=(s=e.query("GET_ACTIVE_ITEMS"),c=s.map((function(t){return t.id})),l=void 0,{setIndex:function(t){l=t},getIndex:function(){return l},getItemIndex:function(t){return c.indexOf(t.id)}});e.dispatch("DID_GRAB_ITEM",{id:n.id,dragState:i});var a=function(t){t.isPrimary&&(t.stopPropagation(),t.preventDefault(),n.dragOffset={x:t.pageX-r.x,y:t.pageY-r.y},n.dragOffset.x*n.dragOffset.x+n.dragOffset.y*n.dragOffset.y>16&&!o&&(o=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:n.id,dragState:i}))};document.addEventListener("pointermove",a),document.addEventListener("pointerup",(function t(s){s.isPrimary&&(document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",t),n.dragOffset={x:s.pageX-r.x,y:s.pageY-r.y},e.dispatch("DID_DROP_ITEM",{id:n.id,dragState:i}),o&&setTimeout((function(){return e.element.addEventListener("click",e.ref.handleClick)}),0))}))}var s,c,l}))}},write:On,destroy:function(t){var e=t.root,n=t.props;e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:n.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:bn,scaleY:bn,translateX:yn,translateY:yn,opacity:{type:"tween",duration:150}}}}),Cn=function(t,e,n){if(n){var o=t.rect.element.width,r=e.length,i=null;if(0===r||n.top<e[0].rect.element.top)return-1;var a=e[0].rect.element,s=a.marginLeft+a.marginRight,c=a.width+s,l=Math.round(o/c);if(1===l){for(var d=0;d<r;d++){var u=e[d],p=u.rect.outer.top+.5*u.rect.element.height;if(n.top<p)return d}return r}for(var f=a.marginTop+a.marginBottom,m=a.height+f,h=0;h<r;h++){var g=h%l*c,_=Math.floor(h/l)*m,v=_-a.marginTop,E=g+c,y=_+m+a.marginBottom;if(n.top<y&&n.top>v){if(n.left<E)return h;i=h!==r-1?h:null}}return null!==i?i:r}},Dn={height:0,width:0,get getHeight(){return this.height},set setHeight(t){0!==this.height&&0!==t||(this.height=t)},get getWidth(){return this.width},set setWidth(t){0!==this.width&&0!==t||(this.width=t)},setDimensions:function(t,e){0!==this.height&&0!==t||(this.height=t),0!==this.width&&0!==e||(this.width=e)}},Sn=function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;t.dragOffset?(t.translateX=null,t.translateY=null,t.translateX=t.dragOrigin.x+t.dragOffset.x,t.translateY=t.dragOrigin.y+t.dragOffset.y,t.scaleX=1.025,t.scaleY=1.025):(t.translateX=e,t.translateY=n,Date.now()>t.spawnDate&&(0===t.opacity&&An(t,e,n,o,r),t.scaleX=1,t.scaleY=1,t.opacity=1))},An=function(t,e,n,o,r){t.interactionMethod===dt?(t.translateX=null,t.translateX=e,t.translateY=null,t.translateY=n):t.interactionMethod===st?(t.translateX=null,t.translateX=e-20*o,t.translateY=null,t.translateY=n-10*r,t.scaleX=.8,t.scaleY=.8):t.interactionMethod===ct?(t.translateY=null,t.translateY=n-30):t.interactionMethod===at&&(t.translateX=null,t.translateX=e-30,t.translateY=null)},Rn=function(t){return t.rect.element.height+.5*t.rect.element.marginBottom+.5*t.rect.element.marginTop},Ln=N({DID_ADD_ITEM:function(t){var e=t.root,n=t.action,o=n.id,r=n.index,i=n.interactionMethod;e.ref.addIndex=r;var a=Date.now(),s=a,c=1;if(i!==dt){c=0;var l=e.query("GET_ITEM_INSERT_INTERVAL"),d=a-e.ref.lastItemSpanwDate;s=d<l?a+(l-d):a}e.ref.lastItemSpanwDate=s,e.appendChildView(e.createChildView(wn,{spawnDate:s,id:o,opacity:c,interactionMethod:i}),r)},DID_REMOVE_ITEM:function(t){var e=t.root,n=t.action.id,o=e.childViews.find((function(t){return t.id===n}));o&&(o.scaleX=.9,o.scaleY=.9,o.opacity=0,o.markedForRemoval=!0)},DID_DRAG_ITEM:function(t){var e,n=t.root,o=t.action,r=o.id,i=o.dragState,a=n.query("GET_ITEM",{id:r}),s=n.childViews.find((function(t){return t.id===r})),c=n.childViews.length,l=i.getItemIndex(a);if(s){var d={x:s.dragOrigin.x+s.dragOffset.x+s.dragCenter.x,y:s.dragOrigin.y+s.dragOffset.y+s.dragCenter.y},u=Rn(s),p=(e=s).rect.element.width+.5*e.rect.element.marginLeft+.5*e.rect.element.marginRight,f=Math.floor(n.rect.outer.width/p);f>c&&(f=c);var m=Math.floor(c/f+1);Dn.setHeight=u*m,Dn.setWidth=p*f;var h={y:Math.floor(d.y/u),x:Math.floor(d.x/p),getGridIndex:function(){return d.y>Dn.getHeight||d.y<0||d.x>Dn.getWidth||d.x<0?l:this.y*f+this.x},getColIndex:function(){for(var t=n.query("GET_ACTIVE_ITEMS"),e=n.childViews.filter((function(t){return t.rect.element.height})),o=t.map((function(t){return e.find((function(e){return e.id===t.id}))})),r=o.findIndex((function(t){return t===s})),i=Rn(s),a=o.length,c=a,l=0,u=0,p=0;p<a;p++)if(l=(u=l)+Rn(o[p]),d.y<l){if(r>p){if(d.y<u+i){c=p;break}continue}c=p;break}return c}},g=f>1?h.getGridIndex():h.getColIndex();n.dispatch("MOVE_ITEM",{query:s,index:g});var _=i.getIndex();if(void 0===_||_!==g){if(i.setIndex(g),void 0===_)return;n.dispatch("DID_REORDER_ITEMS",{items:n.query("GET_ACTIVE_ITEMS"),origin:l,target:g})}}}}),Nn=L({create:function(t){var e=t.root;i(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},write:function(t){var e=t.root,n=t.props,o=t.actions,r=t.shouldOptimize;Ln({root:e,props:n,actions:o});var i=n.dragCoordinates,a=e.rect.element.width,s=e.childViews.filter((function(t){return t.rect.element.height})),c=e.query("GET_ACTIVE_ITEMS").map((function(t){return s.find((function(e){return e.id===t.id}))})).filter((function(t){return t})),l=i?Cn(e,c,i):null,d=e.ref.addIndex||null;e.ref.addIndex=null;var u=0,p=0,f=0;if(0!==c.length){var m=c[0].rect.element,h=m.marginTop+m.marginBottom,g=m.marginLeft+m.marginRight,_=m.width+g,v=m.height+h,E=Math.round(a/_);if(1===E){var y=0,b=0;c.forEach((function(t,e){if(l){var n=e-l;b=-2===n?.25*-h:-1===n?.75*-h:0===n?.75*h:1===n?.25*h:0}r&&(t.translateX=null,t.translateY=null),t.markedForRemoval||Sn(t,0,y+b);var o=(t.rect.element.height+h)*(t.markedForRemoval?t.opacity:1);y+=o}))}else{var T=0,I=0;c.forEach((function(t,e){e===l&&(u=1),e===d&&(f+=1),t.markedForRemoval&&t.opacity<.5&&(p-=1);var n=e+f+u+p,o=n%E,i=Math.floor(n/E),a=o*_,s=i*v,c=Math.sign(a-T),m=Math.sign(s-I);T=a,I=s,t.markedForRemoval||(r&&(t.translateX=null,t.translateY=null),Sn(t,a,s,c,m))}))}}},tag:"ul",name:"list",didWriteView:function(t){var e=t.root;e.childViews.filter((function(t){return t.markedForRemoval&&0===t.opacity&&t.resting})).forEach((function(t){t._destroy(),e.removeChildView(t)}))},filterFrameActionsForChild:function(t,e){return e.filter((function(e){return!e.data||!e.data.id||t.id===e.data.id}))},mixins:{apis:["dragCoordinates"]}}),Pn=N({DID_DRAG:function(t){var e=t.root,n=t.props,o=t.action;e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(n.dragCoordinates={left:o.position.scopeLeft-e.ref.list.rect.element.left,top:o.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},DID_END_DRAG:function(t){t.props.dragCoordinates=null}}),xn=L({create:function(t){var e=t.root,n=t.props;e.ref.list=e.appendChildView(e.createChildView(Nn)),n.dragCoordinates=null,n.overflowing=!1},write:function(t){var e=t.root,n=t.props,o=t.actions;if(Pn({root:e,props:n,actions:o}),e.ref.list.dragCoordinates=n.dragCoordinates,n.overflowing&&!n.overflow&&(n.overflowing=!1,e.element.dataset.state="",e.height=null),n.overflow){var r=Math.round(n.overflow);r!==e.height&&(n.overflowing=!0,e.element.dataset.state="overflow",e.height=r)}},name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),Mn=function(t,e,n){n?i(t,e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:""):t.removeAttribute(e)},kn=function(t){var e=t.root,n=t.action;e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&Mn(e.element,"accept",!!n.value,n.value?n.value.join(","):"")},qn=function(t){var e=t.root,n=t.action;Mn(e.element,"multiple",n.value)},Fn=function(t){var e=t.root,n=t.action;Mn(e.element,"webkitdirectory",n.value)},jn=function(t){var e=t.root,n=e.query("GET_DISABLED"),o=e.query("GET_ALLOW_BROWSE"),r=n||!o;Mn(e.element,"disabled",r)},Bn=function(t){var e=t.root;t.action.value?0===e.query("GET_TOTAL_ITEMS")&&Mn(e.element,"required",!0):Mn(e.element,"required",!1)},Gn=function(t){var e=t.root,n=t.action;Mn(e.element,"capture",!!n.value,!0===n.value?"":n.value)},Un=function(t){var e=t.root,n=e.element;e.query("GET_TOTAL_ITEMS")>0?(Mn(n,"required",!1),Mn(n,"name",!1)):(Mn(n,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&n.setCustomValidity(""),e.query("GET_REQUIRED")&&Mn(n,"required",!0))},Yn=L({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:function(t){var e=t.root,n=t.props;e.element.id="filepond--browser-"+n.id,i(e.element,"name",e.query("GET_NAME")),i(e.element,"aria-controls","filepond--assistant-"+n.id),i(e.element,"aria-labelledby","filepond--drop-label-"+n.id),kn({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),qn({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),Fn({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),jn({root:e}),Bn({root:e,action:{value:e.query("GET_REQUIRED")}}),Gn({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=function(t){if(e.element.value){var o=Array.from(e.element.files).map((function(t){return t._relativePath=t.webkitRelativePath,t}));setTimeout((function(){n.onload(o),function(t){if(t&&""!==t.value){try{t.value=""}catch(t){}if(t.value){var e=Fe("form"),n=t.parentNode,o=t.nextSibling;e.appendChild(t),e.reset(),o?n.insertBefore(t,o):n.appendChild(t)}}}(e.element)}),250)}},e.element.addEventListener("change",e.ref.handleChange)},destroy:function(t){var e=t.root;e.element.removeEventListener("change",e.ref.handleChange)},write:N({DID_LOAD_ITEM:Un,DID_REMOVE_ITEM:Un,DID_THROW_ITEM_INVALID:function(t){var e=t.root;e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},DID_SET_DISABLED:jn,DID_SET_ALLOW_BROWSE:jn,DID_SET_ALLOW_DIRECTORIES_ONLY:Fn,DID_SET_ALLOW_MULTIPLE:qn,DID_SET_ACCEPTED_FILE_TYPES:kn,DID_SET_CAPTURE_METHOD:Gn,DID_SET_REQUIRED:Bn})}),Hn=13,Vn=32,Wn=function(t,e){t.innerHTML=e;var n=t.querySelector(".filepond--label-action");return n&&i(n,"tabindex","0"),e},Xn=L({name:"drop-label",ignoreRect:!0,create:function(t){var e=t.root,n=t.props,o=Fe("label");i(o,"for","filepond--browser-"+n.id),i(o,"id","filepond--drop-label-"+n.id),i(o,"aria-hidden","true"),e.ref.handleKeyDown=function(t){(t.keyCode===Hn||t.keyCode===Vn)&&(t.preventDefault(),e.ref.label.click())},e.ref.handleClick=function(t){t.target===o||o.contains(t.target)||e.ref.label.click()},o.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),Wn(o,n.caption),e.appendChild(o),e.ref.label=o},destroy:function(t){var e=t.root;e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:N({DID_SET_LABEL_IDLE:function(t){var e=t.root,n=t.action;Wn(e.ref.label,n.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),$n=L({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),zn=N({DID_DRAG:function(t){var e=t.root,n=t.action;e.ref.blob?(e.ref.blob.translateX=n.position.scopeLeft,e.ref.blob.translateY=n.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1):function(t){var e=t.root,n=.5*e.rect.element.width,o=.5*e.rect.element.height;e.ref.blob=e.appendChildView(e.createChildView($n,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:n,translateY:o}))}({root:e})},DID_DROP:function(t){var e=t.root;e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},DID_END_DRAG:function(t){var e=t.root;e.ref.blob&&(e.ref.blob.opacity=0)}}),Qn=L({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:function(t){var e=t.root,n=t.props,o=t.actions;zn({root:e,props:n,actions:o});var r=e.ref.blob;0===o.length&&r&&0===r.opacity&&(e.removeChildView(r),e.ref.blob=null)}}),Kn=function(t,e){return t.ref.fields[e]},Zn=function(t){t.query("GET_ACTIVE_ITEMS").forEach((function(e){t.ref.fields[e.id]&&t.element.appendChild(t.ref.fields[e.id])}))},Jn=function(t){var e=t.root;return Zn(e)},to=N({DID_SET_DISABLED:function(t){var e=t.root;e.element.disabled=e.query("GET_DISABLED")},DID_ADD_ITEM:function(t){var e=t.root,n=t.action,o=Fe("input");o.type="hidden",o.name=e.query("GET_NAME"),o.disabled=e.query("GET_DISABLED"),e.ref.fields[n.id]=o,Zn(e)},DID_LOAD_ITEM:function(t){var e=t.root,n=t.action,o=Kn(e,n.id);o&&null!==n.serverFileReference&&(o.value=n.serverFileReference)},DID_REMOVE_ITEM:function(t){var e=t.root,n=t.action,o=Kn(e,n.id);o&&(o.parentNode&&o.parentNode.removeChild(o),delete e.ref.fields[n.id])},DID_DEFINE_VALUE:function(t){var e=t.root,n=t.action,o=Kn(e,n.id);o&&(null===n.value?o.removeAttribute("value"):o.value=n.value,Zn(e))},DID_REORDER_ITEMS:Jn,DID_SORT_ITEMS:Jn}),eo=L({tag:"fieldset",name:"data",create:function(t){return t.root.ref.fields={}},write:to,ignoreRect:!0}),no=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],oo=["css","csv","html","txt"],ro={zip:"zip|compressed",epub:"application/epub+zip"},io=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t=t.toLowerCase(),no.includes(t)?"image/"+("jpg"===t?"jpeg":"svg"===t?"svg+xml":t):oo.includes(t)?"text/"+t:ro[t]||""},ao=function(t){return new Promise((function(e,n){var o=_o(t);if(o.length&&!so(t))return e(o);co(t).then(e)}))},so=function(t){return!!t.files&&t.files.length>0},co=function(t){return new Promise((function(e,n){var o=(t.items?Array.from(t.items):[]).filter((function(t){return lo(t)})).map((function(t){return uo(t)}));o.length?Promise.all(o).then((function(t){var n=[];t.forEach((function(t){n.push.apply(n,t)})),e(n.filter((function(t){return t})).map((function(t){return t._relativePath||(t._relativePath=t.webkitRelativePath),t})))})).catch(console.error):e(t.files?Array.from(t.files):[])}))},lo=function(t){if(ho(t)){var e=go(t);if(e)return e.isFile||e.isDirectory}return"file"===t.kind},uo=function(t){return new Promise((function(e,n){mo(t)?po(go(t)).then(e).catch(n):e([t.getAsFile()])}))},po=function(t){return new Promise((function(e,n){var o=[],r=0,i=0,a=function(){0===i&&0===r&&e(o)};!function t(e){r++;var s=e.createReader();!function e(){s.readEntries((function(n){if(0===n.length)return r--,void a();n.forEach((function(e){e.isDirectory?t(e):(i++,e.file((function(t){var n=fo(t);e.fullPath&&(n._relativePath=e.fullPath),o.push(n),i--,a()})))})),e()}),n)}()}(t)}))},fo=function(t){if(t.type.length)return t;var e=t.lastModifiedDate,n=t.name,o=io(zt(t.name));return o.length?((t=t.slice(0,t.size,o)).name=n,t.lastModifiedDate=e,t):t},mo=function(t){return ho(t)&&(go(t)||{}).isDirectory},ho=function(t){return"webkitGetAsEntry"in t},go=function(t){return t.webkitGetAsEntry()},_o=function(t){var e=[];try{if((e=Eo(t)).length)return e;e=vo(t)}catch(t){}return e},vo=function(t){var e=t.getData("url");return"string"==typeof e&&e.length?[e]:[]},Eo=function(t){var e=t.getData("text/html");if("string"==typeof e&&e.length){var n=e.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},yo=[],bo=function(t){return{pageLeft:t.pageX,pageTop:t.pageY,scopeLeft:t.offsetX||t.layerX,scopeTop:t.offsetY||t.layerY}},To=function(t){var e=yo.find((function(e){return e.element===t}));if(e)return e;var n=Io(t);return yo.push(n),n},Io=function(t){var e=[],n={dragenter:Do,dragover:So,dragleave:Ro,drop:Ao},r={};o(n,(function(n,o){r[n]=o(t,e),t.addEventListener(n,r[n],!1)}));var i={element:t,addListener:function(a){return e.push(a),function(){e.splice(e.indexOf(a),1),0===e.length&&(yo.splice(yo.indexOf(i),1),o(n,(function(e){t.removeEventListener(e,r[e],!1)})))}}};return i},Oo=function(t,e){var n,o=function(t,e){return"elementFromPoint"in t||(t=document),t.elementFromPoint(e.x,e.y)}("getRootNode"in(n=e)?n.getRootNode():document,{x:t.pageX-window.pageXOffset,y:t.pageY-window.pageYOffset});return o===e||e.contains(o)},wo=null,Co=function(t,e){try{t.dropEffect=e}catch(t){}},Do=function(t,e){return function(t){t.preventDefault(),wo=t.target,e.forEach((function(e){var n=e.element,o=e.onenter;Oo(t,n)&&(e.state="enter",o(bo(t)))}))}},So=function(t,e){return function(t){t.preventDefault();var n=t.dataTransfer;ao(n).then((function(o){var r=!1;e.some((function(e){var i=e.filterElement,a=e.element,s=e.onenter,c=e.onexit,l=e.ondrag,d=e.allowdrop;Co(n,"copy");var u=d(o);if(u)if(Oo(t,a)){if(r=!0,null===e.state)return e.state="enter",void s(bo(t));if(e.state="over",i&&!u)return void Co(n,"none");l(bo(t))}else i&&!r&&Co(n,"none"),e.state&&(e.state=null,c(bo(t)));else Co(n,"none")}))}))}},Ao=function(t,e){return function(t){t.preventDefault();var n=t.dataTransfer;ao(n).then((function(n){e.forEach((function(e){var o=e.filterElement,r=e.element,i=e.ondrop,a=e.onexit,s=e.allowdrop;if(e.state=null,!o||Oo(t,r))return s(n)?void i(bo(t),n):a(bo(t))}))}))}},Ro=function(t,e){return function(t){wo===t.target&&e.forEach((function(e){var n=e.onexit;e.state=null,n(bo(t))}))}},Lo=function(t,e,n){t.classList.add("filepond--hopper");var o=n.catchesDropsOnPage,r=n.requiresDropOnElement,i=n.filterItems,a=void 0===i?function(t){return t}:i,s=function(t,e,n){var o=To(e),r={element:t,filterElement:n,state:null,ondrop:function(){},onenter:function(){},ondrag:function(){},onexit:function(){},onload:function(){},allowdrop:function(){}};return r.destroy=o.addListener(r),r}(t,o?document.documentElement:t,r),c="",l="";s.allowdrop=function(t){return e(a(t))},s.ondrop=function(t,n){var o=a(n);e(o)?(l="drag-drop",d.onload(o,t)):d.ondragend(t)},s.ondrag=function(t){d.ondrag(t)},s.onenter=function(t){l="drag-over",d.ondragstart(t)},s.onexit=function(t){l="drag-exit",d.ondragend(t)};var d={updateHopperState:function(){c!==l&&(t.dataset.hopperState=l,c=l)},onload:function(){},ondragstart:function(){},ondrag:function(){},ondragend:function(){},destroy:function(){s.destroy()}};return d},No=!1,Po=[],xo=function(t){var e=document.activeElement;if(e&&/textarea|input/i.test(e.nodeName)){for(var n=!1,o=e;o!==document.body;){if(o.classList.contains("filepond--root")){n=!0;break}o=o.parentNode}if(!n)return}ao(t.clipboardData).then((function(t){t.length&&Po.forEach((function(e){return e(t)}))}))},Mo=function(){var t=function(t){e.onload(t)},e={destroy:function(){var e;e=t,vt(Po,Po.indexOf(e)),0===Po.length&&(document.removeEventListener("paste",xo),No=!1)},onload:function(){}};return function(t){Po.includes(t)||(Po.push(t),No||(No=!0,document.addEventListener("paste",xo)))}(t),e},ko=null,qo=null,Fo=[],jo=function(t,e){t.element.textContent=e},Bo=function(t,e,n){var o=t.query("GET_TOTAL_ITEMS");jo(t,n+" "+e+", "+o+" "+(1===o?t.query("GET_LABEL_FILE_COUNT_SINGULAR"):t.query("GET_LABEL_FILE_COUNT_PLURAL"))),clearTimeout(qo),qo=setTimeout((function(){!function(t){t.element.textContent=""}(t)}),1500)},Go=function(t){return t.element.parentNode.contains(document.activeElement)},Uo=function(t){var e=t.root,n=t.action,o=e.query("GET_ITEM",n.id).filename,r=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");jo(e,o+" "+r)},Yo=function(t){var e=t.root,n=t.action,o=e.query("GET_ITEM",n.id).filename;jo(e,n.status.main+" "+o+" "+n.status.sub)},Ho=L({create:function(t){var e=t.root,n=t.props;e.element.id="filepond--assistant-"+n.id,i(e.element,"role","status"),i(e.element,"aria-live","polite"),i(e.element,"aria-relevant","additions")},ignoreRect:!0,ignoreRectUpdate:!0,write:N({DID_LOAD_ITEM:function(t){var e=t.root,n=t.action;if(Go(e)){e.element.textContent="";var o=e.query("GET_ITEM",n.id);Fo.push(o.filename),clearTimeout(ko),ko=setTimeout((function(){Bo(e,Fo.join(", "),e.query("GET_LABEL_FILE_ADDED")),Fo.length=0}),750)}},DID_REMOVE_ITEM:function(t){var e=t.root,n=t.action;if(Go(e)){var o=n.item;Bo(e,o.filename,e.query("GET_LABEL_FILE_REMOVED"))}},DID_COMPLETE_ITEM_PROCESSING:function(t){var e=t.root,n=t.action,o=e.query("GET_ITEM",n.id).filename,r=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");jo(e,o+" "+r)},DID_ABORT_ITEM_PROCESSING:Uo,DID_REVERT_ITEM_PROCESSING:Uo,DID_THROW_ITEM_REMOVE_ERROR:Yo,DID_THROW_ITEM_LOAD_ERROR:Yo,DID_THROW_ITEM_INVALID:Yo,DID_THROW_ITEM_PROCESSING_ERROR:Yo}),tag:"span",name:"assistant"}),Vo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return t.replace(new RegExp(e+".","g"),(function(t){return t.charAt(1).toUpperCase()}))},Wo=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Date.now(),r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];clearTimeout(r);var c=Date.now()-o,l=function(){o=Date.now(),t.apply(void 0,a)};c<e?n||(r=setTimeout(l,e-c)):l()}},Xo=function(t){return t.preventDefault()},$o=function(t){var e=t.ref.list.childViews[0].childViews[0];return e?{top:e.rect.element.marginTop,bottom:e.rect.element.marginBottom}:{top:0,bottom:0}},zo=function(t){var e=0,n=0,o=t.ref.list,r=o.childViews[0],i=r.childViews.filter((function(t){return t.rect.element.height})),a=t.query("GET_ACTIVE_ITEMS").map((function(t){return i.find((function(e){return e.id===t.id}))})).filter((function(t){return t}));if(0===a.length)return{visual:e,bounds:n};var s=r.rect.element.width,c=Cn(r,a,o.dragCoordinates),l=a[0].rect.element,d=l.marginTop+l.marginBottom,u=l.marginLeft+l.marginRight,p=l.width+u,f=l.height+d,m=void 0!==c&&c>=0?1:0,h=a.find((function(t){return t.markedForRemoval&&t.opacity<.45}))?-1:0,g=a.length+m+h,_=Math.round(s/p);return 1===_?a.forEach((function(t){var o=t.rect.element.height+d;n+=o,e+=o*t.opacity})):(n=Math.ceil(g/_)*f,e=n),{visual:e,bounds:n}},Qo=function(t){var e=t.ref.measureHeight||null;return{cappedHeight:parseInt(t.style.maxHeight,10)||null,fixedHeight:0===e?null:e}},Ko=function(t,e){var n=t.query("GET_ALLOW_REPLACE"),o=t.query("GET_ALLOW_MULTIPLE"),r=t.query("GET_TOTAL_ITEMS"),i=t.query("GET_MAX_FILES"),a=e.length;return!o&&a>1||!!(V(i=o||n?i:1)&&r+a>i)&&(t.dispatch("DID_THROW_MAX_FILES",{source:e,error:de("warning",0,"Max files")}),!0)},Zo=function(t,e,n){var o=t.childViews[0];return Cn(o,e,{left:n.scopeLeft-o.rect.element.left,top:n.scopeTop-(t.rect.outer.top+t.rect.element.marginTop+t.rect.element.scrollTop)})},Jo=function(t){var e=t.query("GET_ALLOW_DROP"),n=t.query("GET_DISABLED"),o=e&&!n;if(o&&!t.ref.hopper){var r=Lo(t.element,(function(e){var n=t.query("GET_BEFORE_DROP_FILE")||function(){return!0};return!t.query("GET_DROP_VALIDATION")||e.every((function(e){return Lt("ALLOW_HOPPER_ITEM",e,{query:t.query}).every((function(t){return!0===t}))&&n(e)}))}),{filterItems:function(e){var n=t.query("GET_IGNORED_FILES");return e.filter((function(t){return!De(t)||!n.includes(t.name.toLowerCase())}))},catchesDropsOnPage:t.query("GET_DROP_ON_PAGE"),requiresDropOnElement:t.query("GET_DROP_ON_ELEMENT")});r.onload=function(e,n){var o=t.ref.list.childViews[0].childViews.filter((function(t){return t.rect.element.height})),r=t.query("GET_ACTIVE_ITEMS").map((function(t){return o.find((function(e){return e.id===t.id}))})).filter((function(t){return t}));Rt("ADD_ITEMS",e,{dispatch:t.dispatch}).then((function(e){if(Ko(t,e))return!1;t.dispatch("ADD_ITEMS",{items:e,index:Zo(t.ref.list,r,n),interactionMethod:st})})),t.dispatch("DID_DROP",{position:n}),t.dispatch("DID_END_DRAG",{position:n})},r.ondragstart=function(e){t.dispatch("DID_START_DRAG",{position:e})},r.ondrag=Wo((function(e){t.dispatch("DID_DRAG",{position:e})})),r.ondragend=function(e){t.dispatch("DID_END_DRAG",{position:e})},t.ref.hopper=r,t.ref.drip=t.appendChildView(t.createChildView(Qn))}else!o&&t.ref.hopper&&(t.ref.hopper.destroy(),t.ref.hopper=null,t.removeChildView(t.ref.drip))},tr=function(t,e){var n=t.query("GET_ALLOW_BROWSE"),o=t.query("GET_DISABLED"),r=n&&!o;r&&!t.ref.browser?t.ref.browser=t.appendChildView(t.createChildView(Yn,Object.assign({},e,{onload:function(e){Rt("ADD_ITEMS",e,{dispatch:t.dispatch}).then((function(e){if(Ko(t,e))return!1;t.dispatch("ADD_ITEMS",{items:e,index:-1,interactionMethod:ct})}))}})),0):!r&&t.ref.browser&&(t.removeChildView(t.ref.browser),t.ref.browser=null)},er=function(t){var e=t.query("GET_ALLOW_PASTE"),n=t.query("GET_DISABLED"),o=e&&!n;o&&!t.ref.paster?(t.ref.paster=Mo(),t.ref.paster.onload=function(e){Rt("ADD_ITEMS",e,{dispatch:t.dispatch}).then((function(e){if(Ko(t,e))return!1;t.dispatch("ADD_ITEMS",{items:e,index:-1,interactionMethod:lt})}))}):!o&&t.ref.paster&&(t.ref.paster.destroy(),t.ref.paster=null)},nr=N({DID_SET_ALLOW_BROWSE:function(t){var e=t.root,n=t.props;tr(e,n)},DID_SET_ALLOW_DROP:function(t){var e=t.root;Jo(e)},DID_SET_ALLOW_PASTE:function(t){var e=t.root;er(e)},DID_SET_DISABLED:function(t){var e=t.root,n=t.props;Jo(e),er(e),tr(e,n),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),or=L({name:"root",read:function(t){var e=t.root;e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:function(t){var e=t.root,n=t.props,o=e.query("GET_ID");o&&(e.element.id=o);var r=e.query("GET_CLASS_NAME");r&&r.split(" ").filter((function(t){return t.length})).forEach((function(t){e.element.classList.add(t)})),e.ref.label=e.appendChildView(e.createChildView(Xn,Object.assign({},n,{translateY:null,caption:e.query("GET_LABEL_IDLE")}))),e.ref.list=e.appendChildView(e.createChildView(xn,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(En,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(Ho,Object.assign({},n))),e.ref.data=e.appendChildView(e.createChildView(eo,Object.assign({},n))),e.ref.measure=Fe("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter((function(t){return!k(t.value)})).map((function(t){var n=t.name,o=t.value;e.element.dataset[n]=o})),e.ref.widthPrevious=null,e.ref.widthUpdated=Wo((function(){e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")}),250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];var i=window.matchMedia("(pointer: fine) and (hover: hover)").matches,a="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&a&&!i&&(e.element.addEventListener("touchmove",Xo,{passive:!1}),e.element.addEventListener("gesturestart",Xo));var s=e.query("GET_CREDITS");if(2===s.length){var c=document.createElement("a");c.className="filepond--credits",c.setAttribute("aria-hidden","true"),c.href=s[0],c.tabindex=-1,c.target="_blank",c.rel="noopener noreferrer",c.textContent=s[1],e.element.appendChild(c),e.ref.credits=c}},write:function(t){var e=t.root,n=t.props,o=t.actions;if(nr({root:e,props:n,actions:o}),o.filter((function(t){return/^DID_SET_STYLE_/.test(t.type)})).filter((function(t){return!k(t.data.value)})).map((function(t){var n=t.type,o=t.data,r=Vo(n.substr(8).toLowerCase(),"_");e.element.dataset[r]=o.value,e.invalidateLayout()})),!e.rect.element.hidden){e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());var r=e.ref.bounds;r||(r=e.ref.bounds=Qo(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);var i=e.ref,a=i.hopper,s=i.label,c=i.list,l=i.panel;a&&a.updateHopperState();var d=e.query("GET_PANEL_ASPECT_RATIO"),u=e.query("GET_ALLOW_MULTIPLE"),p=e.query("GET_TOTAL_ITEMS"),f=p===(u?e.query("GET_MAX_FILES")||1e6:1),m=o.find((function(t){return"DID_ADD_ITEM"===t.type}));if(f&&m){var h=m.data.interactionMethod;s.opacity=0,u?s.translateY=-40:h===at?s.translateX=40:s.translateY=h===ct?40:30}else f||(s.opacity=1,s.translateX=0,s.translateY=0);var g=$o(e),_=zo(e),v=s.rect.element.height,E=!u||f?0:v,y=f?c.rect.element.marginTop:0,b=0===p?0:c.rect.element.marginBottom,T=E+y+_.visual+b,I=E+y+_.bounds+b;if(c.translateY=Math.max(0,E-c.rect.element.marginTop)-g.top,d){var O=e.rect.element.width,w=O*d;d!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=d,e.ref.updateHistory=[]);var C=e.ref.updateHistory;C.push(O);if(C.length>4)for(var D=C.length,S=D-10,A=0,R=D;R>=S;R--)if(C[R]===C[R-2]&&A++,A>=2)return;l.scalable=!1,l.height=w;var L=w-E-(b-g.bottom)-(f?y:0);_.visual>L?c.overflow=L:c.overflow=null,e.height=w}else if(r.fixedHeight){l.scalable=!1;var N=r.fixedHeight-E-(b-g.bottom)-(f?y:0);_.visual>N?c.overflow=N:c.overflow=null}else if(r.cappedHeight){var P=T>=r.cappedHeight,x=Math.min(r.cappedHeight,T);l.scalable=!0,l.height=P?x:x-g.top-g.bottom;var M=x-E-(b-g.bottom)-(f?y:0);T>r.cappedHeight&&_.visual>M?c.overflow=M:c.overflow=null,e.height=Math.min(r.cappedHeight,I-g.top-g.bottom)}else{var q=p>0?g.top+g.bottom:0;l.scalable=!0,l.height=Math.max(v,T-q),e.height=Math.max(v,I-q)}e.ref.credits&&l.heightCurrent&&(e.ref.credits.style.transform="translateY("+l.heightCurrent+"px)")}},destroy:function(t){var e=t.root;e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",Xo),e.element.removeEventListener("gesturestart",Xo)},mixins:{styles:["height"]}}),rr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=null,o=Pt(),i=n(et(o),[Vt,it(o)],[qe,rt(o)]);i.dispatch("SET_OPTIONS",{options:t});var a=function(){document.hidden||i.dispatch("KICK")};document.addEventListener("visibilitychange",a);var s=null,c=!1,l=!1,d=null,u=null,p=function(){c||(c=!0),clearTimeout(s),s=setTimeout((function(){c=!1,d=null,u=null,l&&(l=!1,i.dispatch("DID_STOP_RESIZE"))}),500)};window.addEventListener("resize",p);var f=or(i,{id:ut()}),m=!1,h=!1,g={_read:function(){c&&(u=window.innerWidth,d||(d=u),l||u===d||(i.dispatch("DID_START_RESIZE"),l=!0)),h&&m&&(m=null===f.element.offsetParent),m||(f._read(),h=f.rect.element.hidden)},_write:function(t){var e=i.processActionQueue().filter((function(t){return!/^SET_/.test(t.type)}));m&&!e.length||(b(e),m=f._write(t,e,l),It(i.query("GET_ITEMS")),m&&i.processDispatchQueue())}},_=function(t){return function(e){var n={type:t};if(!e)return n;if(e.hasOwnProperty("error")&&(n.error=e.error?Object.assign({},e.error):null),e.status&&(n.status=Object.assign({},e.status)),e.file&&(n.output=e.file),e.source)n.file=e.source;else if(e.item||e.id){var o=e.item?e.item:i.query("GET_ITEM",e.id);n.file=o?Tt(o):null}return e.items&&(n.items=e.items.map(Tt)),/progress/.test(t)&&(n.progress=e.progress),e.hasOwnProperty("origin")&&e.hasOwnProperty("target")&&(n.origin=e.origin,n.target=e.target),n}},v={DID_DESTROY:_("destroy"),DID_INIT:_("init"),DID_THROW_MAX_FILES:_("warning"),DID_INIT_ITEM:_("initfile"),DID_START_ITEM_LOAD:_("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:_("addfileprogress"),DID_LOAD_ITEM:_("addfile"),DID_THROW_ITEM_INVALID:[_("error"),_("addfile")],DID_THROW_ITEM_LOAD_ERROR:[_("error"),_("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[_("error"),_("removefile")],DID_PREPARE_OUTPUT:_("preparefile"),DID_START_ITEM_PROCESSING:_("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:_("processfileprogress"),DID_ABORT_ITEM_PROCESSING:_("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:_("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:_("processfiles"),DID_REVERT_ITEM_PROCESSING:_("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[_("error"),_("processfile")],DID_REMOVE_ITEM:_("removefile"),DID_UPDATE_ITEMS:_("updatefiles"),DID_ACTIVATE_ITEM:_("activatefile"),DID_REORDER_ITEMS:_("reorderfiles")},y=function(t){var e=Object.assign({pond:q},t);delete e.type,f.element.dispatchEvent(new CustomEvent("FilePond:"+t.type,{detail:e,bubbles:!0,cancelable:!0,composed:!0}));var n=[];t.hasOwnProperty("error")&&n.push(t.error),t.hasOwnProperty("file")&&n.push(t.file);var o=["type","error","file"];Object.keys(t).filter((function(t){return!o.includes(t)})).forEach((function(e){return n.push(t[e])})),q.fire.apply(q,[t.type].concat(n));var r=i.query("GET_ON"+t.type.toUpperCase());r&&r.apply(void 0,n)},b=function(t){t.length&&t.filter((function(t){return v[t.type]})).forEach((function(t){var e=v[t.type];(Array.isArray(e)?e:[e]).forEach((function(e){"DID_INIT_ITEM"===t.type?y(e(t.data)):setTimeout((function(){y(e(t.data))}),0)}))}))},T=function(t){return i.dispatch("SET_OPTIONS",{options:t})},I=function(t){return i.query("GET_ACTIVE_ITEM",t)},O=function(t){return new Promise((function(e,n){i.dispatch("REQUEST_ITEM_PREPARE",{query:t,success:function(t){e(t)},failure:function(t){n(t)}})}))},w=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,o){S([{source:t,options:e}],{index:e.index}).then((function(t){return n(t&&t[0])})).catch(o)}))},C=function(t){return t.file&&t.id},D=function(t,e){return"object"!=typeof t||C(t)||e||(e=t,t=void 0),i.dispatch("REMOVE_ITEM",Object.assign({},e,{query:t})),null===i.query("GET_ACTIVE_ITEM",t)},S=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Promise((function(t,n){var o=[],r={};if(M(e[0]))o.push.apply(o,e[0]),Object.assign(r,e[1]||{});else{var a=e[e.length-1];"object"!=typeof a||a instanceof Blob||Object.assign(r,e.pop()),o.push.apply(o,e)}i.dispatch("ADD_ITEMS",{items:o,index:r.index,interactionMethod:at,success:t,failure:n})}))},A=function(){return i.query("GET_ACTIVE_ITEMS")},R=function(t){return new Promise((function(e,n){i.dispatch("REQUEST_ITEM_PROCESSING",{query:t,success:function(t){e(t)},failure:function(t){n(t)}})}))},L=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=Array.isArray(e[0])?e[0]:e,r=o.length?o:A();return Promise.all(r.map(O))},N=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=Array.isArray(e[0])?e[0]:e;if(!o.length){var r=A().filter((function(t){return!(t.status===Ot.IDLE&&t.origin===wt.LOCAL)&&t.status!==Ot.PROCESSING&&t.status!==Ot.PROCESSING_COMPLETE&&t.status!==Ot.PROCESSING_REVERT_ERROR}));return Promise.all(r.map(R))}return Promise.all(o.map(R))},k=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o,r=Array.isArray(e[0])?e[0]:e;"object"==typeof r[r.length-1]?o=r.pop():Array.isArray(e[0])&&(o=e[1]);var i=A();return r.length?r.map((function(t){return E(t)?i[t]?i[t].id:null:t})).filter((function(t){return t})).map((function(t){return D(t,o)})):Promise.all(i.map((function(t){return D(t,o)})))},q=Object.assign({},Et(),{},g,{},ot(i,o),{setOptions:T,addFile:w,addFiles:S,getFile:I,processFile:R,prepareFile:O,removeFile:D,moveFile:function(t,e){return i.dispatch("MOVE_ITEM",{query:t,index:e})},getFiles:A,processFiles:N,removeFiles:k,prepareFiles:L,sort:function(t){return i.dispatch("SORT",{compare:t})},browse:function(){var t=f.element.querySelector("input[type=file]");t&&t.click()},destroy:function(){q.fire("destroy",f.element),i.dispatch("ABORT_ALL"),f._destroy(),window.removeEventListener("resize",p),document.removeEventListener("visibilitychange",a),i.dispatch("DID_DESTROY")},insertBefore:function(t){return P(f.element,t)},insertAfter:function(t){return x(f.element,t)},appendTo:function(t){return t.appendChild(f.element)},replaceElement:function(t){P(f.element,t),t.parentNode.removeChild(t),e=t},restoreElement:function(){e&&(x(e,f.element),f.element.parentNode.removeChild(f.element),e=null)},isAttachedTo:function(t){return f.element===t||e===t},element:{get:function(){return f.element}},status:{get:function(){return i.query("GET_STATUS")}}});return i.dispatch("DID_INIT"),r(q)},ir=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={};return o(Pt(),(function(t,n){e[t]=n[0]})),rr(Object.assign({},e,{},t))},ar=function(t){return Vo(t.replace(/^data-/,""))},sr=function t(e,n){o(n,(function(n,r){o(e,(function(t,o){var i,a=new RegExp(n);if(a.test(t)&&(delete e[t],!1!==r))if(G(r))e[r]=o;else{var s=r.group;Q(r)&&!e[s]&&(e[s]={}),e[s][(i=t.replace(a,""),i.charAt(0).toLowerCase()+i.slice(1))]=o}})),r.mapping&&t(e[r.group],r.mapping)}))},cr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];o(t.attributes,(function(e){n.push(t.attributes[e])}));var r=n.filter((function(t){return t.name})).reduce((function(e,n){var o=i(t,n.name);return e[ar(n.name)]=o===n.name||o,e}),{});return sr(r,e),r},lr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Lt("SET_ATTRIBUTE_TO_OPTION_MAP",n);var o=Object.assign({},e),r=cr("FIELDSET"===t.nodeName?t.querySelector("input[type=file]"):t,n);Object.keys(r).forEach((function(t){Q(r[t])?(Q(o[t])||(o[t]={}),Object.assign(o[t],r[t])):o[t]=r[t]})),o.files=(e.files||[]).concat(Array.from(t.querySelectorAll("input:not([type=file])")).map((function(t){return{source:t.value,options:{type:t.dataset.type}}})));var i=ir(o);return t.files&&Array.from(t.files).forEach((function(t){i.addFile(t)})),i.replaceElement(t),i},dr=function(){return e(arguments.length<=0?void 0:arguments[0])?lr.apply(void 0,arguments):ir.apply(void 0,arguments)},ur=["fire","_read","_write"],pr=function(t){var e={};return yt(t,e,ur),e},fr=function(t,e){return t.replace(/(?:{([a-zA-Z]+)})/g,(function(t,n){return e[n]}))},mr=function(t){var e=new Blob(["(",t.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(e),o=new Worker(n);return{transfer:function(t,e){},post:function(t,e,n){var r=ut();o.onmessage=function(t){t.data.id===r&&e(t.data.message)},o.postMessage({id:r,message:t},n)},terminate:function(){o.terminate(),URL.revokeObjectURL(n)}}},hr=function(t){return new Promise((function(e,n){var o=new Image;o.onload=function(){e(o)},o.onerror=function(t){n(t)},o.src=t}))},gr=function(t,e){var n=t.slice(0,t.size,t.type);return n.lastModifiedDate=t.lastModifiedDate,n.name=e,n},_r=function(t){return gr(t,t.name)},vr=[],Er=function(t){if(!vr.includes(t)){vr.push(t);var e=t({addFilter:Nt,utils:{Type:St,forin:o,isString:G,isFile:De,toNaturalFileSize:He,replaceInString:fr,getExtensionFromFilename:zt,getFilenameWithoutExtension:we,guesstimateMimeType:io,getFileFromBlob:Jt,getFilenameFromURL:$t,createRoute:N,createWorker:mr,createView:L,createItemAPI:Tt,loadImage:hr,copyFile:_r,renameFile:gr,createBlob:te,applyFilterChain:Rt,text:je,getNumericAspectRatioFromString:kt},views:{fileActionButton:Ye}});n=e.options,Object.assign(xt,n)}var n},yr=(nn=m()&&!("[object OperaMini]"===Object.prototype.toString.call(window.operamini))&&"visibilityState"in document&&"Promise"in window&&"slice"in Blob.prototype&&"URL"in window&&"createObjectURL"in window.URL&&"performance"in window&&("supports"in(window.CSS||{})||/MSIE|Trident/.test(window.navigator.userAgent)),function(){return nn}),br={apps:[]},Tr=function(){};if(t.Status={},t.FileStatus={},t.FileOrigin={},t.OptionTypes={},t.create=Tr,t.destroy=Tr,t.parse=Tr,t.find=Tr,t.registerPlugin=Tr,t.getOptions=Tr,t.setOptions=Tr,yr()){!function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,o="__framePainter";if(window[o])return window[o].readers.push(t),void window[o].writers.push(e);window[o]={readers:[t],writers:[e]};var r=window[o],i=1e3/n,a=null,s=null,c=null,l=null,d=function(){document.hidden?(c=function(){return window.setTimeout((function(){return u(performance.now())}),i)},l=function(){return window.clearTimeout(s)}):(c=function(){return window.requestAnimationFrame(u)},l=function(){return window.cancelAnimationFrame(s)})};document.addEventListener("visibilitychange",(function(){l&&l(),d(),u(performance.now())}));var u=function t(e){s=c(t),a||(a=e);var n=e-a;n<=i||(a=e-n%i,r.readers.forEach((function(t){return t()})),r.writers.forEach((function(t){return t(e)})))};d(),u(performance.now())}((function(){br.apps.forEach((function(t){return t._read()}))}),(function(t){br.apps.forEach((function(e){return e._write(t)}))}));var Ir=function e(){document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:yr,create:t.create,destroy:t.destroy,parse:t.parse,find:t.find,registerPlugin:t.registerPlugin,setOptions:t.setOptions}})),document.removeEventListener("DOMContentLoaded",e)};"loading"!==document.readyState?setTimeout((function(){return Ir()}),0):document.addEventListener("DOMContentLoaded",Ir);var Or=function(){return o(Pt(),(function(e,n){t.OptionTypes[e]=n[1]}))};t.Status=Object.assign({},Ft),t.FileOrigin=Object.assign({},wt),t.FileStatus=Object.assign({},Ot),t.OptionTypes={},Or(),t.create=function(){var e=dr.apply(void 0,arguments);return e.on("destroy",t.destroy),br.apps.push(e),pr(e)},t.destroy=function(t){var e=br.apps.findIndex((function(e){return e.isAttachedTo(t)}));return e>=0&&(br.apps.splice(e,1)[0].restoreElement(),!0)},t.parse=function(e){return Array.from(e.querySelectorAll(".filepond")).filter((function(t){return!br.apps.find((function(e){return e.isAttachedTo(t)}))})).map((function(e){return t.create(e)}))},t.find=function(t){var e=br.apps.find((function(e){return e.isAttachedTo(t)}));return e?pr(e):null},t.registerPlugin=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach(Er),Or()},t.getOptions=function(){var t={};return o(Pt(),(function(e,n){t[e]=n[0]})),t},t.setOptions=function(e){return Q(e)&&(br.apps.forEach((function(t){t.setOptions(e)})),function(t){o(t,(function(t,e){xt[t]&&(xt[t][0]=J(e,xt[t][0],xt[t][1]))}))}(e)),t.getOptions()}}t.supported=yr,Object.defineProperty(t,"__esModule",{value:!0})}(e)},895:function(){"use strict";"function"!=typeof Object.assign&&(Object.assign=function(t,...e){if(!t)throw TypeError("Cannot convert undefined or null to object");for(const n of e)n&&Object.keys(n).forEach((e=>t[e]=n[e]));return t})},238:function(t,e,n){"use strict";function o(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,i=function(){};return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){c=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.Z=void 0;var s=function(){function t(e,n){var o=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"defaultOptions",{sourceAttr:"href",overlay:!0,spinner:!0,nav:!0,navText:["&lsaquo;","&rsaquo;"],captions:!0,captionDelay:0,captionSelector:"img",captionType:"attr",captionsData:"title",captionPosition:"bottom",captionClass:"",close:!0,closeText:"&times;",swipeClose:!0,showCounter:!0,fileExt:"png|jpg|jpeg|gif|webp",animationSlide:!0,animationSpeed:250,preloading:!0,enableKeyboard:!0,loop:!0,rel:!1,docClose:!0,swipeTolerance:50,className:"simple-lightbox",widthRatio:.8,heightRatio:.9,scaleImageToRatio:!1,disableRightClick:!1,disableScroll:!0,alertError:!0,alertErrorMessage:"Image not found, next image will be loaded",additionalHtml:!1,history:!0,throttleInterval:0,doubleTapZoom:2,maxZoom:10,htmlClass:"has-lightbox",rtl:!1,fixedClass:"sl-fixed",fadeSpeed:300,uniqueImages:!0,focus:!0}),a(this,"transitionPrefix",void 0),a(this,"transitionCapable",!1),a(this,"isTouchDevice","ontouchstart"in window),a(this,"initialLocationHash",void 0),a(this,"pushStateSupport","pushState"in history),a(this,"isOpen",!1),a(this,"isAnimating",!1),a(this,"isClosing",!1),a(this,"isFadeIn",!1),a(this,"urlChangedOnce",!1),a(this,"hashReseted",!1),a(this,"historyHasChanges",!1),a(this,"historyUpdateTimeout",null),a(this,"currentImage",void 0),a(this,"eventNamespace","simplelightbox"),a(this,"domNodes",{}),a(this,"loadedImages",[]),a(this,"initialImageIndex",0),a(this,"currentImageIndex",0),a(this,"initialSelector",null),a(this,"globalScrollbarWidth",0),a(this,"controlCoordinates",{swipeDiff:0,swipeYDiff:0,swipeStart:0,swipeEnd:0,swipeYStart:0,swipeYEnd:0,mousedown:!1,imageLeft:0,zoomed:!1,containerHeight:0,containerWidth:0,containerOffsetX:0,containerOffsetY:0,imgHeight:0,imgWidth:0,capture:!1,initialOffsetX:0,initialOffsetY:0,initialPointerOffsetX:0,initialPointerOffsetY:0,initialPointerOffsetX2:0,initialPointerOffsetY2:0,initialScale:1,initialPinchDistance:0,pointerOffsetX:0,pointerOffsetY:0,pointerOffsetX2:0,pointerOffsetY2:0,targetOffsetX:0,targetOffsetY:0,targetScale:0,pinchOffsetX:0,pinchOffsetY:0,limitOffsetX:0,limitOffsetY:0,scaleDifference:0,targetPinchDistance:0,touchCount:0,doubleTapped:!1,touchmoveCount:0}),this.options=Object.assign(this.defaultOptions,n),"string"==typeof e?(this.initialSelector=e,this.elements=Array.from(document.querySelectorAll(e))):this.elements=void 0!==e.length&&e.length>0?Array.from(e):[e],this.relatedElements=[],this.transitionPrefix=this.calculateTransitionPrefix(),this.transitionCapable=!1!==this.transitionPrefix,this.initialLocationHash=this.hash,this.options.rel&&(this.elements=this.getRelated(this.options.rel)),this.options.uniqueImages){var r=[];this.elements=Array.from(this.elements).filter((function(t){var e=t.getAttribute(o.options.sourceAttr);return-1===r.indexOf(e)&&(r.push(e),!0)}))}this.createDomNodes(),this.options.close&&this.domNodes.wrapper.appendChild(this.domNodes.closeButton),this.options.nav&&this.domNodes.wrapper.appendChild(this.domNodes.navigation),this.options.spinner&&this.domNodes.wrapper.appendChild(this.domNodes.spinner),this.addEventListener(this.elements,"click."+this.eventNamespace,(function(t){if(o.isValidLink(t.currentTarget)){if(t.preventDefault(),o.isAnimating)return!1;o.initialImageIndex=o.elements.indexOf(t.currentTarget),o.openImage(t.currentTarget)}})),this.options.docClose&&this.addEventListener(this.domNodes.wrapper,["click."+this.eventNamespace,"touchstart."+this.eventNamespace],(function(t){o.isOpen&&t.target===t.currentTarget&&o.close()})),this.options.disableRightClick&&this.addEventListener(document.body,"contextmenu."+this.eventNamespace,(function(t){t.target.classList.contains("sl-overlay")&&t.preventDefault()})),this.options.enableKeyboard&&this.addEventListener(document.body,"keyup."+this.eventNamespace,this.throttle((function(t){if(o.controlCoordinates.swipeDiff=0,o.isAnimating&&"Escape"===t.key)return o.currentImage.setAttribute("src",""),o.isAnimating=!1,o.close();o.isOpen&&(t.preventDefault(),"Escape"===t.key&&o.close(),!o.isAnimating&&["ArrowLeft","ArrowRight"].indexOf(t.key)>-1&&o.loadImage("ArrowRight"===t.key?1:-1))}),this.options.throttleInterval)),this.addEvents()}var e,n;return e=t,(n=[{key:"createDomNodes",value:function(){this.domNodes.overlay=document.createElement("div"),this.domNodes.overlay.classList.add("sl-overlay"),this.domNodes.overlay.dataset.opacityTarget=".7",this.domNodes.closeButton=document.createElement("button"),this.domNodes.closeButton.classList.add("sl-close"),this.domNodes.closeButton.innerHTML=this.options.closeText,this.domNodes.spinner=document.createElement("div"),this.domNodes.spinner.classList.add("sl-spinner"),this.domNodes.spinner.innerHTML="<div></div>",this.domNodes.navigation=document.createElement("div"),this.domNodes.navigation.classList.add("sl-navigation"),this.domNodes.navigation.innerHTML='<button class="sl-prev">'.concat(this.options.navText[0],'</button><button class="sl-next">').concat(this.options.navText[1],"</button>"),this.domNodes.counter=document.createElement("div"),this.domNodes.counter.classList.add("sl-counter"),this.domNodes.counter.innerHTML='<span class="sl-current"></span>/<span class="sl-total"></span>',this.domNodes.caption=document.createElement("div"),this.domNodes.caption.classList.add("sl-caption","pos-"+this.options.captionPosition),this.options.captionClass&&this.domNodes.caption.classList.add(this.options.captionClass),this.domNodes.image=document.createElement("div"),this.domNodes.image.classList.add("sl-image"),this.domNodes.wrapper=document.createElement("div"),this.domNodes.wrapper.classList.add("sl-wrapper"),this.domNodes.wrapper.setAttribute("tabindex",-1),this.domNodes.wrapper.setAttribute("role","dialog"),this.domNodes.wrapper.setAttribute("aria-hidden",!1),this.options.className&&this.domNodes.wrapper.classList.add(this.options.className),this.options.rtl&&this.domNodes.wrapper.classList.add("sl-dir-rtl")}},{key:"throttle",value:function(t,e){var n;return function(){n||(t.apply(this,arguments),n=!0,setTimeout((function(){return n=!1}),e))}}},{key:"isValidLink",value:function(t){return!this.options.fileExt||"pathname"in t&&new RegExp("("+this.options.fileExt+")$","i").test(t.pathname)}},{key:"calculateTransitionPrefix",value:function(){var t=(document.body||document.documentElement).style;return"transition"in t?"":"WebkitTransition"in t?"-webkit-":"MozTransition"in t?"-moz-":"OTransition"in t&&"-o"}},{key:"toggleScrollbar",value:function(t){var e=0,n=[].slice.call(document.querySelectorAll("."+this.options.fixedClass));if("hide"===t){var o=window.innerWidth;if(!o){var r=document.documentElement.getBoundingClientRect();o=r.right-Math.abs(r.left)}if(document.body.clientWidth<o){var i=document.createElement("div"),a=parseInt(document.body.style.paddingRight||0,10);i.classList.add("sl-scrollbar-measure"),document.body.appendChild(i),e=i.offsetWidth-i.clientWidth,document.body.removeChild(i),document.body.dataset.originalPaddingRight=a,e>0&&(document.body.classList.add("hidden-scroll"),document.body.style.paddingRight=a+e+"px",n.forEach((function(t){var n=t.style.paddingRight,o=window.getComputedStyle(t)["padding-right"];t.dataset.originalPaddingRight=n,t.style.paddingRight="".concat(parseFloat(o)+e,"px")})))}}else document.body.classList.remove("hidden-scroll"),document.body.style.paddingRight=document.body.dataset.originalPaddingRight,n.forEach((function(t){var e=t.dataset.originalPaddingRight;void 0!==e&&(t.style.paddingRight=e)}));return e}},{key:"close",value:function(){var t=this;if(!this.isOpen||this.isAnimating||this.isClosing)return!1;this.isClosing=!0;var e=this.relatedElements[this.currentImageIndex];for(var n in e.dispatchEvent(new Event("close.simplelightbox")),this.options.history&&(this.historyHasChanges=!1,this.hashReseted||this.resetHash()),this.removeEventListener(document,"focusin."+this.eventNamespace),this.fadeOut(document.querySelectorAll(".sl-image img, .sl-overlay, .sl-close, .sl-navigation, .sl-image .sl-caption, .sl-counter"),this.options.fadeSpeed,(function(){t.options.disableScroll&&t.toggleScrollbar("show"),t.options.htmlClass&&""!==t.options.htmlClass&&document.querySelector("html").classList.remove(t.options.htmlClass),document.body.removeChild(t.domNodes.wrapper),document.body.removeChild(t.domNodes.overlay),t.domNodes.additionalHtml=null,e.dispatchEvent(new Event("closed.simplelightbox")),t.isClosing=!1})),this.currentImage=null,this.isOpen=!1,this.isAnimating=!1,this.controlCoordinates)this.controlCoordinates[n]=0;this.controlCoordinates.mousedown=!1,this.controlCoordinates.zoomed=!1,this.controlCoordinates.capture=!1,this.controlCoordinates.initialScale=this.minMax(1,1,this.options.maxZoom),this.controlCoordinates.doubleTapped=!1}},{key:"preload",value:function(){var t=this,e=this.currentImageIndex,n=this.relatedElements.length,o=e+1<0?n-1:e+1>=n-1?0:e+1,r=e-1<0?n-1:e-1>=n-1?0:e-1,i=new Image,a=new Image;i.addEventListener("load",(function(n){var o=n.target.getAttribute("src");-1===t.loadedImages.indexOf(o)&&t.loadedImages.push(o),t.relatedElements[e].dispatchEvent(new Event("nextImageLoaded."+t.eventNamespace))})),i.setAttribute("src",this.relatedElements[o].getAttribute(this.options.sourceAttr)),a.addEventListener("load",(function(n){var o=n.target.getAttribute("src");-1===t.loadedImages.indexOf(o)&&t.loadedImages.push(o),t.relatedElements[e].dispatchEvent(new Event("prevImageLoaded."+t.eventNamespace))})),a.setAttribute("src",this.relatedElements[r].getAttribute(this.options.sourceAttr))}},{key:"loadImage",value:function(t){var e=this,n=t;this.options.rtl&&(t=-t),this.relatedElements[this.currentImageIndex].dispatchEvent(new Event("change."+this.eventNamespace)),this.relatedElements[this.currentImageIndex].dispatchEvent(new Event((1===t?"next":"prev")+"."+this.eventNamespace));var o=this.currentImageIndex+t;if(this.isAnimating||(o<0||o>=this.relatedElements.length)&&!1===this.options.loop)return!1;this.currentImageIndex=o<0?this.relatedElements.length-1:o>this.relatedElements.length-1?0:o,this.domNodes.counter.querySelector(".sl-current").innerHTML=this.currentImageIndex+1,this.options.animationSlide&&this.slide(this.options.animationSpeed/1e3,-100*n-this.controlCoordinates.swipeDiff+"px"),this.fadeOut(this.domNodes.image,this.options.fadeSpeed,(function(){e.isAnimating=!0,e.isClosing?e.isAnimating=!1:setTimeout((function(){var t=e.relatedElements[e.currentImageIndex];e.currentImage.setAttribute("src",t.getAttribute(e.options.sourceAttr)),-1===e.loadedImages.indexOf(t.getAttribute(e.options.sourceAttr))&&e.show(e.domNodes.spinner),e.domNodes.image.contains(e.domNodes.caption)&&e.domNodes.image.removeChild(e.domNodes.caption),e.adjustImage(n),e.options.preloading&&e.preload()}),100)}))}},{key:"adjustImage",value:function(t){var e=this;if(!this.currentImage)return!1;var n=new Image,o=window.innerWidth*this.options.widthRatio,r=window.innerHeight*this.options.heightRatio;n.setAttribute("src",this.currentImage.getAttribute("src")),this.currentImage.dataset.scale=1,this.currentImage.dataset.translateX=0,this.currentImage.dataset.translateY=0,this.zoomPanElement(0,0,1),n.addEventListener("error",(function(n){e.relatedElements[e.currentImageIndex].dispatchEvent(new Event("error."+e.eventNamespace)),e.isAnimating=!1,e.isOpen=!1,e.domNodes.spinner.style.display="none";var o=1===t||-1===t;if(e.initialImageIndex===e.currentImageIndex&&o)return e.close();e.options.alertError&&alert(e.options.alertErrorMessage),e.loadImage(o?t:1)})),n.addEventListener("load",(function(n){void 0!==t&&(e.relatedElements[e.currentImageIndex].dispatchEvent(new Event("changed."+e.eventNamespace)),e.relatedElements[e.currentImageIndex].dispatchEvent(new Event((1===t?"nextDone":"prevDone")+"."+e.eventNamespace))),e.options.history&&e.updateURL(),-1===e.loadedImages.indexOf(e.currentImage.getAttribute("src"))&&e.loadedImages.push(e.currentImage.getAttribute("src"));var i,a,s=n.target.width,c=n.target.height;if(e.options.scaleImageToRatio||s>o||c>r){var l=s/c>o/r?s/o:c/r;s/=l,c/=l}e.domNodes.image.style.top=(window.innerHeight-c)/2+"px",e.domNodes.image.style.left=(window.innerWidth-s-e.globalScrollbarWidth)/2+"px",e.domNodes.image.style.width=s+"px",e.domNodes.image.style.height=c+"px",e.domNodes.spinner.style.display="none",e.options.focus&&e.forceFocus(),e.fadeIn(e.currentImage,e.options.fadeSpeed,(function(){e.options.focus&&e.domNodes.wrapper.focus()})),e.isOpen=!0,"string"==typeof e.options.captionSelector?i="self"===e.options.captionSelector?e.relatedElements[e.currentImageIndex]:e.relatedElements[e.currentImageIndex].querySelector(e.options.captionSelector):"function"==typeof e.options.captionSelector&&(i=e.options.captionSelector(e.relatedElements[e.currentImageIndex])),e.options.captions&&i&&(a="data"===e.options.captionType?i.dataset[e.options.captionsData]:"text"===e.options.captionType?i.innerHTML:i.getAttribute(e.options.captionsData)),e.options.loop||(0===e.currentImageIndex&&e.hide(e.domNodes.navigation.querySelector(".sl-prev")),e.currentImageIndex>=e.relatedElements.length-1&&e.hide(e.domNodes.navigation.querySelector(".sl-next")),e.currentImageIndex>0&&e.show(e.domNodes.navigation.querySelector(".sl-prev")),e.currentImageIndex<e.relatedElements.length-1&&e.show(e.domNodes.navigation.querySelector(".sl-next"))),1===e.relatedElements.length?e.hide(e.domNodes.navigation.querySelectorAll(".sl-prev, .sl-next")):e.show(e.domNodes.navigation.querySelectorAll(".sl-prev, .sl-next")),1===t||-1===t?(e.options.animationSlide&&(e.slide(0,100*t+"px"),setTimeout((function(){e.slide(e.options.animationSpeed/1e3,"0px")}),50)),e.fadeIn(e.domNodes.image,e.options.fadeSpeed,(function(){e.isAnimating=!1,e.setCaption(a,s)}))):(e.isAnimating=!1,e.setCaption(a,s)),e.options.additionalHtml&&!e.domNodes.additionalHtml&&(e.domNodes.additionalHtml=document.createElement("div"),e.domNodes.additionalHtml.classList.add("sl-additional-html"),e.domNodes.additionalHtml.innerHTML=e.options.additionalHtml,e.domNodes.image.appendChild(e.domNodes.additionalHtml))}))}},{key:"zoomPanElement",value:function(t,e,n){this.currentImage.style[this.transitionPrefix+"transform"]="translate("+t+","+e+") scale("+n+")"}},{key:"minMax",value:function(t,e,n){return t<e?e:t>n?n:t}},{key:"setZoomData",value:function(t,e,n){this.currentImage.dataset.scale=t,this.currentImage.dataset.translateX=e,this.currentImage.dataset.translateY=n}},{key:"hashchangeHandler",value:function(){this.isOpen&&this.hash===this.initialLocationHash&&(this.hashReseted=!0,this.close())}},{key:"addEvents",value:function(){var t=this;this.addEventListener(window,"resize."+this.eventNamespace,(function(e){t.isOpen&&t.adjustImage()})),this.addEventListener(this.domNodes.closeButton,["click."+this.eventNamespace,"touchstart."+this.eventNamespace],this.close.bind(this)),this.options.history&&setTimeout((function(){t.addEventListener(window,"hashchange."+t.eventNamespace,(function(e){t.isOpen&&t.hashchangeHandler()}))}),40),this.addEventListener(this.domNodes.navigation.getElementsByTagName("button"),"click."+this.eventNamespace,(function(e){if(!e.currentTarget.tagName.match(/button/i))return!0;e.preventDefault(),t.controlCoordinates.swipeDiff=0,t.loadImage(e.currentTarget.classList.contains("sl-next")?1:-1)})),this.addEventListener(this.domNodes.image,["touchstart."+this.eventNamespace,"mousedown."+this.eventNamespace],(function(e){if("A"===e.target.tagName&&"touchstart"===e.type)return!0;if("mousedown"===e.type)t.controlCoordinates.initialPointerOffsetX=e.clientX,t.controlCoordinates.initialPointerOffsetY=e.clientY,t.controlCoordinates.containerHeight=t.getDimensions(t.domNodes.image).height,t.controlCoordinates.containerWidth=t.getDimensions(t.domNodes.image).width,t.controlCoordinates.imgHeight=t.getDimensions(t.currentImage).height,t.controlCoordinates.imgWidth=t.getDimensions(t.currentImage).width,t.controlCoordinates.containerOffsetX=t.domNodes.image.offsetLeft,t.controlCoordinates.containerOffsetY=t.domNodes.image.offsetTop,t.controlCoordinates.initialOffsetX=parseFloat(t.currentImage.dataset.translateX),t.controlCoordinates.initialOffsetY=parseFloat(t.currentImage.dataset.translateY),t.controlCoordinates.capture=!0;else{if(t.controlCoordinates.touchCount=e.touches.length,t.controlCoordinates.initialPointerOffsetX=e.touches[0].clientX,t.controlCoordinates.initialPointerOffsetY=e.touches[0].clientY,t.controlCoordinates.containerHeight=t.getDimensions(t.domNodes.image).height,t.controlCoordinates.containerWidth=t.getDimensions(t.domNodes.image).width,t.controlCoordinates.imgHeight=t.getDimensions(t.currentImage).height,t.controlCoordinates.imgWidth=t.getDimensions(t.currentImage).width,t.controlCoordinates.containerOffsetX=t.domNodes.image.offsetLeft,t.controlCoordinates.containerOffsetY=t.domNodes.image.offsetTop,1===t.controlCoordinates.touchCount){if(t.controlCoordinates.doubleTapped)return t.currentImage.classList.add("sl-transition"),t.controlCoordinates.zoomed?(t.controlCoordinates.initialScale=1,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),t.controlCoordinates.zoomed=!1):(t.controlCoordinates.initialScale=t.options.doubleTapZoom,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),t.domNodes.caption.style.opacity||"none"===t.domNodes.caption.style.display||t.fadeOut(t.domNodes.caption,t.options.fadeSpeed),t.controlCoordinates.zoomed=!0),setTimeout((function(){t.currentImage&&t.currentImage.classList.remove("sl-transition")}),200),!1;t.controlCoordinates.doubleTapped=!0,setTimeout((function(){t.controlCoordinates.doubleTapped=!1}),300),t.controlCoordinates.initialOffsetX=parseFloat(t.currentImage.dataset.translateX),t.controlCoordinates.initialOffsetY=parseFloat(t.currentImage.dataset.translateY)}else 2===t.controlCoordinates.touchCount&&(t.controlCoordinates.initialPointerOffsetX2=e.touches[1].clientX,t.controlCoordinates.initialPointerOffsetY2=e.touches[1].clientY,t.controlCoordinates.initialOffsetX=parseFloat(t.currentImage.dataset.translateX),t.controlCoordinates.initialOffsetY=parseFloat(t.currentImage.dataset.translateY),t.controlCoordinates.pinchOffsetX=(t.controlCoordinates.initialPointerOffsetX+t.controlCoordinates.initialPointerOffsetX2)/2,t.controlCoordinates.pinchOffsetY=(t.controlCoordinates.initialPointerOffsetY+t.controlCoordinates.initialPointerOffsetY2)/2,t.controlCoordinates.initialPinchDistance=Math.sqrt((t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialPointerOffsetX2)*(t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialPointerOffsetX2)+(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialPointerOffsetY2)*(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialPointerOffsetY2)));t.controlCoordinates.capture=!0}return!!t.controlCoordinates.mousedown||(t.transitionCapable&&(t.controlCoordinates.imageLeft=parseInt(t.domNodes.image.style.left,10)),t.controlCoordinates.mousedown=!0,t.controlCoordinates.swipeDiff=0,t.controlCoordinates.swipeYDiff=0,t.controlCoordinates.swipeStart=e.pageX||e.touches[0].pageX,t.controlCoordinates.swipeYStart=e.pageY||e.touches[0].pageY,!1)})),this.addEventListener(this.domNodes.image,["touchmove."+this.eventNamespace,"mousemove."+this.eventNamespace,"MSPointerMove"],(function(e){if(!t.controlCoordinates.mousedown)return!0;if(e.preventDefault(),"touchmove"===e.type){if(!1===t.controlCoordinates.capture)return!1;t.controlCoordinates.pointerOffsetX=e.touches[0].clientX,t.controlCoordinates.pointerOffsetY=e.touches[0].clientY,t.controlCoordinates.touchCount=e.touches.length,t.controlCoordinates.touchmoveCount++,t.controlCoordinates.touchCount>1?(t.controlCoordinates.pointerOffsetX2=e.touches[1].clientX,t.controlCoordinates.pointerOffsetY2=e.touches[1].clientY,t.controlCoordinates.targetPinchDistance=Math.sqrt((t.controlCoordinates.pointerOffsetX-t.controlCoordinates.pointerOffsetX2)*(t.controlCoordinates.pointerOffsetX-t.controlCoordinates.pointerOffsetX2)+(t.controlCoordinates.pointerOffsetY-t.controlCoordinates.pointerOffsetY2)*(t.controlCoordinates.pointerOffsetY-t.controlCoordinates.pointerOffsetY2)),null===t.controlCoordinates.initialPinchDistance&&(t.controlCoordinates.initialPinchDistance=t.controlCoordinates.targetPinchDistance),Math.abs(t.controlCoordinates.initialPinchDistance-t.controlCoordinates.targetPinchDistance)>=1&&(t.controlCoordinates.targetScale=t.minMax(t.controlCoordinates.targetPinchDistance/t.controlCoordinates.initialPinchDistance*t.controlCoordinates.initialScale,1,t.options.maxZoom),t.controlCoordinates.limitOffsetX=(t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale-t.controlCoordinates.containerWidth)/2,t.controlCoordinates.limitOffsetY=(t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale-t.controlCoordinates.containerHeight)/2,t.controlCoordinates.scaleDifference=t.controlCoordinates.targetScale-t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX=t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale<=t.controlCoordinates.containerWidth?0:t.minMax(t.controlCoordinates.initialOffsetX-(t.controlCoordinates.pinchOffsetX-t.controlCoordinates.containerOffsetX-t.controlCoordinates.containerWidth/2-t.controlCoordinates.initialOffsetX)/(t.controlCoordinates.targetScale-t.controlCoordinates.scaleDifference)*t.controlCoordinates.scaleDifference,-1*t.controlCoordinates.limitOffsetX,t.controlCoordinates.limitOffsetX),t.controlCoordinates.targetOffsetY=t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale<=t.controlCoordinates.containerHeight?0:t.minMax(t.controlCoordinates.initialOffsetY-(t.controlCoordinates.pinchOffsetY-t.controlCoordinates.containerOffsetY-t.controlCoordinates.containerHeight/2-t.controlCoordinates.initialOffsetY)/(t.controlCoordinates.targetScale-t.controlCoordinates.scaleDifference)*t.controlCoordinates.scaleDifference,-1*t.controlCoordinates.limitOffsetY,t.controlCoordinates.limitOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale),t.controlCoordinates.targetScale>1&&(t.controlCoordinates.zoomed=!0,t.domNodes.caption.style.opacity||"none"===t.domNodes.caption.style.display||t.fadeOut(t.domNodes.caption,t.options.fadeSpeed)),t.controlCoordinates.initialPinchDistance=t.controlCoordinates.targetPinchDistance,t.controlCoordinates.initialScale=t.controlCoordinates.targetScale,t.controlCoordinates.initialOffsetX=t.controlCoordinates.targetOffsetX,t.controlCoordinates.initialOffsetY=t.controlCoordinates.targetOffsetY)):(t.controlCoordinates.targetScale=t.controlCoordinates.initialScale,t.controlCoordinates.limitOffsetX=(t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale-t.controlCoordinates.containerWidth)/2,t.controlCoordinates.limitOffsetY=(t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale-t.controlCoordinates.containerHeight)/2,t.controlCoordinates.targetOffsetX=t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale<=t.controlCoordinates.containerWidth?0:t.minMax(t.controlCoordinates.pointerOffsetX-(t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialOffsetX),-1*t.controlCoordinates.limitOffsetX,t.controlCoordinates.limitOffsetX),t.controlCoordinates.targetOffsetY=t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale<=t.controlCoordinates.containerHeight?0:t.minMax(t.controlCoordinates.pointerOffsetY-(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialOffsetY),-1*t.controlCoordinates.limitOffsetY,t.controlCoordinates.limitOffsetY),Math.abs(t.controlCoordinates.targetOffsetX)===Math.abs(t.controlCoordinates.limitOffsetX)&&(t.controlCoordinates.initialOffsetX=t.controlCoordinates.targetOffsetX,t.controlCoordinates.initialPointerOffsetX=t.controlCoordinates.pointerOffsetX),Math.abs(t.controlCoordinates.targetOffsetY)===Math.abs(t.controlCoordinates.limitOffsetY)&&(t.controlCoordinates.initialOffsetY=t.controlCoordinates.targetOffsetY,t.controlCoordinates.initialPointerOffsetY=t.controlCoordinates.pointerOffsetY),t.setZoomData(t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX,t.controlCoordinates.targetOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale))}if("mousemove"===e.type&&t.controlCoordinates.mousedown){if("touchmove"==e.type)return!0;if(!1===t.controlCoordinates.capture)return!1;t.controlCoordinates.pointerOffsetX=e.clientX,t.controlCoordinates.pointerOffsetY=e.clientY,t.controlCoordinates.targetScale=t.controlCoordinates.initialScale,t.controlCoordinates.limitOffsetX=(t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale-t.controlCoordinates.containerWidth)/2,t.controlCoordinates.limitOffsetY=(t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale-t.controlCoordinates.containerHeight)/2,t.controlCoordinates.targetOffsetX=t.controlCoordinates.imgWidth*t.controlCoordinates.targetScale<=t.controlCoordinates.containerWidth?0:t.minMax(t.controlCoordinates.pointerOffsetX-(t.controlCoordinates.initialPointerOffsetX-t.controlCoordinates.initialOffsetX),-1*t.controlCoordinates.limitOffsetX,t.controlCoordinates.limitOffsetX),t.controlCoordinates.targetOffsetY=t.controlCoordinates.imgHeight*t.controlCoordinates.targetScale<=t.controlCoordinates.containerHeight?0:t.minMax(t.controlCoordinates.pointerOffsetY-(t.controlCoordinates.initialPointerOffsetY-t.controlCoordinates.initialOffsetY),-1*t.controlCoordinates.limitOffsetY,t.controlCoordinates.limitOffsetY),Math.abs(t.controlCoordinates.targetOffsetX)===Math.abs(t.controlCoordinates.limitOffsetX)&&(t.controlCoordinates.initialOffsetX=t.controlCoordinates.targetOffsetX,t.controlCoordinates.initialPointerOffsetX=t.controlCoordinates.pointerOffsetX),Math.abs(t.controlCoordinates.targetOffsetY)===Math.abs(t.controlCoordinates.limitOffsetY)&&(t.controlCoordinates.initialOffsetY=t.controlCoordinates.targetOffsetY,t.controlCoordinates.initialPointerOffsetY=t.controlCoordinates.pointerOffsetY),t.setZoomData(t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX,t.controlCoordinates.targetOffsetY),t.zoomPanElement(t.controlCoordinates.targetOffsetX+"px",t.controlCoordinates.targetOffsetY+"px",t.controlCoordinates.targetScale)}t.controlCoordinates.zoomed||(t.controlCoordinates.swipeEnd=e.pageX||e.touches[0].pageX,t.controlCoordinates.swipeYEnd=e.pageY||e.touches[0].pageY,t.controlCoordinates.swipeDiff=t.controlCoordinates.swipeStart-t.controlCoordinates.swipeEnd,t.controlCoordinates.swipeYDiff=t.controlCoordinates.swipeYStart-t.controlCoordinates.swipeYEnd,t.options.animationSlide&&t.slide(0,-t.controlCoordinates.swipeDiff+"px"))})),this.addEventListener(this.domNodes.image,["touchend."+this.eventNamespace,"mouseup."+this.eventNamespace,"touchcancel."+this.eventNamespace,"mouseleave."+this.eventNamespace,"pointerup","pointercancel","MSPointerUp","MSPointerCancel"],(function(e){if(t.isTouchDevice&&"touchend"===e.type&&(t.controlCoordinates.touchCount=e.touches.length,0===t.controlCoordinates.touchCount?(t.currentImage&&t.setZoomData(t.controlCoordinates.initialScale,t.controlCoordinates.targetOffsetX,t.controlCoordinates.targetOffsetY),1===t.controlCoordinates.initialScale&&(t.controlCoordinates.zoomed=!1,"none"===t.domNodes.caption.style.display&&t.fadeIn(t.domNodes.caption,t.options.fadeSpeed)),t.controlCoordinates.initialPinchDistance=null,t.controlCoordinates.capture=!1):1===t.controlCoordinates.touchCount?(t.controlCoordinates.initialPointerOffsetX=e.touches[0].clientX,t.controlCoordinates.initialPointerOffsetY=e.touches[0].clientY):t.controlCoordinates.touchCount>1&&(t.controlCoordinates.initialPinchDistance=null)),t.controlCoordinates.mousedown){t.controlCoordinates.mousedown=!1;var n=!0;t.options.loop||(0===t.currentImageIndex&&t.controlCoordinates.swipeDiff<0&&(n=!1),t.currentImageIndex>=t.relatedElements.length-1&&t.controlCoordinates.swipeDiff>0&&(n=!1)),Math.abs(t.controlCoordinates.swipeDiff)>t.options.swipeTolerance&&n?t.loadImage(t.controlCoordinates.swipeDiff>0?1:-1):t.options.animationSlide&&t.slide(t.options.animationSpeed/1e3,"0px"),t.options.swipeClose&&Math.abs(t.controlCoordinates.swipeYDiff)>50&&Math.abs(t.controlCoordinates.swipeDiff)<t.options.swipeTolerance&&t.close()}})),this.addEventListener(this.domNodes.image,["dblclick"],(function(e){if(!t.isTouchDevice)return t.controlCoordinates.initialPointerOffsetX=e.clientX,t.controlCoordinates.initialPointerOffsetY=e.clientY,t.controlCoordinates.containerHeight=t.getDimensions(t.domNodes.image).height,t.controlCoordinates.containerWidth=t.getDimensions(t.domNodes.image).width,t.controlCoordinates.imgHeight=t.getDimensions(t.currentImage).height,t.controlCoordinates.imgWidth=t.getDimensions(t.currentImage).width,t.controlCoordinates.containerOffsetX=t.domNodes.image.offsetLeft,t.controlCoordinates.containerOffsetY=t.domNodes.image.offsetTop,t.currentImage.classList.add("sl-transition"),t.controlCoordinates.zoomed?(t.controlCoordinates.initialScale=1,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),t.controlCoordinates.zoomed=!1,"none"===t.domNodes.caption.style.display&&t.fadeIn(t.domNodes.caption,t.options.fadeSpeed)):(t.controlCoordinates.initialScale=t.options.doubleTapZoom,t.setZoomData(t.controlCoordinates.initialScale,0,0),t.zoomPanElement("0px","0px",t.controlCoordinates.initialScale),t.domNodes.caption.style.opacity||"none"===t.domNodes.caption.style.display||t.fadeOut(t.domNodes.caption,t.options.fadeSpeed),t.controlCoordinates.zoomed=!0),setTimeout((function(){t.currentImage&&t.currentImage.classList.remove("sl-transition")}),200),t.controlCoordinates.capture=!0,!1}))}},{key:"getDimensions",value:function(t){var e=window.getComputedStyle(t),n=t.offsetHeight,o=t.offsetWidth,r=parseFloat(e.borderTopWidth);return{height:n-parseFloat(e.borderBottomWidth)-r-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom),width:o-parseFloat(e.borderLeftWidth)-parseFloat(e.borderRightWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)}}},{key:"updateHash",value:function(){var t="pid="+(this.currentImageIndex+1),e=window.location.href.split("#")[0]+"#"+t;this.hashReseted=!1,this.pushStateSupport?window.history[this.historyHasChanges?"replaceState":"pushState"]("",document.title,e):this.historyHasChanges?window.location.replace(e):window.location.hash=t,this.historyHasChanges||(this.urlChangedOnce=!0),this.historyHasChanges=!0}},{key:"resetHash",value:function(){this.hashReseted=!0,this.urlChangedOnce?history.back():this.pushStateSupport?history.pushState("",document.title,window.location.pathname+window.location.search):window.location.hash="",clearTimeout(this.historyUpdateTimeout)}},{key:"updateURL",value:function(){clearTimeout(this.historyUpdateTimeout),this.historyHasChanges?this.historyUpdateTimeout=setTimeout(this.updateHash.bind(this),800):this.updateHash()}},{key:"setCaption",value:function(t,e){var n=this;this.options.captions&&t&&""!==t&&void 0!==t&&(this.hide(this.domNodes.caption),this.domNodes.caption.style.width=e+"px",this.domNodes.caption.innerHTML=t,this.domNodes.image.appendChild(this.domNodes.caption),setTimeout((function(){n.fadeIn(n.domNodes.caption,n.options.fadeSpeed)}),this.options.captionDelay))}},{key:"slide",value:function(t,e){if(!this.transitionCapable)return this.domNodes.image.style.left=e;this.domNodes.image.style[this.transitionPrefix+"transform"]="translateX("+e+")",this.domNodes.image.style[this.transitionPrefix+"transition"]=this.transitionPrefix+"transform "+t+"s linear"}},{key:"getRelated",value:function(t){return t&&!1!==t&&"nofollow"!==t?Array.from(this.elements).filter((function(e){return e.getAttribute("rel")===t})):this.elements}},{key:"openImage",value:function(t){var e=this;t.dispatchEvent(new Event("show."+this.eventNamespace)),this.options.disableScroll&&(this.globalScrollbarWidth=this.toggleScrollbar("hide")),this.options.htmlClass&&""!==this.options.htmlClass&&document.querySelector("html").classList.add(this.options.htmlClass),document.body.appendChild(this.domNodes.wrapper),this.domNodes.wrapper.appendChild(this.domNodes.image),this.options.overlay&&document.body.appendChild(this.domNodes.overlay),this.relatedElements=this.getRelated(t.rel),this.options.showCounter&&(1==this.relatedElements.length&&this.domNodes.wrapper.contains(this.domNodes.counter)?this.domNodes.wrapper.removeChild(this.domNodes.counter):this.relatedElements.length>1&&!this.domNodes.wrapper.contains(this.domNodes.counter)&&this.domNodes.wrapper.appendChild(this.domNodes.counter)),this.isAnimating=!0,this.currentImageIndex=this.relatedElements.indexOf(t);var n=t.getAttribute(this.options.sourceAttr);this.currentImage=document.createElement("img"),this.currentImage.style.display="none",this.currentImage.setAttribute("src",n),this.currentImage.dataset.scale=1,this.currentImage.dataset.translateX=0,this.currentImage.dataset.translateY=0,-1===this.loadedImages.indexOf(n)&&this.loadedImages.push(n),this.domNodes.image.innerHTML="",this.domNodes.image.setAttribute("style",""),this.domNodes.image.appendChild(this.currentImage),this.fadeIn(this.domNodes.overlay,this.options.fadeSpeed),this.fadeIn([this.domNodes.counter,this.domNodes.navigation,this.domNodes.closeButton],this.options.fadeSpeed),this.show(this.domNodes.spinner),this.domNodes.counter.querySelector(".sl-current").innerHTML=this.currentImageIndex+1,this.domNodes.counter.querySelector(".sl-total").innerHTML=this.relatedElements.length,this.adjustImage(),this.options.preloading&&this.preload(),setTimeout((function(){t.dispatchEvent(new Event("shown."+e.eventNamespace))}),this.options.animationSpeed)}},{key:"forceFocus",value:function(){var t=this;this.removeEventListener(document,"focusin."+this.eventNamespace),this.addEventListener(document,"focusin."+this.eventNamespace,(function(e){document===e.target||t.domNodes.wrapper===e.target||t.domNodes.wrapper.contains(e.target)||t.domNodes.wrapper.focus()}))}},{key:"addEventListener",value:function(t,e,n,r){t=this.wrap(t),e=this.wrap(e);var i,a=o(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;s.namespaces||(s.namespaces={});var c,l=o(e);try{for(l.s();!(c=l.n()).done;){var d=c.value,u=r||!1;s.namespaces[d]=n,s.addEventListener(d.split(".")[0],n,u)}}catch(t){l.e(t)}finally{l.f()}}}catch(t){a.e(t)}finally{a.f()}}},{key:"removeEventListener",value:function(t,e){t=this.wrap(t),e=this.wrap(e);var n,r=o(t);try{for(r.s();!(n=r.n()).done;){var i,a=n.value,s=o(e);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.namespaces&&a.namespaces[c]&&(a.removeEventListener(c.split(".")[0],a.namespaces[c]),delete a.namespaces[c])}}catch(t){s.e(t)}finally{s.f()}}}catch(t){r.e(t)}finally{r.f()}}},{key:"fadeOut",value:function(t,e,n){var r,i=this,a=o(t=this.wrap(t));try{for(a.s();!(r=a.n()).done;)r.value.style.opacity=1}catch(t){a.e(t)}finally{a.f()}this.isFadeIn=!1;var s=16.66666/(e||this.options.fadeSpeed);!function e(){var r=parseFloat(t[0].style.opacity);if((r-=s)<0){var a,c=o(t);try{for(c.s();!(a=c.n()).done;){var l=a.value;l.style.display="none",l.style.opacity=""}}catch(t){c.e(t)}finally{c.f()}n&&n.call(i,t)}else{var d,u=o(t);try{for(u.s();!(d=u.n()).done;)d.value.style.opacity=r}catch(t){u.e(t)}finally{u.f()}requestAnimationFrame(e)}}()}},{key:"fadeIn",value:function(t,e,n,r){var i,a=this,s=o(t=this.wrap(t));try{for(s.s();!(i=s.n()).done;){var c=i.value;c.style.opacity=0,c.style.display=r||"block"}}catch(t){s.e(t)}finally{s.f()}this.isFadeIn=!0;var l=parseFloat(t[0].dataset.opacityTarget||1),d=16.66666*l/(e||this.options.fadeSpeed);!function e(){var r=parseFloat(t[0].style.opacity);if((r+=d)>l){var i,s=o(t);try{for(s.s();!(i=s.n()).done;)i.value.style.opacity=""}catch(t){s.e(t)}finally{s.f()}n&&n.call(a,t)}else{var c,u=o(t);try{for(u.s();!(c=u.n()).done;)c.value.style.opacity=r}catch(t){u.e(t)}finally{u.f()}if(!a.isFadeIn)return;requestAnimationFrame(e)}}()}},{key:"hide",value:function(t){var e,n=o(t=this.wrap(t));try{for(n.s();!(e=n.n()).done;){var r=e.value;r.dataset.initialDisplay=r.style.display,r.style.display="none"}}catch(t){n.e(t)}finally{n.f()}}},{key:"show",value:function(t,e){var n,r=o(t=this.wrap(t));try{for(r.s();!(n=r.n()).done;){var i=n.value;i.style.display=i.dataset.initialDisplay||e||"block"}}catch(t){r.e(t)}finally{r.f()}}},{key:"wrap",value:function(t){return"function"==typeof t[Symbol.iterator]&&"string"!=typeof t?t:[t]}},{key:"on",value:function(t,e){t=this.wrap(t);var n,r=o(this.elements);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.fullyNamespacedEvents||(i.fullyNamespacedEvents={});var a,s=o(t);try{for(s.s();!(a=s.n()).done;){var c=a.value;i.fullyNamespacedEvents[c]=e,i.addEventListener(c,e)}}catch(t){s.e(t)}finally{s.f()}}}catch(t){r.e(t)}finally{r.f()}return this}},{key:"off",value:function(t){t=this.wrap(t);var e,n=o(this.elements);try{for(n.s();!(e=n.n()).done;){var r,i=e.value,a=o(t);try{for(a.s();!(r=a.n()).done;){var s=r.value;void 0!==i.fullyNamespacedEvents&&s in i.fullyNamespacedEvents&&i.removeEventListener(s,i.fullyNamespacedEvents[s])}}catch(t){a.e(t)}finally{a.f()}}}catch(t){n.e(t)}finally{n.f()}return this}},{key:"open",value:function(t){t=t||this.elements[0],"undefined"!=typeof jQuery&&t instanceof jQuery&&(t=t.get(0)),this.initialImageIndex=this.elements.indexOf(t),this.initialImageIndex>-1&&this.openImage(t)}},{key:"next",value:function(){this.loadImage(1)}},{key:"prev",value:function(){this.loadImage(-1)}},{key:"destroy",value:function(){this.off(["close."+this.eventNamespace,"closed."+this.eventNamespace,"nextImageLoaded."+this.eventNamespace,"prevImageLoaded."+this.eventNamespace,"change."+this.eventNamespace,"nextDone."+this.eventNamespace,"prevDone."+this.eventNamespace,"error."+this.eventNamespace,"changed."+this.eventNamespace,"next."+this.eventNamespace,"prev."+this.eventNamespace,"show."+this.eventNamespace,"shown."+this.eventNamespace]),this.removeEventListener(this.elements,"click."+this.eventNamespace),this.removeEventListener(document,"focusin."+this.eventNamespace),this.removeEventListener(document.body,"contextmenu."+this.eventNamespace),this.removeEventListener(document.body,"keyup."+this.eventNamespace),this.removeEventListener(this.domNodes.navigation.getElementsByTagName("button"),"click."+this.eventNamespace),this.removeEventListener(this.domNodes.closeButton,"click."+this.eventNamespace),this.removeEventListener(window,"resize."+this.eventNamespace),this.removeEventListener(window,"hashchange."+this.eventNamespace),this.close(),this.isOpen&&(document.body.removeChild(this.domNodes.wrapper),document.body.removeChild(this.domNodes.overlay)),this.elements=null}},{key:"refresh",value:function(){if(!this.initialSelector)throw"refreshing only works when you initialize using a selector!";var t=this.options,e=this.initialSelector;return this.destroy(),this.constructor(e,t),this}},{key:"hash",get:function(){return window.location.hash.substring(1)}}])&&i(e.prototype,n),t}(),c=s;e.Z=c,n.g.SimpleLightbox=s},584:function(t,e,n){var o,r;void 0===(r="function"==typeof(o=function(){var t=!1;function e(t){this.opts=function(){for(var t=1;t<arguments.length;t++)for(var e in arguments[t])arguments[t].hasOwnProperty(e)&&(arguments[0][e]=arguments[t][e]);return arguments[0]}({},{onClose:null,onOpen:null,beforeOpen:null,beforeClose:null,stickyFooter:!1,footer:!1,cssClass:[],closeLabel:"Close",closeMethods:["overlay","button","escape"]},t),this.init()}function n(){this.modalBoxFooter&&(this.modalBoxFooter.style.width=this.modalBox.clientWidth+"px",this.modalBoxFooter.style.left=this.modalBox.offsetLeft+"px")}return e.prototype.init=function(){if(!this.modal)return function(){this.modal=document.createElement("div"),this.modal.classList.add("tingle-modal"),0!==this.opts.closeMethods.length&&-1!==this.opts.closeMethods.indexOf("overlay")||this.modal.classList.add("tingle-modal--noOverlayClose"),this.modal.style.display="none",this.opts.cssClass.forEach((function(t){"string"==typeof t&&this.modal.classList.add(t)}),this),-1!==this.opts.closeMethods.indexOf("button")&&(this.modalCloseBtn=document.createElement("button"),this.modalCloseBtn.type="button",this.modalCloseBtn.classList.add("tingle-modal__close"),this.modalCloseBtnIcon=document.createElement("span"),this.modalCloseBtnIcon.classList.add("tingle-modal__closeIcon"),this.modalCloseBtnIcon.innerHTML='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.3 9.7c.2.2.4.3.7.3.3 0 .5-.1.7-.3L5 6.4l3.3 3.3c.2.2.5.3.7.3.2 0 .5-.1.7-.3.4-.4.4-1 0-1.4L6.4 5l3.3-3.3c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L5 3.6 1.7.3C1.3-.1.7-.1.3.3c-.4.4-.4 1 0 1.4L3.6 5 .3 8.3c-.4.4-.4 1 0 1.4z" fill="#000" fill-rule="nonzero"/></svg>',this.modalCloseBtnLabel=document.createElement("span"),this.modalCloseBtnLabel.classList.add("tingle-modal__closeLabel"),this.modalCloseBtnLabel.innerHTML=this.opts.closeLabel,this.modalCloseBtn.appendChild(this.modalCloseBtnIcon),this.modalCloseBtn.appendChild(this.modalCloseBtnLabel)),this.modalBox=document.createElement("div"),this.modalBox.classList.add("tingle-modal-box"),this.modalBoxContent=document.createElement("div"),this.modalBoxContent.classList.add("tingle-modal-box__content"),this.modalBox.appendChild(this.modalBoxContent),-1!==this.opts.closeMethods.indexOf("button")&&this.modal.appendChild(this.modalCloseBtn),this.modal.appendChild(this.modalBox)}.call(this),function(){this._events={clickCloseBtn:this.close.bind(this),clickOverlay:function(t){var e=this.modal.offsetWidth-this.modal.clientWidth,n=t.clientX>=this.modal.offsetWidth-15,o=this.modal.scrollHeight!==this.modal.offsetHeight;"MacIntel"===navigator.platform&&0==e&&n&&o||-1!==this.opts.closeMethods.indexOf("overlay")&&!function(t,e){for(;(t=t.parentElement)&&!t.classList.contains("tingle-modal"););return t}(t.target)&&t.clientX<this.modal.clientWidth&&this.close()}.bind(this),resize:this.checkOverflow.bind(this),keyboardNav:function(t){-1!==this.opts.closeMethods.indexOf("escape")&&27===t.which&&this.isOpen()&&this.close()}.bind(this)},-1!==this.opts.closeMethods.indexOf("button")&&this.modalCloseBtn.addEventListener("click",this._events.clickCloseBtn),this.modal.addEventListener("mousedown",this._events.clickOverlay),window.addEventListener("resize",this._events.resize),document.addEventListener("keydown",this._events.keyboardNav)}.call(this),document.body.appendChild(this.modal,document.body.firstChild),this.opts.footer&&this.addFooter(),this},e.prototype._busy=function(e){t=e},e.prototype._isBusy=function(){return t},e.prototype.destroy=function(){null!==this.modal&&(this.isOpen()&&this.close(!0),function(){-1!==this.opts.closeMethods.indexOf("button")&&this.modalCloseBtn.removeEventListener("click",this._events.clickCloseBtn),this.modal.removeEventListener("mousedown",this._events.clickOverlay),window.removeEventListener("resize",this._events.resize),document.removeEventListener("keydown",this._events.keyboardNav)}.call(this),this.modal.parentNode.removeChild(this.modal),this.modal=null)},e.prototype.isOpen=function(){return!!this.modal.classList.contains("tingle-modal--visible")},e.prototype.open=function(){if(!this._isBusy()){this._busy(!0);var t=this;return"function"==typeof t.opts.beforeOpen&&t.opts.beforeOpen(),this.modal.style.removeProperty?this.modal.style.removeProperty("display"):this.modal.style.removeAttribute("display"),this._scrollPosition=window.pageYOffset,document.body.classList.add("tingle-enabled"),document.body.style.top=-this._scrollPosition+"px",this.setStickyFooter(this.opts.stickyFooter),this.modal.classList.add("tingle-modal--visible"),"function"==typeof t.opts.onOpen&&t.opts.onOpen.call(t),t._busy(!1),this.checkOverflow(),this}},e.prototype.close=function(t){if(!this._isBusy()){if(this._busy(!0),"function"==typeof this.opts.beforeClose&&!this.opts.beforeClose.call(this))return void this._busy(!1);document.body.classList.remove("tingle-enabled"),document.body.style.top=null,window.scrollTo({top:this._scrollPosition,behavior:"instant"}),this.modal.classList.remove("tingle-modal--visible");var e=this;e.modal.style.display="none","function"==typeof e.opts.onClose&&e.opts.onClose.call(this),e._busy(!1)}},e.prototype.setContent=function(t){return"string"==typeof t?this.modalBoxContent.innerHTML=t:(this.modalBoxContent.innerHTML="",this.modalBoxContent.appendChild(t)),this.isOpen()&&this.checkOverflow(),this},e.prototype.getContent=function(){return this.modalBoxContent},e.prototype.addFooter=function(){return function(){this.modalBoxFooter=document.createElement("div"),this.modalBoxFooter.classList.add("tingle-modal-box__footer"),this.modalBox.appendChild(this.modalBoxFooter)}.call(this),this},e.prototype.setFooterContent=function(t){return this.modalBoxFooter.innerHTML=t,this},e.prototype.getFooterContent=function(){return this.modalBoxFooter},e.prototype.setStickyFooter=function(t){return this.isOverflow()||(t=!1),t?this.modalBox.contains(this.modalBoxFooter)&&(this.modalBox.removeChild(this.modalBoxFooter),this.modal.appendChild(this.modalBoxFooter),this.modalBoxFooter.classList.add("tingle-modal-box__footer--sticky"),n.call(this),this.modalBoxContent.style["padding-bottom"]=this.modalBoxFooter.clientHeight+20+"px"):this.modalBoxFooter&&(this.modalBox.contains(this.modalBoxFooter)||(this.modal.removeChild(this.modalBoxFooter),this.modalBox.appendChild(this.modalBoxFooter),this.modalBoxFooter.style.width="auto",this.modalBoxFooter.style.left="",this.modalBoxContent.style["padding-bottom"]="",this.modalBoxFooter.classList.remove("tingle-modal-box__footer--sticky"))),this},e.prototype.addFooterBtn=function(t,e,n){var o=document.createElement("button");return o.innerHTML=t,o.addEventListener("click",n),"string"==typeof e&&e.length&&e.split(" ").forEach((function(t){o.classList.add(t)})),this.modalBoxFooter.appendChild(o),o},e.prototype.resize=function(){console.warn("Resize is deprecated and will be removed in version 1.0")},e.prototype.isOverflow=function(){return window.innerHeight<=this.modalBox.clientHeight},e.prototype.checkOverflow=function(){this.modal.classList.contains("tingle-modal--visible")&&(this.isOverflow()?this.modal.classList.add("tingle-modal--overflow"):this.modal.classList.remove("tingle-modal--overflow"),!this.isOverflow()&&this.opts.stickyFooter?this.setStickyFooter(!1):this.isOverflow()&&this.opts.stickyFooter&&(n.call(this),this.setStickyFooter(!0)))},{modal:e}})?o.call(e,n,e,t):o)||(t.exports=r)}},e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={exports:{}};return t[o].call(r.exports,r,r.exports,n),r.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";var t,e,o,r,i,a=n(669),s=n.n(a),c={apiUrl:"https://apo-api.mageworx.com/front",variantOptionsUri:"https://apo-api.mageworx.com/front/product/:shopDomain/:cacheHash/:productId/:variantId.js",cartOptionsUri:"https://apo-api.mageworx.com/front/product/:shopDomain/cart/:cartId",cartQtyOptionsUri:"https://apo-api.mageworx.com/front/product/:shopDomain/cart/:cartId/qty/:qty"};function l(t){return t.replace(/http(s)?:/,"")}!function(t){t.INLINE="inline",t.MODAL="modal"}(t||(t={})),function(t){t.INIT="data-mw-apo-init",t.VARIANT_ID="data-mw-apo-variant-id",t.PROCESS="data-mw-apo-process",t.CONFIGURE_LINK="data-mw-apo-configure-link",t.CART_ID="data-mw-apo-cart-id",t.PROP_HIDDEN="data-mw-apo-hidden-prop",t.S_CONTAINER="data-mw-apo-s-container",t.S_ADD_TO_CART="data-mw-apo-s-add-to-cart",t.S_PRICE="data-mw-apo-s-price",t.S_COMPARE_PRICE="data-mw-apo-s-compare-price",t.S_GALLERY_CONTAINER="data-mw-apo-s-gallery-container",t.S_GALLERY_IMAGE="data-mw-apo-s-gallery-image",t.S_QUANTITY="data-mw-apo-s-quantity",t.S_VARIANTS="data-mw-apo-s-variants",t.S_FORM="data-mw-apo-s-form",t.H_VALIDATION_DISABLED="data-mw-apo-validation-disabled",t.TOOLTIP="data-mw-tooltip",t.TOOLTIP_PLACEMENT="data-mw-tooltip-placement",t.DESCRIPTION_TOOLTIP="data-mw-option-value-description-tooltip",t.DESCRIPTION_TEXT="data-mw-option-value-description-text",t.QTY_VALUE_ID="data-qty-for-value",t.VALUE_ID="data-value-id",t.EVENT_SKIP="data-mw-apo-event-skip",t.LIGHTBOX="data-mw-lightbox",t.TEXT_LENGTH="data-mw-text-max-length",t.ACCUMULATED_TITLE="data-mw-option-accumulated-title"}(e||(e={})),function(t){t.HAS_OPTIONS="mw-apo-has-options",t.ORIGIN_ADD_TO_CART="mw-apo-add-to-cart-hide",t.ORIGIN_BUY_IT_NOW="mw-apo-buy-it-now-hide",t.CLONED_ADD_TO_CART="mw-apo-add-to-cart-cloned",t.CLONED_BUY_IT_NOW="mw-apo-buy-it-now-cloned",t.IN_PROGRESS="mw-apo-in-progress",t.VISUALLY_HIDDEN="mw-visually-hidden",t.HIDDEN="mw-hidden",t.OPTION_CONTAINER="mw-option__container",t.OPTION_VALUE_BLOCK="mw-option__value",t.OPTION_HELPTEXT="mw-option__helptext",t.OPTION_VALUE_SELECTED="mw-option__value--selected",t.OPTION_MEDIA="mw-option__media",t.VALUE_QTY_BLOCK="mw-option__value-qty",t.VALUE_QTY_BLOCK_DISABLED="mw-option__value-qty--disabled",t.CONFIGURE_LINK="mw-apo-configure-link",t.PREVENT_DEFAULT="mw-apo-prevent-default"}(o||(o={})),(i=r||(r={})).OWN_VARIANT_TITLE="#MWS Options",i.OWN_PROP_CART="_mws_cart",i.OWN_PROP_QTY="_mws_qty",i.OWN_PROP_PRODUCTS="_mws_products",i.OWN_PROP_REQUIRED="_mws_required",i.OWN_PROP_OPTION="_mws_option",i.CART_TOKEN_COOKIE_NAME="_mws_apo_cart_token",i.PRODUCT_META_PLACEHOLDER="__product_meta__";const d=(...t)=>{(document.cookie.indexOf("mw-develop")>-1||c.apiUrl.indexOf(".mws.test")>-1)&&console.log("%c%s%c%s","color: #7d5ac0;","MW APO:","color: #313749;font-size:14px;",JSON.stringify(t))},u=(t,e=1e3)=>{const n=document.scrollingElement||document.documentElement,o=n.scrollTop,r=t-o;let i=0;const a=()=>{i+=20;const t=(s=i,c=o,l=r,(s/=e/2)<1?l/2*s*s+c:-l/2*(--s*(s-2)-1)+c);var s,c,l;n.scrollTop=t,i<e&&setTimeout(a,20)};a()},p=t=>{const e=document.createElement("div");return e.innerHTML=t,e},f=(t,n)=>{const o=document.createElement("input");return o.setAttribute("type","hidden"),o.setAttribute(e.PROP_HIDDEN,""),o.setAttribute("name",t),o.setAttribute("value",n),o},m=(t,e,n)=>{(n=Object.assign({path:"/"},n)).expires instanceof Date&&(n.expires=n.expires.toUTCString());let o=encodeURIComponent(t)+"="+encodeURIComponent(e);for(let t in n){o+="; "+t;let e=n[t];!0!==e&&(o+="="+e)}document.cookie=o},h=t=>{var e;const n=`; ${document.cookie}`.split(`; ${t}=`);let o;return 2==n.length&&(o=null===(e=n.pop())||void 0===e?void 0:e.split(";").shift()),void 0!==o?decodeURIComponent(o):o},g=t=>{const e=t=>{if(13===t.keyCode)return t.preventDefault(),t.stopPropagation(),!1};t.addEventListener("keydown",e,!0),t.addEventListener("keyup",e,!0)},_=(t,e)=>{var n=t;return e[n],function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n}(e,["symbol"==typeof n?n:n+""])},v={cart_row:[".has-popup-tab .popup-tab .detail .item","#main #cartform .cart-list .item",".topBar__miniCart #mini_cart_form .cart_items .miniCart__item","#cart_form .container .cart__itemList .cart__card",".cart-mini-sidebar .cart-mini-content .cart-mini-item",".template-cart .section-cart .cart .cart-table tbody .table-row",".container.clearfix > div .twelve .twelve .cart-table.bottompad .item-row","#header-cart .mini-products-list:first-child .grid",".cart .grid table tbody tr.cart__row",".recently-added table tbody tr",".custom .row .columns .cart-table tbody tr",".cart-summary .cart-summary__product:first-child","form .cart-items .cart-item-container","#CartForm #CartOuter table tbody .item","#your-shopping-cart .page-container .main-content .items > .item:not(:last-child)","#cart-summary .inner .cart-summary-item-list .cart-summary-item","#cartform .cart-items .item",".cart-form .cart-content > div .cart-item-wrapper .cart-item",".ajaxcart .max-width--4 .cart .cart__row.mt3 .grid:first-child","form .cart .cart__row:nth-child(2) .grid:first-child",".ajaxcart .items .item",".cart .items .item",".cart-preview .product-container .box.product",".cart-form .cart-items .cart-item","#cart-form table tbody .cart-row",".ajaxcart .ajaxcart__inner .ajaxcart__product .ajaxcart__row",".cart .cart-table tbody .cart__row",".halo-modal-body .cart-popup-content .cart-form .scroll-content .cart_items .cart-list li","#dropdown-cart .has-items .mini-products-list .item",".cart-form .cart_items .cart-list li","#dropdown-cart .has-items .mini-products-list .item",".shopify-section form .wrapper-cart .cart-list li","#shopify-section-static-cart form .cartitems--container .cartitems .cart-item","#cartform .cart-table tbody tr.even",".standard-page form .cart-items.row",".ajaxcart .ajaxcart__inner .ajaxcart__product .ajaxcart.row","#cartform table tbody tr","#CartDrawer #CartContainer .ajaxcart .ajaxcart__product .ajaxcart__row","#your-shopping-cart #PageContainer .cart .cart-table .cart__row",".cart__form .cart__table .cart__items .cart__item",".modal-cart-form table.table-shopping-cart tbody .cart-line-item",".main-cart-form table.table-shopping-cart tbody .cart-line-item",".cart-form .cart-items tbody tr.cart-item",".site-main #shopify-section-static-cart .cart-form .cart-items .cart-item",".ajaxcart .drawer__inner .ajaxcart__product .ajaxcart__row",".cart .cart__row:nth-child(2) .grid.cart__row--table-large",".cart .ajaxcart__inner .ajaxcart__product .ajaxcart__row","form.cart .cart__row:not(.cart__header-labels) .grid--full.cart__row--table-large",".mini-cart .mini-cart__content .mini-cart__full .mini-cart__items .mini-cart__item","form table tbody tr","form .cart--mobile .cart__items .cart-item","#cart-form .cart-row",".cart .cart-table tbody tr.cart__row","form .cart-items-container .cart-items tbody tr.cart-item",".modal--window .modal--container form .variant-id",".template--cart .layout--main-content form .content .variant-id",".template-cart .cart .cart-items",".header-cart .header-cart-items .header-cart-item",".grid #cartForm .cartRow",".modal--container .fw--cart form .content .variant-id",".panel div form .content .variant-id",".shopify-section .reading-container #cartform ul li.item",".cart #shopify-section-cart-template  #cart_form ul li",".container-wrap .container #Cart form .cart-table #CartItems .line-item",".cartContainer .scroll #Cart form .cart-table #CartItems .line-item",".ajaxcart .ajaxcart__inner .ajaxcart__product .ajaxcart__row .grid","#shopping-cart #cartform .desktop-8.tablet-6 .cart-item","form .cart-items tbody .cart-item",".ajaxcart .ajaxcart__inner .ajaxcart__product .ajaxcart__row .grid",".cart.table-wrap .cart-table tbody .cart__row",".mm-panels .mm-opened .cart_item",".ajaxcart__content .cart__body .cart__row:not(:first-child)",".template-cart .cartForm .cart__body .cart__row:not(:first-child)",".cart-wrapper .cart-inner > div .cart-content .clearfix .item-cart",".cart div .cart-table-wrap .data-table tbody tr","#shopify-section-cart-template .cart .line-items .line-item",".static-cart-wrapper .cart .cart-container .cart-container-scrollable .cart-items .cart-item-row","#site-header-drawer-cart .cart-mini .cart-container .cart-container-scrollable .cart-items .cart-item-row","#cart_form ul li","#cart .mm-panels .mm-panel ul.mm-listview .cart_item","#cart_form .section .cart_items","#cartform .cart-list .item.clearfix",".cart_menu form .cart_row:first-child ul:last-child",".cart_tbl form .con_row ul","#site-cart .site-nav-container-last .top .cart .cart-items .cart-item",".site-box-content .cart .cart-items .cart-item","#shopify-section-template-cart form table.cart-items tbody tr.cart-item",".cartForm .cart__body .cart__row:last-child .cart__row--table-large:first-child","#cartform .cart-contents .clearfix",".template-product #cart-summary-overlay .cart-summary-overlay__column-item .cart-summary-overlay__variants","#cartform .item-list .item .desc div .name","#ajaxifyCart .cart-form .ajaxifyCart--products .ajaxifyCart--product",".cart #shopping-cart #cartform table tbody tr",".mini-cart .mini-cart__inner .mini-cart__items .mini-cart__item-wrapper .mini-cart__item",".container form .cart__items tbody tr.cart-item","#cart_form .section .columns .section.clearfix:first-child",".cart_container .cart_content form.js-cart_content__form ul.js-cart_items .cart_item ","#cartform table.desktop-9 tbody tr",".cart-form .cart__products .cart__product .cart__row",".ajaxcart__form .ajaxcart__inner .ajaxcart__products .ajaxcart__product .ajaxcart__row",".container-widget .shopping-cart-table tbody tr"],product_form:[".nav-shift .shopify-section .product .container #main form",".product__container div .product__section .product_form .shopify-product-form",".template-product .page-body-content .section-product .product-details-wrapper .product-form",".container.clearfix > div .product-grid-product-template .twelve .bottompad .product-variants #add-item-form-product-template",".pageWrapper .page-container .main-content .shopify-section .product-template__container .grid .grid__item .product-single__meta .product-form",".product-page--main-content .product-page--cart-form-block .product-page--cart-form .shopify-product-form",".section-product .grid .product-info div:nth-child(3) .AddToCartForm",".form__width .product__form .product-form",".template-product .page-container .main-content .item .shopify-product-form",".row.light-space-above .product-details .product-section .product-form",".page-wrapper .product-wrapper .product-options #product-options .product-form .shopify-product-form",".grid .grid__item.five-twelfths .product-form",".item .right .shopify-product-form",".main-content > div .grid .product-aside .purchase-box .product-form","#shopify-section-page-product .product-page .product-details-wrap .product-form",".product-page--form #AddToCartForm--product-template .shopify-product-form:first-child",".product .row .product-shop .shopify-product-form",".product .row .product-shop div #add-to-cart-form",".product--container .product--outer .product-form--alt div form","#product-box .col-md-5 .product-description-main-wrapper #add-to-cart-form",".grid .grid__item.five-twelfths .product-form",".product-page #product-right #product-description div .product_form",".product-sticky-wrapper .product-details-wrapper .product-details--form-wrapper #AddToCartForm",".product.container .inner .product__details.clearfix .product__info .product__form",".desktop-flex-wrapper .product-description-product-template .product-item-caption-white .shopify-product-form",".product-container .product .product-details-wrapper .shopify-product-form",".page-template-product .site-main #shopify-section-static-product form",".desktop-flex-wrapper .product-description-product-template .product-item-caption-white .shopify-product-form",".sidebarColumn-inner .content-wrapper--title > div #AddToCartForm .shopify-product-form",".product__details .inner .grid .product__info .product__form",".product-description div #add-to-cart-product-page .shopify-product-form",".section-product .grid .product-info div:nth-child(3) .AddToCartForm","#shopify-section-static-product .module-wrapper .product-wrap .product-form","#shopify-section-product .product-page--main .product-page--info-box--container .product-page--cart-form .shopify-product-form",".section-product-template .form-vertical","#productTop .grid .productInfo #prodForm",".partial--product .details .add-to-cart .shopify-product-form",".shopify-section > div .product-container .product-info .inner .product-form",".product .product_section .product__description .product_form .shopify-product-form",".product-info .product-info--wrapper .product-form .productForm",".product-template .product-top .product-right #AddToCartForm","#shopify-section-page-product div .product-form .shopify-product-form",".product--product-template .grid__item .grid .grid__item .product-form",".product .product-template-section .main-wrapper div.sixteen:last-child > div:first-child .product_form .shopify-product-form","#shopify-section-product #ProductSection-product .product-single #productInfo-product .shopify-product-form",".product-page-area .product-essential .row .product-shop .product-shop-wrapper .product-type-main .product-form",".Product__Wrapper .Product__InfoWrapper .Product__Info .Container .ProductForm","#shopify-section-product-template .shopify-product-form",".product-atc .product-atc-steps .product-atc-step-form .product-form",".section .six.columns .product_form .shopify-product-form:first-child",".product_section.product_images_position--left .seven.columns.omega .product_form .shopify-product-form",".product-area .product-detail .product-detail__form .feedback-go_to_cart",".pro_main_c .row div form","#section-product .site-box .site-box-content div #add-to-cart-product .shopify-product-form",".main-content #shopify-section-module-product .product-details-inline .product-wrap .product-form .shopify-product-form",".product__form__wrapper > div .product__form .shopify-product-form","#main #shopify-section-product-template div .product-details .shopify-product-form",".product-detail .detail .product-form form:first-child",".product #content #product-description #AddToCartForm",".container .grid .grid__cell .product__details .product__form ","#shopify-section-product-template > div .js-product_section > div .product_form .shopify-product-form:first-child",".product-top #product-description div .shopify-product-form",".container .product-single__bottom > div .js-cart-replace .product-single__box .js-product-form",".product-info-outer .col-sm-12 .row .product-info div:nth-child(3) #add-item-form",'.page-container .grid .grid__item .product-form[action="/cart/add"]','form[action="/cart/add"]'],add_to_cart:["form .row.clearfix .column.full:last-child .product-form .quadd-wrapper .product-add .button",".product_form .shopify-product-form .add_to_cart:first-child",".template-product .page-body-content .section-product .product-details-wrapper .product-form .addtocart-button-active","#add-item-form-product-template .purchase-section div.four:last-child .purchase .bottompad-quarter #add-to-cart-product-template",".product-form .product-action .product-form__item--submit #AddToCart-product-template",".shopify-product-form .quanity-cart-row .add-to-cart #add",".product-form .product-detail__quantity-row .btn",".product-form .product__submit .product__submit__buttons .product__submit__add",".template-product .page-container .main-content .item .shopify-product-form .add-to-cart",".product-form .payment-and-quantity--with-quantity .payment-and-quantity__add .product-add",".shopify-product-form .form-actions .button",".shopify-product-form .add-to-cart-container .btn--add-to-cart",".shopify-product-form .row .add-to-cart",".main-content > div .grid .product-aside .purchase-box .product-form .shopify-product-form .cart-buttons .button-wrapper .default-cart-button__button",".product-form .product-add-to-cart .product-add .add-to-cart",".shopify-product-form .cta-content--pay-buttons #AddToCart--product-template:first-child",".shopify-product-form .groups-btn .btn",".product-shop div #add-to-cart-form #product-add-to-cart",".product-form--alt div form .product-form--atc .product-form--atc-button","#add-to-cart-form .row .product-page--submit-action #purchase",".product-form div:nth-child(2) .btn",".product_form #product-add #AddToCart",".product-sticky-wrapper .product-details-wrapper .product-details--form-wrapper #AddToCartForm .paymentButtonsWrapper #AddToCart",".product__form .product__buy .button:first-child",".shopify-product-form .row .product-form__item #AddToCart-product-template",".shopify-product-form .product-add-to-cart .add-to-cart",".product-menu .product-menu-buttons .product-menu-buttons-content .product-menu-buttons-addtocart .product-menu-button",".product-single__meta .product-single__form .add-to-cart",".shopify-product-form .product-selectors #AddToCart",".product__form .product__buy .product__add-to-cart",".shopify-product-form .buttons-holder .addToCart",".AddToCartForm .cta-content .AddToCart",".product-form .add-to-cart .product-form-add-to-cart .product-form-submit-wrap .add-to-cart-button","#shopify-section-product .product-page--main .product-page--info-box--container .product-page--cart-form .shopify-product-form .product-page--add-to-cart",".section-product-template .form-vertical .product-template__container .product-details .product-smart-wrapper .add-to-cart-btn","#productTop .grid .productInfo #prodForm #AddToCart",".shopify-product-form .product-page--cart-container .product-page--cart--column-b span .add",".product-form .productoptions .with-payment-button .add-to-cart",".product .product_section .product__description .product_form .shopify-product-form .purchase-details .add_to_cart","form.productForm .productForm-block div .productForm-submit","#AddToCartForm .product-add .AddtoCart",".shopify-product-form .product-submit .payment-buttons-container .add-to-cart",".grid__item .product-form #AddToCart",".product .product-template-section .main-wrapper div.sixteen:last-child > div:first-child .product_form .shopify-product-form .add_to_cart","#shopify-section-product #ProductSection-product .product-single #productInfo-product .shopify-product-form .add-to-cart__wrapper #AddToCart-product",".product-form .product-options-bottom .add-to-cart-box .actions > div .button-wrapper-content .add-to-cart",".Product__Wrapper .Product__InfoWrapper .Product__Info .Container .ProductForm .ProductForm__AddToCart","#shopify-section-product-template .shopify-product-form .item .add-to-cart",".product-form > div .product-form-atc .form-element-wrapper .form-element-quantity-submit .form-element-submit-button",".shopify-product-form .purchase-details .purchase-details__buttons .add_to_cart:first-child","#product-form .purchase-details .purchase-details__buttons .add_to_cart",".feedback-go_to_cart .cf .product-detail__form__action .button",".shopify-section > div .shopify-product-form .desc_blk .desc_blk_bot .btn_c",".shopify-product-form .cart-functions .button",".shopify-product-form .input-wrapper .product-quantity-container .add-to-cart .product-form-submit-wrap .button",".shopify-product-form .product__submit .product__submit__buttons .product__submit__add",".shopify-product-form .quick-actions .button","form .quantity-submit-row__submit .button:first-child",".product #content #product-description #AddToCartForm #addToCart",".grid__cell .product__details .product__form .product__add-to-cart",".shopify-product-form .purchase-details .purchase-details__buttons .add_to_cart:first-child",".shopify-product-form .product-add .add",".js-product-form .product-single__add .js-product-add","#add-item-form .wrapper .pull-left:last-child .addtocart",'.product-form[action="/cart/add"] .product-form__item .btn[name="add"]',".product-form .product-form__buttons .product-form__add-to-cart:first-child",".product-main .product-form--atc .product-form--atc-button",".product__content .product__content-main .product__form-wrapper .product__add-to-cart-button",".product-wrapper #AddToCart--product-template",".page-margin--product .product__form #klaviyo_sensor_pro",'.product:first-child .variations_form .single_add_to_cart_button[type="submit"]'],price:["form .title-row .product-price .theme-money",".product__container div .product__section .product__details .product__price span .current_price .money",".template-product .page-body-content .section-product .product-details-wrapper .price .money","#product-id-product-template > div .relative-product-template > div .content-height-product-template > div .twelve .offers #price-product-template",".shopify-section .product-template__container .grid .grid__item .product-single__meta .product-single__price .product-price__price #ProductPrice-product-template",".product-page--main-content .product-page--cart-form-block .prices div p .actual-price",".product-detail__detail > div .product-detail__title-area .product-detail__price span .theme-money",".form__inner__wrapper .form__width .product__title__wrapper .product__price span",".template-product .page-container .main-content .item .info .price .money span",".row.light-space-above .product-details .product-section .product-price .current-price",".page-wrapper .product-wrapper .product-options .product-price .money:first-child",".max-site-width .lg--up--seven-eighths .grid .grid__item:nth-child(2) .wd--pt3 .mt3 div #AddToCartForm--product .shopify-product-form",".item .right div #productPrice-product-template .money",".main-content > div .grid .product-aside .purchase-box .product-form .shopify-product-form .price #ProductPrice-product-template",".product-form .product-add-to-cart .product-price .product-price-minimum",".wrapper .grid .grid__item .product-page--form .f--main .ProductPrice:first-child",".row .product-shop .prices .price .money",".product-shop div #add-to-cart-form .prices .price",".product-main .product-details .product-pricing .product--price .price--main .money","#add-to-cart-form .product-page--pricing .product-page--pricing--variant-price #price-field .money",".grid .grid__item.five-twelfths .product-price span .theme-money",".product-page #product-right #product-description div .product-prices .product-price",".product-sticky-wrapper .product-details-wrapper .product-details--form-wrapper #AddToCartForm #ProductPrice .money",".product.container .inner .product__details.clearfix .product__meta.product__meta--mobile .product__prices .product__price:not(.product__price--old):not(.product__price--new)",".desktop-flex-wrapper > div .mobile-hidden-sm .product-item-caption-header .product-item-caption-price #ProductPrice-product-template .money",".product-details-wrapper .product-details .product-price .product-price-minimum",".product-menu .product-menu-buttons .product-menu-buttons-content .product-menu-buttons-addtocart .product-menu-button .money",".product-details .product-price .money:last-child",".main-content #shopify-section-product-template .product-section .page-content--product .page-width .grid .grid__item .product-single__meta .product__price .money:first-child",".shopify-product-form .medium-down--text-center .medium-down--text-center",".product__details .inner .grid .product__info .product-meta .product-meta__prices .product-meta__price","#shopify-section-product-page .product-page .product-content .product-header .product-price .productPrice",".section-product .grid .product-info .priceWrapper #ProductPrice",".module-product .product-wrap .product-details .product-price .price .money:first-child","#shopify-section-product .product-page--main .product-page--info-box--container .product-page--cart-form .shopify-product-form .product-page--price span",".section-product-template .form-vertical .product-template__container .js-prod-price span","#productTop .grid .productInfo .price #ProductPrice",".shopify-product-form .product-page--cart-container .product-page--cart--column-a .price .actual-price",".shopify-section > div .product-container .product-info .inner .majorinfo .pricearea .current-price",".product .product_section .product__description .current_price  .money span",".product-info .product-info--wrapper .block .product-price .product-normal-price .money","#AddToCartForm #product-price .product-price .money",".shopify-product-form .product-submit .product-price .product-price-minimum",".grid__item .product-form #ProductPrice",".product .product-template-section .main-wrapper div.sixteen:last-child > div:first-child .modal_price .current_price .money span","#shopify-section-product #ProductSection-product .product-single #productInfo-product .text-center .product__price .money #ProductPrice-product .money span",".product-page-area .product-essential .row .product-shop .product-shop-wrapper .product-type-data .price-box .detail-price .price .money",".Product__Wrapper .Product__InfoWrapper .Product__Info .Container .ProductForm .ProductForm__AddToCart span:last-child",".Product__Wrapper .Product__InfoWrapper .Product__Info .Container .ProductMeta .ProductMeta__PriceList .ProductMeta__Price","#shopify-section-product-template .pricing .price span",".product-main-content .product-header-desktop .product-price .price-main",".product .product-header-mobile .product-price .price-main",".section .six.columns .modal_price span .current_price .money:first-child",".product_section.product_images_position--left .seven.columns.omega p.modal_price span:nth-child(1) .money",".form__inner__wrapper .form__width .product__title__wrapper .product__price span",".shopify-section > div .shopify-product-form .desc_blk .desc_blk_bot .price .money","#section-product .site-box .site-box-content .price .product-price",".main-content #shopify-section-module-product .product-details-inline .product-details .product-price .price .money",".product__form__wrapper > div .product__title__wrapper .product__price span","#shopify-section-product-template div .product-details .product-price-wrap #productPrice-product-template .price-money .money",".product-detail .detail .price-area .theme-money .money:first-child",".product #content #product-description #AddToCartForm .product-price .money span",".grid__cell .product__details .product__meta .product__prices .product__price",".product-template .main div div div .js-product_section div .modal_price span .current_price .money:first-child",".product-top #product-description div .shopify-product-form #product-price .product-price",".section--product-single > div .product-single__bottom > div .js-cart-replace > div .js-product-price-number .product-single__price-number .money",".product-info-outer .col-sm-12 .row .product-info div:nth-child(3) .product-info__price .price-box__new .money",".page-container .product__price .price:not(.price--on-sale) .price__pricing-group .price__regular .price-item.price-item--regular",".page-container .product__price .price--on-sale .price__pricing-group .price__sale .price-item.price-item--sale",".page-container .product-single__price",".product__content .price .price__pricing-group .price__regular .price-item--regular:first-child","#shopify-section-product-template .Product__Wrapper .ProductMeta .ProductMeta__PriceList .ProductMeta__Price",".product__content .product__price .product__current-price",".product-wrapper #ProductPrice",".product-single .product__price .price__regular .price-item--regular",".page-margin--product [data-form-wrapper] [data-price-wrapper] [data-product-price]","#shopify-section-product-template .product-single__meta .product-single__prices .product-single__price",".product:first-child .price-review .price_range"],compare_price:[".page-container .product__price .price--on-sale .price__pricing-group .price__sale .price-item.price-item--regular",".product-single .product__price .price__sale .price-item--sale"],cart_properties:[".cart-popup-wrapper .cart-popup-item .product-details .product-details__item",".cart .cart__row .cart__meta .product-details .product-details__item",".has-popup-tab .popup-tab .detail .item .detail .variant","#main #cartform .cart-list .item .col-desc .text .title",".topBar__miniCart #mini_cart_form .cart_items .miniCart__item .miniCart__itemDetails","#cart_form .container .cart__itemList .cart__card .cart__info .cart__text .meta",".cart-mini-sidebar .cart-mini-content .cart-mini-item .cart-mini-item-row .cart-mini-item-variant",".template-cart .section-cart .cart .cart-table tbody .table-row .product-item .variant",".container.clearfix > div .twelve .twelve .cart-table.bottompad .item-row .item-details .three h6",".cart .grid table tbody td.cart__meta .list-view-item__title",".block-cart .mini-products-list:first-child .grid .product-details .pName",".recently-added table tbody tr .cart-detail h2",".custom .row .columns .cart-table tbody tr .title p",".cart-summary .cart-summary__product:first-child .cart-summary__product__description .cart-summary__product__variants","form .cart-items .description .description__variant:last-child","#CartForm #CartOuter table tbody .item .desc a","#your-shopping-cart .page-container .main-content .item .product .subtitle","#cart-summary .inner .cart-summary-item-list .cart-summary-item .title-variant .variant","#cartform .cart-items .item .description .variant",".cart-form .cart-content > div .cart-item-wrapper .cart-item .cart-item-info-wrapper .cart-item-options ul li:nth-last-child(2)",".ajaxcart .max-width--4 .cart .cart__row.mt3 .grid:last-child .grid__item.three-quarters .pl2 .table.full--w","form .cart .cart__row:nth-child(2) .grid:last-child .grid__item.three-quarters .pl2 .table.full--w",".ajaxcart .items .item .right .description:last-child",".cart .items .item .right .description:last-child",".cart-preview .product-container .product figure figcaption",".cart-form .cart-items .cart-item .grid .cart-item-product .cart-item-title","#cart-form table tbody .cart-row .cart-detail a",".ajaxcart .ajaxcart__inner .ajaxcart__product .ajaxcart__row .grid .grid__item.grid__item.three-quarters .mb1 ",".cart .cart-table tbody .cart__row td:first-child .cart__info .product-grid-title",".halo-modal-body .cart-popup-content .cart-form .scroll-content .cart_items .cart-list li .cart-title .product-name","#dropdown-cart .has-items .mini-products-list .item .product-details .product-name",".cart-form .cart_items .cart-list li .details .cart-details .product-name",".shopify-section form .wrapper-cart .cart-list li .product-details p.size","#dropdown-cart .has-items .mini-products-list .item .product-details .product-name a","#shopify-section-static-cart form .cartitems--container .cartitems .cart-item .cart-item--inner .cart-item--content .cart-item--content-title",".atc-banner--container .atc-banner--outer .atc-banner--inner .atc-banner--product .atc--product .atc--product-details .atc--product-details--title","#cartform .cart-table tbody .cart-table-title .cart__meta-text",".standard-page form .cart-items.row > div .cart-item .cart-column--detail .cart-column--title-and-price .cart-variant",".ajaxcart .ajaxcart__inner .ajaxcart__product .ajaxcart.row .desktop-8.tablet-4 p .ajaxcart__product-meta","#cartform table tbody tr .cart-item .cart-title p","#CartDrawer #CartContainer .ajaxcart .ajaxcart__product .ajaxcart__row .ajaxcart__product-meta","#your-shopping-cart #PageContainer .cart .cart-table .cart__row td:nth-child(2) small",".cart__form .cart__table .cart__items .cart__item .cart-item__left .cart-item__title",".modal-cart-form table.table-shopping-cart tbody .cart-line-item .table-shopping-cart-img .table-shopping-cart-item",".main-cart-form table.table-shopping-cart tbody .cart-line-item .table-shopping-cart-img .table-shopping-cart-item",".cart-form .cart-items tbody tr.cart-item .product-item .product-item-details .cart-variant",".site-main #shopify-section-static-cart .cart-form .cart-items .cart-item .cart-item-column-2 .cart-item-title",".ajaxcart .drawer__inner .ajaxcart__product .ajaxcart__row .grid:first-child .grid__item.grid__item.two-thirds .ajaxcart__product-name--wrapper .ajaxcart__product-meta",".cart .cart__row:nth-child(2) .grid.cart__row--table-large .grid__item:first-child .grid .grid__item.three-quarters .cart__product-meta:first-child",".cart .ajaxcart__inner .ajaxcart__product .ajaxcart__row > div .grid__item:nth-child(2) .display-table-cell p .ajaxcart__product-title","form.cart .cart__row:nth-child(3) .grid--full.cart__row--table-large .grid__item:first-child .grid .grid__item:nth-child(2) a",".mini-cart .mini-cart__content .mini-cart__full .mini-cart__items .mini-cart__item .product-meta .product-meta__title","form table tbody tr td.cart-item__info .cart-item__variant","form .cart--mobile .cart__items .cart-item .cart-item__right .cart-item__title","#cart-form .cart-row .content > div h3",".cart .cart-table tbody tr.cart__row td:first-child .cart__info .product-grid-title","form .cart-items-container .cart-items tbody tr.cart-item .cart-item-product-wrap .cart-variant",".modal--window .modal--container form .variant-id .title a",".template--cart .layout--main-content form .content .variant-id .title a",".template-cart .cart .cart-product-info-wrapper .cart-product-info-wrapper .cart-price-wrapper + p",".header-cart .header-cart-items .header-cart-item .header-cart-item-info .header-cart-item-options span:first-child",".grid #cartForm .cartRow li:nth-child(2) a",".modal--container .fw--cart form .content .variant-id .right-column .title",".panel div form .content .variant-id .right-column .title",".shopify-section .reading-container #cartform ul li .desc .name",".cart #shopify-section-cart-template  #cart_form ul li .title_column p a",".container-wrap .container #Cart form .cart-table #CartItems .line-item .cart-product-desc a",".cartContainer .scroll #Cart form .cart-table #CartItems .line-item .cart-product-desc a",".ajaxcart .ajaxcart__inner .ajaxcart__product .ajaxcart.row .desktop-8.tablet-4 p:first-child","#shopping-cart #cartform .desktop-8.tablet-6 .cart-title h4","form .cart-items tbody .cart-item .cart-item-product .cart-item-title a",".ajaxcart .ajaxcart__inner .ajaxcart__product .ajaxcart__row .grid .grid__item:nth-child(2) p .ajaxcart__product-name",".cart.table-wrap .cart-table tbody .cart__row td:nth-child(3) a",".mm-panels .mm-opened .cart_item .item_info",".cart #content_wrapper .main #cart_form .cart_items .omega > p:first-child",".ajaxcart__content .cart__body .cart__row:not(:first-child) .cart__item__title p",".template-cart .cartForm .cart__body .cart__row .cart__item__title p",".cart-wrapper .cart-inner > div .cart-content .clearfix .item-cart .product-details .product-name",".cart div .cart-table-wrap .data-table tbody tr .product-name-td .product-name",".PageContent > .Cart > .Cart__ItemList > .CartItem > .CartItem__Info > .CartItem__Meta",".Drawer__Container .CartItem > .CartItem__Info > .CartItem__Title","#shopify-section-cart-template .cart .line-items .line-item .variant-title",".static-cart-wrapper .cart .cart-container .cart-container-scrollable .cart-items .cart-item-row .cart-item-col-product .cart-item-column-slide .cart-item-details .cart-item-product-title","#site-header-drawer-cart .cart-mini .cart-container .cart-container-scrollable .cart-items .cart-item-row .cart-item-col-product .cart-item-column-slide .cart-item-details .cart-item-product-title",".fancybox-skin > div .container .cart_notification_content p:first-child","#cart_form ul li .title_column .meta","#cart .mm-panels .mm-panel ul.mm-listview .cart_item a .item_info","#cart_form .section .cart_items .five.columns.omega p:first-child","#cartform .cart-list .item.clearfix .col-desc .text .title",".cart_menu form .cart_row ul:not(:first-child) li:nth-child(2) p",".cart_tbl form .con_row ul li:nth-child(2) p","#site-cart .site-nav-container-last .top .cart .cart-items .cart-item .content .title",".site-box-content .cart .cart-items .cart-item .content .title","#shopify-section-template-cart form table.cart-items tbody tr.cart-item .cart-item-product .cart-item-product-wrap .cart-variant",".cartForm .cart__body .cart__row:last-child .cart__row--table-large:first-child > div .cart__description__wrapper .cart__description a:first-child","#cartform .cart-contents .clearfix .cart-col2 .short-desc",".has-popup-tab .popup-tab .detail .item .detail .variant","#main #cartform .cart-list .item .col-desc .text .title","#ajaxifyCart .cart-form .ajaxifyCart--products .ajaxifyCart--product .large--two-thirds .three-quarters p",".mini-cart .mini-cart__inner .mini-cart__items .mini-cart__item-wrapper .mini-cart__item .mini-cart-item__info .mini-cart-item__variant",".container form .cart__items tbody tr.cart-item .cart-item__product .cart-item__info .cart-item__title","#cart_form > div .cart_content_info h3",".cart_container .cart_content form.js-cart_content__form .js-cart_items .cart_item .cart_item__title a","#cartform table.desktop-9 tbody tr td .cart-item .cart-title p:last-child",".ajaxcart__form .ajaxcart__inner .ajaxcart__products .ajaxcart__product .ajaxcart__row > div .o-layout__item:nth-child(2) .ajaxcart__product-meta",".cart-form .cart__products .cart__product .cart__row > div .o-layout__item:nth-child(2) .cart__product-meta",".container-widget .shopping-cart-table tbody tr td:nth-child(2) .shopping-cart-table__product-name"],cart_line_remove:['a[href*="quantity=0"]'],cart_line_qty:['[name="updates[]"]'],product_qty:["form .row.clearfix .column.full:last-child .product-form .quadd-wrapper .quantity-area .quantity",".product_form .shopify-product-form .productForm__quantity .productForm__quantityInput","#add-item-form-product-template .purchase-section div.four:first-child .quantity .item-qty",".product-form .product-action .product-form__item--quantity .wrapQtyBtn .qtyField .product-form__input",".shopify-product-form .quanity-cart-row .quantity #quantity",".product-form .product-detail__quantity-row .input-wrapper .quantity-proxy",".product-form .quantity-selector .js-qty__num",".product-form .payment-and-quantity--with-quantity .quantity .select-on-focus",".shopify-product-form .product-quantity .form-label .form-input",".shopify-product-form .items--center .js-qty-wrapper .js-qty .relative .js-qty__num",".main-content > div .grid .product-aside .purchase-box .product-form .shopify-product-form .variant > div .input-wrapper .quantity",".product-form .product-add-to-cart .product-quantity .quantity-field",".shopify-product-form .js-qty .js-qty__controls .table .full--w .js-qty__num:first-child",".shopify-product-form .quantity .qty-group input:first-child",".product-shop div #add-to-cart-form #quantity",".product-form--alt div form .product-form--atc .product-form--atc-qty .form-field--qty-select .form-field-select-wrapper select.form-field-input",".product-form div:nth-child(1) .select2-container .selection .select2-selection .select2-selection__rendered",".product_form #product-add .js-qty .js-qty__num",".product-sticky-wrapper .product-details-wrapper .product-details--form-wrapper #AddToCartForm .js-qty #Quantity",".product__form .product__buy .form__control .product__quantity:first-child",".shopify-product-form .row .product-form__item #Quantity-product-template",".shopify-product-form .product-options .product-option-quantity",".product-menu .product-menu-buttons .product-menu-buttons-content .product-menu-buttons-addtocart .product-menu-quantity .quantity-input",".shopify-product-form .product-selectors .quantity-selector:last-child",".product__form .product__buy .product__quantity input",".shopify-product-form .buttons-holder .quantity-selector",".AddToCartForm .quantity-wrapper .js-qty .js-qty__num",".product-form .product-form-nav .product-quantity .number-input-field #quantity",".section-product-template .form-vertical .product-template__container .product-details .quantity-selector .qty",".product-form .productoptions .with-payment-button div .quantity",".product .product_section .product__description .product_form .shopify-product-form .purchase-details .quantity","#AddToCartForm .product-add .js-qty .js-qty__num",".grid__item .product-form .variants-wrapper .qtydiv .quantity-input","#shopify-section-product #ProductSection-product .product-single #productInfo-product .shopify-product-form .quantity-selector__wrapper .QuantityInput",".product-form .product-options-bottom .add-to-cart-box .input-box .quantity-selector",".ProductForm .ProductForm__Variants .ProductForm__QuantitySelector .QuantitySelector .QuantitySelector__CurrentQuantity","#shopify-section-product-template .shopify-product-form #quantity",".product-form > div .product-form-atc .form-element-wrapper .form-element-quantity-submit .form-element",".shopify-product-form .purchase-details .purchase-details__quantity .quantity:first-child",".feedback-go_to_cart .cf .product-detail__form__options .quantity-wrapper #quantity",".shopify-section > div .shopify-product-form .desc_blk .desc_blk_bot .product-page-qty .txtbox",".shopify-product-form .cart-functions .quantity-selector-holder .quantity-selector",".shopify-product-form .input-wrapper .product-quantity-container .product-quantity-input",".shopify-product-form .product__submit .js-qty .js-qty__num",".shopify-product-form .quick-actions .qty-field input","form .quantity-submit-row .quantity-submit-row__quantity #quantity",".grid__cell .product__details .product__form .form__control .quantity-selector .quantity-selector__current-quantity",".shopify-product-form .purchase-details .purchase-details__quantity .quantity:first-child",".shopify-product-form .quantity-selector .quantity",".js-product-form .product-single__qty .product-single__qty-input .js-qty .js-qty__num","#add-item-form .wrapper .pull-left:nth-child(2) .qty-input",'form[action="/cart/add"] [name="quantity"]'],shopify_variants:['form[action="/cart/add"] [name="id"]'],visible_variants:['form[action="/cart/add"] .product-form__controls-group select.single-option-selector','form[action="/cart/add"] .variant-wrapper select.single-option-selector-product-template'],buy_it_now:[".product-form__controls-group .shopify-payment-button .shopify-payment-button__button"]};function E(t,e){let n=null;if(void 0===v[t])return n;const o=e||document;for(let e of v[t]){const t=o.querySelector(e);if(null!==t){n=t;break}}return n}function y(t,e){let n=[];if(void 0===v[t])return n;const o=e||document;for(let e of v[t]){let t=o.querySelectorAll(e);if(t.length){n=[...t];break}}return n}var b=n(584),T=n.n(b),I=n(238);delete window.SimpleLightbox;var O=I.Z;const w=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],C={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:t=>"undefined"!=typeof console&&console.warn(t),getWeek:t=>{const e=new Date(t.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var n=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},D={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:t=>{const e=t%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1};var S=D;const A=(t,e=2)=>`000${t}`.slice(-1*e),R=t=>!0===t?1:0;function L(t,e){let n;return function(){clearTimeout(n),n=setTimeout((()=>t.apply(this,arguments)),e)}}const N=t=>t instanceof Array?t:[t];function P(t,e,n){if(!0===n)return t.classList.add(e);t.classList.remove(e)}function x(t,e,n){const o=window.document.createElement(t);return e=e||"",n=n||"",o.className=e,void 0!==n&&(o.textContent=n),o}function M(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function k(t,e){return e(t)?t:t.parentNode?k(t.parentNode,e):void 0}function q(t,e){const n=x("div","numInputWrapper"),o=x("input","numInput "+t),r=x("span","arrowUp"),i=x("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?o.type="number":(o.type="text",o.pattern="\\d*"),void 0!==e)for(const t in e)o.setAttribute(t,e[t]);return n.appendChild(o),n.appendChild(r),n.appendChild(i),n}function F(t){try{return"function"==typeof t.composedPath?t.composedPath()[0]:t.target}catch(e){return t.target}}const j=()=>{},B=(t,e,n)=>n.months[e?"shorthand":"longhand"][t],G={D:j,F:function(t,e,n){t.setMonth(n.months.longhand.indexOf(e))},G:(t,e)=>{t.setHours(parseFloat(e))},H:(t,e)=>{t.setHours(parseFloat(e))},J:(t,e)=>{t.setDate(parseFloat(e))},K:(t,e,n)=>{t.setHours(t.getHours()%12+12*R(new RegExp(n.amPM[1],"i").test(e)))},M:function(t,e,n){t.setMonth(n.months.shorthand.indexOf(e))},S:(t,e)=>{t.setSeconds(parseFloat(e))},U:(t,e)=>new Date(1e3*parseFloat(e)),W:function(t,e,n){const o=parseInt(e),r=new Date(t.getFullYear(),0,2+7*(o-1),0,0,0,0);return r.setDate(r.getDate()-r.getDay()+n.firstDayOfWeek),r},Y:(t,e)=>{t.setFullYear(parseFloat(e))},Z:(t,e)=>new Date(e),d:(t,e)=>{t.setDate(parseFloat(e))},h:(t,e)=>{t.setHours(parseFloat(e))},i:(t,e)=>{t.setMinutes(parseFloat(e))},j:(t,e)=>{t.setDate(parseFloat(e))},l:j,m:(t,e)=>{t.setMonth(parseFloat(e)-1)},n:(t,e)=>{t.setMonth(parseFloat(e)-1)},s:(t,e)=>{t.setSeconds(parseFloat(e))},u:(t,e)=>new Date(parseFloat(e)),w:j,y:(t,e)=>{t.setFullYear(2e3+parseFloat(e))}},U={D:"(\\w+)",F:"(\\w+)",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"(\\w+)",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"(\\w+)",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Y={Z:t=>t.toISOString(),D:function(t,e,n){return e.weekdays.shorthand[Y.w(t,e,n)]},F:function(t,e,n){return B(Y.n(t,e,n)-1,!1,e)},G:function(t,e,n){return A(Y.h(t,e,n))},H:t=>A(t.getHours()),J:function(t,e){return void 0!==e.ordinal?t.getDate()+e.ordinal(t.getDate()):t.getDate()},K:(t,e)=>e.amPM[R(t.getHours()>11)],M:function(t,e){return B(t.getMonth(),!0,e)},S:t=>A(t.getSeconds()),U:t=>t.getTime()/1e3,W:function(t,e,n){return n.getWeek(t)},Y:t=>A(t.getFullYear(),4),d:t=>A(t.getDate()),h:t=>t.getHours()%12?t.getHours()%12:12,i:t=>A(t.getMinutes()),j:t=>t.getDate(),l:function(t,e){return e.weekdays.longhand[t.getDay()]},m:t=>A(t.getMonth()+1),n:t=>t.getMonth()+1,s:t=>t.getSeconds(),u:t=>t.getTime(),w:t=>t.getDay(),y:t=>String(t.getFullYear()).substring(2)},H=({config:t=C,l10n:e=D,isMobile:n=!1})=>(o,r,i)=>{const a=i||e;return void 0===t.formatDate||n?r.split("").map(((e,n,r)=>Y[e]&&"\\"!==r[n-1]?Y[e](o,a,t):"\\"!==e?e:"")).join(""):t.formatDate(o,r,a)},V=({config:t=C,l10n:e=D})=>(n,o,r,i)=>{if(0!==n&&!n)return;const a=i||e;let s;const c=n;if(n instanceof Date)s=new Date(n.getTime());else if("string"!=typeof n&&void 0!==n.toFixed)s=new Date(n);else if("string"==typeof n){const e=o||(t||C).dateFormat,i=String(n).trim();if("today"===i)s=new Date,r=!0;else if(/Z$/.test(i)||/GMT$/.test(i))s=new Date(n);else if(t&&t.parseDate)s=t.parseDate(n,e);else{s=t&&t.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0);let o,r=[];for(let t=0,i=0,c="";t<e.length;t++){const l=e[t],d="\\"===l,u="\\"===e[t-1]||d;if(U[l]&&!u){c+=U[l];const t=new RegExp(c).exec(n);t&&(o=!0)&&r["Y"!==l?"push":"unshift"]({fn:G[l],val:t[++i]})}else d||(c+=".");r.forEach((({fn:t,val:e})=>s=t(s,e,a)||s))}s=o?s:void 0}}if(s instanceof Date&&!isNaN(s.getTime()))return!0===r&&s.setHours(0,0,0,0),s;t.errorHandler(new Error(`Invalid date provided: ${c}`))};function W(t,e,n=!0){return!1!==n?new Date(t.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):t.getTime()-e.getTime()}function X(t){let e=t.defaultHour,n=t.defaultMinute,o=t.defaultSeconds;if(void 0!==t.minDate){const r=t.minDate.getHours(),i=t.minDate.getMinutes(),a=t.minDate.getSeconds();e<r&&(e=r),e===r&&n<i&&(n=i),e===r&&n===i&&o<a&&(o=t.minDate.getSeconds())}if(void 0!==t.maxDate){const r=t.maxDate.getHours(),i=t.maxDate.getMinutes();e=Math.min(e,r),e===r&&(n=Math.min(i,n)),e===r&&n===i&&(o=t.maxDate.getSeconds())}return{hours:e,minutes:n,seconds:o}}function $(t,e){const n={config:Object.assign(Object.assign({},C),Q.defaultConfig),l10n:S};function o(t){return t.bind(n)}function r(){const t=n.config;!1===t.weekNumbers&&1===t.showMonths||!0!==t.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==n.calendarContainer&&(n.calendarContainer.style.visibility="hidden",n.calendarContainer.style.display="block"),void 0!==n.daysContainer){const e=(n.days.offsetWidth+1)*t.showMonths;n.daysContainer.style.width=e+"px",n.calendarContainer.style.width=e+(void 0!==n.weekWrapper?n.weekWrapper.offsetWidth:0)+"px",n.calendarContainer.style.removeProperty("visibility"),n.calendarContainer.style.removeProperty("display")}}))}function i(t){if(0===n.selectedDates.length){const t=void 0===n.config.minDate||W(new Date,n.config.minDate)>=0?new Date:new Date(n.config.minDate.getTime()),e=X(n.config);t.setHours(e.hours,e.minutes,e.seconds,t.getMilliseconds()),n.selectedDates=[t],n.latestSelectedDateObj=t}void 0!==t&&"blur"!==t.type&&function(t){t.preventDefault();const e="keydown"===t.type,o=F(t),r=o;void 0!==n.amPM&&o===n.amPM&&(n.amPM.textContent=n.l10n.amPM[R(n.amPM.textContent===n.l10n.amPM[0])]);const i=parseFloat(r.getAttribute("min")),a=parseFloat(r.getAttribute("max")),s=parseFloat(r.getAttribute("step")),c=parseInt(r.value,10);let l=c+s*(t.delta||(e?38===t.which?1:-1:0));if(void 0!==r.value&&2===r.value.length){const t=r===n.hourElement,e=r===n.minuteElement;l<i?(l=a+l+R(!t)+(R(t)&&R(!n.amPM)),e&&m(void 0,-1,n.hourElement)):l>a&&(l=r===n.hourElement?l-a-R(!n.amPM):i,e&&m(void 0,1,n.hourElement)),n.amPM&&t&&(1===s?l+c===23:Math.abs(l-c)>s)&&(n.amPM.textContent=n.l10n.amPM[R(n.amPM.textContent===n.l10n.amPM[0])]),r.value=A(l)}}(t);const e=n._input.value;a(),_t(),n._input.value!==e&&n._debouncedChange()}function a(){if(void 0===n.hourElement||void 0===n.minuteElement)return;let t=(parseInt(n.hourElement.value.slice(-2),10)||0)%24,e=(parseInt(n.minuteElement.value,10)||0)%60,o=void 0!==n.secondElement?(parseInt(n.secondElement.value,10)||0)%60:0;var r,i;void 0!==n.amPM&&(r=t,i=n.amPM.textContent,t=r%12+12*R(i===n.l10n.amPM[1]));const a=void 0!==n.config.minTime||n.config.minDate&&n.minDateHasTime&&n.latestSelectedDateObj&&0===W(n.latestSelectedDateObj,n.config.minDate,!0);if(void 0!==n.config.maxTime||n.config.maxDate&&n.maxDateHasTime&&n.latestSelectedDateObj&&0===W(n.latestSelectedDateObj,n.config.maxDate,!0)){const r=void 0!==n.config.maxTime?n.config.maxTime:n.config.maxDate;t=Math.min(t,r.getHours()),t===r.getHours()&&(e=Math.min(e,r.getMinutes())),e===r.getMinutes()&&(o=Math.min(o,r.getSeconds()))}if(a){const r=void 0!==n.config.minTime?n.config.minTime:n.config.minDate;t=Math.max(t,r.getHours()),t===r.getHours()&&e<r.getMinutes()&&(e=r.getMinutes()),e===r.getMinutes()&&(o=Math.max(o,r.getSeconds()))}c(t,e,o)}function s(t){const e=t||n.latestSelectedDateObj;e&&c(e.getHours(),e.getMinutes(),e.getSeconds())}function c(t,e,o){void 0!==n.latestSelectedDateObj&&n.latestSelectedDateObj.setHours(t%24,e,o||0,0),n.hourElement&&n.minuteElement&&!n.isMobile&&(n.hourElement.value=A(n.config.time_24hr?t:(12+t)%12+12*R(t%12==0)),n.minuteElement.value=A(e),void 0!==n.amPM&&(n.amPM.textContent=n.l10n.amPM[R(t>=12)]),void 0!==n.secondElement&&(n.secondElement.value=A(o)))}function l(t){const e=F(t),n=parseInt(e.value)+(t.delta||0);(n/1e3>1||"Enter"===t.key&&!/[^\d]/.test(n.toString()))&&$(n)}function d(t,e,o,r){return e instanceof Array?e.forEach((e=>d(t,e,o,r))):t instanceof Array?t.forEach((t=>d(t,e,o,r))):(t.addEventListener(e,o,r),void n._handlers.push({remove:()=>t.removeEventListener(e,o)}))}function u(){pt("onChange")}function p(t,e){const o=void 0!==t?n.parseDate(t):n.latestSelectedDateObj||(n.config.minDate&&n.config.minDate>n.now?n.config.minDate:n.config.maxDate&&n.config.maxDate<n.now?n.config.maxDate:n.now),r=n.currentYear,i=n.currentMonth;try{void 0!==o&&(n.currentYear=o.getFullYear(),n.currentMonth=o.getMonth())}catch(t){t.message="Invalid date supplied: "+o,n.config.errorHandler(t)}e&&n.currentYear!==r&&(pt("onYearChange"),b()),!e||n.currentYear===r&&n.currentMonth===i||pt("onMonthChange"),n.redraw()}function f(t){const e=F(t);~e.className.indexOf("arrow")&&m(t,e.classList.contains("arrowUp")?1:-1)}function m(t,e,n){const o=t&&F(t),r=n||o&&o.parentNode&&o.parentNode.firstChild,i=ft("increment");i.delta=e,r&&r.dispatchEvent(i)}function h(t,e,o,r){const i=z(e,!0),a=x("span","flatpickr-day "+t,e.getDate().toString());return a.dateObj=e,a.$i=r,a.setAttribute("aria-label",n.formatDate(e,n.config.ariaDateFormat)),-1===t.indexOf("hidden")&&0===W(e,n.now)&&(n.todayDateElem=a,a.classList.add("today"),a.setAttribute("aria-current","date")),i?(a.tabIndex=-1,mt(e)&&(a.classList.add("selected"),n.selectedDateElem=a,"range"===n.config.mode&&(P(a,"startRange",n.selectedDates[0]&&0===W(e,n.selectedDates[0],!0)),P(a,"endRange",n.selectedDates[1]&&0===W(e,n.selectedDates[1],!0)),"nextMonthDay"===t&&a.classList.add("inRange")))):a.classList.add("flatpickr-disabled"),"range"===n.config.mode&&function(t){return!("range"!==n.config.mode||n.selectedDates.length<2)&&W(t,n.selectedDates[0])>=0&&W(t,n.selectedDates[1])<=0}(e)&&!mt(e)&&a.classList.add("inRange"),n.weekNumbers&&1===n.config.showMonths&&"prevMonthDay"!==t&&o%7==1&&n.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+n.config.getWeek(e)+"</span>"),pt("onDayCreate",a),a}function g(t){t.focus(),"range"===n.config.mode&&tt(t)}function _(t){const e=t>0?0:n.config.showMonths-1,o=t>0?n.config.showMonths:-1;for(let r=e;r!=o;r+=t){const e=n.daysContainer.children[r],o=t>0?0:e.children.length-1,i=t>0?e.children.length:-1;for(let n=o;n!=i;n+=t){const t=e.children[n];if(-1===t.className.indexOf("hidden")&&z(t.dateObj))return t}}}function v(t,e){const o=K(document.activeElement||document.body),r=void 0!==t?t:o?document.activeElement:void 0!==n.selectedDateElem&&K(n.selectedDateElem)?n.selectedDateElem:void 0!==n.todayDateElem&&K(n.todayDateElem)?n.todayDateElem:_(e>0?1:-1);void 0===r?n._input.focus():o?function(t,e){const o=-1===t.className.indexOf("Month")?t.dateObj.getMonth():n.currentMonth,r=e>0?n.config.showMonths:-1,i=e>0?1:-1;for(let a=o-n.currentMonth;a!=r;a+=i){const r=n.daysContainer.children[a],s=o-n.currentMonth===a?t.$i+e:e<0?r.children.length-1:0,c=r.children.length;for(let n=s;n>=0&&n<c&&n!=(e>0?c:-1);n+=i){const o=r.children[n];if(-1===o.className.indexOf("hidden")&&z(o.dateObj)&&Math.abs(t.$i-n)>=Math.abs(e))return g(o)}}n.changeMonth(i),v(_(i),0)}(r,e):g(r)}function E(t,e){const o=(new Date(t,e,1).getDay()-n.l10n.firstDayOfWeek+7)%7,r=n.utils.getDaysInMonth((e-1+12)%12,t),i=n.utils.getDaysInMonth(e,t),a=window.document.createDocumentFragment(),s=n.config.showMonths>1,c=s?"prevMonthDay hidden":"prevMonthDay",l=s?"nextMonthDay hidden":"nextMonthDay";let d=r+1-o,u=0;for(;d<=r;d++,u++)a.appendChild(h(c,new Date(t,e-1,d),d,u));for(d=1;d<=i;d++,u++)a.appendChild(h("",new Date(t,e,d),d,u));for(let r=i+1;r<=42-o&&(1===n.config.showMonths||u%7!=0);r++,u++)a.appendChild(h(l,new Date(t,e+1,r%i),r,u));const p=x("div","dayContainer");return p.appendChild(a),p}function y(){if(void 0===n.daysContainer)return;M(n.daysContainer),n.weekNumbers&&M(n.weekNumbers);const t=document.createDocumentFragment();for(let e=0;e<n.config.showMonths;e++){const o=new Date(n.currentYear,n.currentMonth,1);o.setMonth(n.currentMonth+e),t.appendChild(E(o.getFullYear(),o.getMonth()))}n.daysContainer.appendChild(t),n.days=n.daysContainer.firstChild,"range"===n.config.mode&&1===n.selectedDates.length&&tt()}function b(){if(n.config.showMonths>1||"dropdown"!==n.config.monthSelectorType)return;const t=function(t){return!(void 0!==n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&t<n.config.minDate.getMonth()||void 0!==n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()&&t>n.config.maxDate.getMonth())};n.monthsDropdownContainer.tabIndex=-1,n.monthsDropdownContainer.innerHTML="";for(let e=0;e<12;e++){if(!t(e))continue;const o=x("option","flatpickr-monthDropdown-month");o.value=new Date(n.currentYear,e).getMonth().toString(),o.textContent=B(e,n.config.shorthandCurrentMonth,n.l10n),o.tabIndex=-1,n.currentMonth===e&&(o.selected=!0),n.monthsDropdownContainer.appendChild(o)}}function T(){const t=x("div","flatpickr-month"),e=window.document.createDocumentFragment();let o;n.config.showMonths>1||"static"===n.config.monthSelectorType?o=x("span","cur-month"):(n.monthsDropdownContainer=x("select","flatpickr-monthDropdown-months"),n.monthsDropdownContainer.setAttribute("aria-label",n.l10n.monthAriaLabel),d(n.monthsDropdownContainer,"change",(t=>{const e=F(t),o=parseInt(e.value,10);n.changeMonth(o-n.currentMonth),pt("onMonthChange")})),b(),o=n.monthsDropdownContainer);const r=q("cur-year",{tabindex:"-1"}),i=r.getElementsByTagName("input")[0];i.setAttribute("aria-label",n.l10n.yearAriaLabel),n.config.minDate&&i.setAttribute("min",n.config.minDate.getFullYear().toString()),n.config.maxDate&&(i.setAttribute("max",n.config.maxDate.getFullYear().toString()),i.disabled=!!n.config.minDate&&n.config.minDate.getFullYear()===n.config.maxDate.getFullYear());const a=x("div","flatpickr-current-month");return a.appendChild(o),a.appendChild(r),e.appendChild(a),t.appendChild(e),{container:t,yearElement:i,monthElement:o}}function I(){M(n.monthNav),n.monthNav.appendChild(n.prevMonthNav),n.config.showMonths&&(n.yearElements=[],n.monthElements=[]);for(let t=n.config.showMonths;t--;){const t=T();n.yearElements.push(t.yearElement),n.monthElements.push(t.monthElement),n.monthNav.appendChild(t.container)}n.monthNav.appendChild(n.nextMonthNav)}function O(){n.weekdayContainer?M(n.weekdayContainer):n.weekdayContainer=x("div","flatpickr-weekdays");for(let t=n.config.showMonths;t--;){const t=x("div","flatpickr-weekdaycontainer");n.weekdayContainer.appendChild(t)}return D(),n.weekdayContainer}function D(){if(!n.weekdayContainer)return;const t=n.l10n.firstDayOfWeek;let e=[...n.l10n.weekdays.shorthand];t>0&&t<e.length&&(e=[...e.splice(t,e.length),...e.splice(0,t)]);for(let t=n.config.showMonths;t--;)n.weekdayContainer.children[t].innerHTML=`\n      <span class='flatpickr-weekday'>\n        ${e.join("</span><span class='flatpickr-weekday'>")}\n      </span>\n      `}function j(t,e=!0){const o=e?t:t-n.currentMonth;o<0&&!0===n._hidePrevMonthArrow||o>0&&!0===n._hideNextMonthArrow||(n.currentMonth+=o,(n.currentMonth<0||n.currentMonth>11)&&(n.currentYear+=n.currentMonth>11?1:-1,n.currentMonth=(n.currentMonth+12)%12,pt("onYearChange"),b()),y(),pt("onMonthChange"),ht())}function G(t){return!(!n.config.appendTo||!n.config.appendTo.contains(t))||n.calendarContainer.contains(t)}function Y(t){if(n.isOpen&&!n.config.inline){const e=F(t),o=G(e),r=e===n.input||e===n.altInput||n.element.contains(e)||t.path&&t.path.indexOf&&(~t.path.indexOf(n.input)||~t.path.indexOf(n.altInput)),a="blur"===t.type?r&&t.relatedTarget&&!G(t.relatedTarget):!r&&!o&&!G(t.relatedTarget),s=!n.config.ignoredFocusElements.some((t=>t.contains(e)));a&&s&&(void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement&&""!==n.input.value&&void 0!==n.input.value&&i(),n.close(),n.config&&"range"===n.config.mode&&1===n.selectedDates.length&&(n.clear(!1),n.redraw()))}}function $(t){if(!t||n.config.minDate&&t<n.config.minDate.getFullYear()||n.config.maxDate&&t>n.config.maxDate.getFullYear())return;const e=t,o=n.currentYear!==e;n.currentYear=e||n.currentYear,n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth=Math.min(n.config.maxDate.getMonth(),n.currentMonth):n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&(n.currentMonth=Math.max(n.config.minDate.getMonth(),n.currentMonth)),o&&(n.redraw(),pt("onYearChange"),b())}function z(t,e=!0){var o;const r=n.parseDate(t,void 0,e);if(n.config.minDate&&r&&W(r,n.config.minDate,void 0!==e?e:!n.minDateHasTime)<0||n.config.maxDate&&r&&W(r,n.config.maxDate,void 0!==e?e:!n.maxDateHasTime)>0)return!1;if(!n.config.enable&&0===n.config.disable.length)return!0;if(void 0===r)return!1;const i=!!n.config.enable,a=null!==(o=n.config.enable)&&void 0!==o?o:n.config.disable;for(let t,e=0;e<a.length;e++){if(t=a[e],"function"==typeof t&&t(r))return i;if(t instanceof Date&&void 0!==r&&t.getTime()===r.getTime())return i;if("string"==typeof t){const e=n.parseDate(t,void 0,!0);return e&&e.getTime()===r.getTime()?i:!i}if("object"==typeof t&&void 0!==r&&t.from&&t.to&&r.getTime()>=t.from.getTime()&&r.getTime()<=t.to.getTime())return i}return!i}function K(t){return void 0!==n.daysContainer&&-1===t.className.indexOf("hidden")&&-1===t.className.indexOf("flatpickr-disabled")&&n.daysContainer.contains(t)}function Z(t){t.target!==n._input||!(n.selectedDates.length>0||n._input.value.length>0)||t.relatedTarget&&G(t.relatedTarget)||n.setDate(n._input.value,!0,t.target===n.altInput?n.config.altFormat:n.config.dateFormat)}function J(e){const o=F(e),r=n.config.wrap?t.contains(o):o===n._input,s=n.config.allowInput,c=n.isOpen&&(!s||!r),l=n.config.inline&&r&&!s;if(13===e.keyCode&&r){if(s)return n.setDate(n._input.value,!0,o===n.altInput?n.config.altFormat:n.config.dateFormat),o.blur();n.open()}else if(G(o)||c||l){const t=!!n.timeContainer&&n.timeContainer.contains(o);switch(e.keyCode){case 13:t?(e.preventDefault(),i(),st()):ct(e);break;case 27:e.preventDefault(),st();break;case 8:case 46:r&&!n.config.allowInput&&(e.preventDefault(),n.clear());break;case 37:case 39:if(t||r)n.hourElement&&n.hourElement.focus();else if(e.preventDefault(),void 0!==n.daysContainer&&(!1===s||document.activeElement&&K(document.activeElement))){const t=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),j(t),v(_(1),0)):v(void 0,t)}break;case 38:case 40:e.preventDefault();const a=40===e.keyCode?1:-1;n.daysContainer&&void 0!==o.$i||o===n.input||o===n.altInput?e.ctrlKey?(e.stopPropagation(),$(n.currentYear-a),v(_(1),0)):t||v(void 0,7*a):o===n.currentYearElement?$(n.currentYear-a):n.config.enableTime&&(!t&&n.hourElement&&n.hourElement.focus(),i(e),n._debouncedChange());break;case 9:if(t){const t=[n.hourElement,n.minuteElement,n.secondElement,n.amPM].concat(n.pluginElements).filter((t=>t)),r=t.indexOf(o);if(-1!==r){const o=t[r+(e.shiftKey?-1:1)];e.preventDefault(),(o||n._input).focus()}}else!n.config.noCalendar&&n.daysContainer&&n.daysContainer.contains(o)&&e.shiftKey&&(e.preventDefault(),n._input.focus())}}if(void 0!==n.amPM&&o===n.amPM)switch(e.key){case n.l10n.amPM[0].charAt(0):case n.l10n.amPM[0].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[0],a(),_t();break;case n.l10n.amPM[1].charAt(0):case n.l10n.amPM[1].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[1],a(),_t()}(r||G(o))&&pt("onKeyDown",e)}function tt(t){if(1!==n.selectedDates.length||t&&(!t.classList.contains("flatpickr-day")||t.classList.contains("flatpickr-disabled")))return;const e=t?t.dateObj.getTime():n.days.firstElementChild.dateObj.getTime(),o=n.parseDate(n.selectedDates[0],void 0,!0).getTime(),r=Math.min(e,n.selectedDates[0].getTime()),i=Math.max(e,n.selectedDates[0].getTime());let a=!1,s=0,c=0;for(let t=r;t<i;t+=864e5)z(new Date(t),!0)||(a=a||t>r&&t<i,t<o&&(!s||t>s)?s=t:t>o&&(!c||t<c)&&(c=t));for(let r=0;r<n.config.showMonths;r++){const i=n.daysContainer.children[r];for(let r=0,p=i.children.length;r<p;r++){const p=i.children[r],f=p.dateObj.getTime(),m=s>0&&f<s||c>0&&f>c;m?(p.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach((t=>{p.classList.remove(t)}))):a&&!m||(["startRange","inRange","endRange","notAllowed"].forEach((t=>{p.classList.remove(t)})),void 0!==t&&(t.classList.add(e<=n.selectedDates[0].getTime()?"startRange":"endRange"),o<e&&f===o?p.classList.add("startRange"):o>e&&f===o&&p.classList.add("endRange"),f>=s&&(0===c||f<=c)&&(d=o,u=e,(l=f)>Math.min(d,u)&&l<Math.max(d,u))&&p.classList.add("inRange")))}}var l,d,u}function et(){!n.isOpen||n.config.static||n.config.inline||it()}function nt(t){return e=>{const o=n.config[`_${t}Date`]=n.parseDate(e,n.config.dateFormat),r=n.config[`_${"min"===t?"max":"min"}Date`];void 0!==o&&(n["min"===t?"minDateHasTime":"maxDateHasTime"]=o.getHours()>0||o.getMinutes()>0||o.getSeconds()>0),n.selectedDates&&(n.selectedDates=n.selectedDates.filter((t=>z(t))),n.selectedDates.length||"min"!==t||s(o),_t()),n.daysContainer&&(at(),void 0!==o?n.currentYearElement[t]=o.getFullYear().toString():n.currentYearElement.removeAttribute(t),n.currentYearElement.disabled=!!r&&void 0!==o&&r.getFullYear()===o.getFullYear())}}function ot(){return n.config.wrap?t.querySelector("[data-input]"):t}function rt(){"object"!=typeof n.config.locale&&void 0===Q.l10ns[n.config.locale]&&n.config.errorHandler(new Error(`flatpickr: invalid locale ${n.config.locale}`)),n.l10n=Object.assign(Object.assign({},Q.l10ns.default),"object"==typeof n.config.locale?n.config.locale:"default"!==n.config.locale?Q.l10ns[n.config.locale]:void 0),U.K=`(${n.l10n.amPM[0]}|${n.l10n.amPM[1]}|${n.l10n.amPM[0].toLowerCase()}|${n.l10n.amPM[1].toLowerCase()})`,void 0===Object.assign(Object.assign({},e),JSON.parse(JSON.stringify(t.dataset||{}))).time_24hr&&void 0===Q.defaultConfig.time_24hr&&(n.config.time_24hr=n.l10n.time_24hr),n.formatDate=H(n),n.parseDate=V({config:n.config,l10n:n.l10n})}function it(t){if("function"==typeof n.config.position)return void n.config.position(n,t);if(void 0===n.calendarContainer)return;pt("onPreCalendarPosition");const e=t||n._positionElement,o=Array.prototype.reduce.call(n.calendarContainer.children,((t,e)=>t+e.offsetHeight),0),r=n.calendarContainer.offsetWidth,i=n.config.position.split(" "),a=i[0],s=i.length>1?i[1]:null,c=e.getBoundingClientRect(),l=window.innerHeight-c.bottom,d="above"===a||"below"!==a&&l<o&&c.top>o,u=window.pageYOffset+c.top+(d?-o-2:e.offsetHeight+2);if(P(n.calendarContainer,"arrowTop",!d),P(n.calendarContainer,"arrowBottom",d),n.config.inline)return;let p=window.pageXOffset+c.left,f=!1,m=!1;"center"===s?(p-=(r-c.width)/2,f=!0):"right"===s&&(p-=r-c.width,m=!0),P(n.calendarContainer,"arrowLeft",!f&&!m),P(n.calendarContainer,"arrowCenter",f),P(n.calendarContainer,"arrowRight",m);const h=window.document.body.offsetWidth-(window.pageXOffset+c.right),g=p+r>window.document.body.offsetWidth,_=h+r>window.document.body.offsetWidth;if(P(n.calendarContainer,"rightMost",g),!n.config.static)if(n.calendarContainer.style.top=`${u}px`,g)if(_){const t=function(){let t=null;for(let e=0;e<document.styleSheets.length;e++){const n=document.styleSheets[e];try{n.cssRules}catch(t){continue}t=n;break}return null!=t?t:function(){const t=document.createElement("style");return document.head.appendChild(t),t.sheet}()}();if(void 0===t)return;const e=window.document.body.offsetWidth,o=Math.max(0,e/2-r/2),i=".flatpickr-calendar.centerMost:before",a=".flatpickr-calendar.centerMost:after",s=t.cssRules.length,l=`{left:${c.left}px;right:auto;}`;P(n.calendarContainer,"rightMost",!1),P(n.calendarContainer,"centerMost",!0),t.insertRule(`${i},${a}${l}`,s),n.calendarContainer.style.left=`${o}px`,n.calendarContainer.style.right="auto"}else n.calendarContainer.style.left="auto",n.calendarContainer.style.right=`${h}px`;else n.calendarContainer.style.left=`${p}px`,n.calendarContainer.style.right="auto"}function at(){n.config.noCalendar||n.isMobile||(b(),ht(),y())}function st(){n._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(n.close,0):n.close()}function ct(t){t.preventDefault(),t.stopPropagation();const e=k(F(t),(t=>t.classList&&t.classList.contains("flatpickr-day")&&!t.classList.contains("flatpickr-disabled")&&!t.classList.contains("notAllowed")));if(void 0===e)return;const o=e,r=n.latestSelectedDateObj=new Date(o.dateObj.getTime()),i=(r.getMonth()<n.currentMonth||r.getMonth()>n.currentMonth+n.config.showMonths-1)&&"range"!==n.config.mode;if(n.selectedDateElem=o,"single"===n.config.mode)n.selectedDates=[r];else if("multiple"===n.config.mode){const t=mt(r);t?n.selectedDates.splice(parseInt(t),1):n.selectedDates.push(r)}else"range"===n.config.mode&&(2===n.selectedDates.length&&n.clear(!1,!1),n.latestSelectedDateObj=r,n.selectedDates.push(r),0!==W(r,n.selectedDates[0],!0)&&n.selectedDates.sort(((t,e)=>t.getTime()-e.getTime())));if(a(),i){const t=n.currentYear!==r.getFullYear();n.currentYear=r.getFullYear(),n.currentMonth=r.getMonth(),t&&(pt("onYearChange"),b()),pt("onMonthChange")}if(ht(),y(),_t(),i||"range"===n.config.mode||1!==n.config.showMonths?void 0!==n.selectedDateElem&&void 0===n.hourElement&&n.selectedDateElem&&n.selectedDateElem.focus():g(o),void 0!==n.hourElement&&void 0!==n.hourElement&&n.hourElement.focus(),n.config.closeOnSelect){const t="single"===n.config.mode&&!n.config.enableTime,e="range"===n.config.mode&&2===n.selectedDates.length&&!n.config.enableTime;(t||e)&&st()}u()}n.parseDate=V({config:n.config,l10n:n.l10n}),n._handlers=[],n.pluginElements=[],n.loadedPlugins=[],n._bind=d,n._setHoursFromDate=s,n._positionCalendar=it,n.changeMonth=j,n.changeYear=$,n.clear=function(t=!0,e=!0){if(n.input.value="",void 0!==n.altInput&&(n.altInput.value=""),void 0!==n.mobileInput&&(n.mobileInput.value=""),n.selectedDates=[],n.latestSelectedDateObj=void 0,!0===e&&(n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth()),!0===n.config.enableTime){const{hours:t,minutes:e,seconds:o}=X(n.config);c(t,e,o)}n.redraw(),t&&pt("onChange")},n.close=function(){n.isOpen=!1,n.isMobile||(void 0!==n.calendarContainer&&n.calendarContainer.classList.remove("open"),void 0!==n._input&&n._input.classList.remove("active")),pt("onClose")},n._createElement=x,n.destroy=function(){void 0!==n.config&&pt("onDestroy");for(let t=n._handlers.length;t--;)n._handlers[t].remove();if(n._handlers=[],n.mobileInput)n.mobileInput.parentNode&&n.mobileInput.parentNode.removeChild(n.mobileInput),n.mobileInput=void 0;else if(n.calendarContainer&&n.calendarContainer.parentNode)if(n.config.static&&n.calendarContainer.parentNode){const t=n.calendarContainer.parentNode;if(t.lastChild&&t.removeChild(t.lastChild),t.parentNode){for(;t.firstChild;)t.parentNode.insertBefore(t.firstChild,t);t.parentNode.removeChild(t)}}else n.calendarContainer.parentNode.removeChild(n.calendarContainer);n.altInput&&(n.input.type="text",n.altInput.parentNode&&n.altInput.parentNode.removeChild(n.altInput),delete n.altInput),n.input&&(n.input.type=n.input._type,n.input.classList.remove("flatpickr-input"),n.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((t=>{try{delete n[t]}catch(t){}}))},n.isEnabled=z,n.jumpToDate=p,n.open=function(t,e=n._positionElement){if(!0===n.isMobile){if(t){t.preventDefault();const e=F(t);e&&e.blur()}return void 0!==n.mobileInput&&(n.mobileInput.focus(),n.mobileInput.click()),void pt("onOpen")}if(n._input.disabled||n.config.inline)return;const o=n.isOpen;n.isOpen=!0,o||(n.calendarContainer.classList.add("open"),n._input.classList.add("active"),pt("onOpen"),it(e)),!0===n.config.enableTime&&!0===n.config.noCalendar&&(!1!==n.config.allowInput||void 0!==t&&n.timeContainer.contains(t.relatedTarget)||setTimeout((()=>n.hourElement.select()),50))},n.redraw=at,n.set=function(t,e){if(null!==t&&"object"==typeof t){Object.assign(n.config,t);for(const e in t)void 0!==lt[e]&&lt[e].forEach((t=>t()))}else n.config[t]=e,void 0!==lt[t]?lt[t].forEach((t=>t())):w.indexOf(t)>-1&&(n.config[t]=N(e));n.redraw(),_t(!0)},n.setDate=function(t,e=!1,o=n.config.dateFormat){if(0!==t&&!t||t instanceof Array&&0===t.length)return n.clear(e);dt(t,o),n.latestSelectedDateObj=n.selectedDates[n.selectedDates.length-1],n.redraw(),p(void 0,e),s(),0===n.selectedDates.length&&n.clear(!1),_t(e),e&&pt("onChange")},n.toggle=function(t){if(!0===n.isOpen)return n.close();n.open(t)};const lt={locale:[rt,D],showMonths:[I,r,O],minDate:[p],maxDate:[p],clickOpens:[()=>{!0===n.config.clickOpens?(d(n._input,"focus",n.open),d(n._input,"click",n.open)):(n._input.removeEventListener("focus",n.open),n._input.removeEventListener("click",n.open))}]};function dt(t,e){let o=[];if(t instanceof Array)o=t.map((t=>n.parseDate(t,e)));else if(t instanceof Date||"number"==typeof t)o=[n.parseDate(t,e)];else if("string"==typeof t)switch(n.config.mode){case"single":case"time":o=[n.parseDate(t,e)];break;case"multiple":o=t.split(n.config.conjunction).map((t=>n.parseDate(t,e)));break;case"range":o=t.split(n.l10n.rangeSeparator).map((t=>n.parseDate(t,e)))}else n.config.errorHandler(new Error(`Invalid date supplied: ${JSON.stringify(t)}`));n.selectedDates=n.config.allowInvalidPreload?o:o.filter((t=>t instanceof Date&&z(t,!1))),"range"===n.config.mode&&n.selectedDates.sort(((t,e)=>t.getTime()-e.getTime()))}function ut(t){return t.slice().map((t=>"string"==typeof t||"number"==typeof t||t instanceof Date?n.parseDate(t,void 0,!0):t&&"object"==typeof t&&t.from&&t.to?{from:n.parseDate(t.from,void 0),to:n.parseDate(t.to,void 0)}:t)).filter((t=>t))}function pt(t,e){if(void 0===n.config)return;const o=n.config[t];if(void 0!==o&&o.length>0)for(let t=0;o[t]&&t<o.length;t++)o[t](n.selectedDates,n.input.value,n,e);"onChange"===t&&(n.input.dispatchEvent(ft("change")),n.input.dispatchEvent(ft("input")))}function ft(t){const e=document.createEvent("Event");return e.initEvent(t,!0,!0),e}function mt(t){for(let e=0;e<n.selectedDates.length;e++)if(0===W(n.selectedDates[e],t))return""+e;return!1}function ht(){n.config.noCalendar||n.isMobile||!n.monthNav||(n.yearElements.forEach(((t,e)=>{const o=new Date(n.currentYear,n.currentMonth,1);o.setMonth(n.currentMonth+e),n.config.showMonths>1||"static"===n.config.monthSelectorType?n.monthElements[e].textContent=B(o.getMonth(),n.config.shorthandCurrentMonth,n.l10n)+" ":n.monthsDropdownContainer.value=o.getMonth().toString(),t.value=o.getFullYear().toString()})),n._hidePrevMonthArrow=void 0!==n.config.minDate&&(n.currentYear===n.config.minDate.getFullYear()?n.currentMonth<=n.config.minDate.getMonth():n.currentYear<n.config.minDate.getFullYear()),n._hideNextMonthArrow=void 0!==n.config.maxDate&&(n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth+1>n.config.maxDate.getMonth():n.currentYear>n.config.maxDate.getFullYear()))}function gt(t){return n.selectedDates.map((e=>n.formatDate(e,t))).filter(((t,e,o)=>"range"!==n.config.mode||n.config.enableTime||o.indexOf(t)===e)).join("range"!==n.config.mode?n.config.conjunction:n.l10n.rangeSeparator)}function _t(t=!0){void 0!==n.mobileInput&&n.mobileFormatStr&&(n.mobileInput.value=void 0!==n.latestSelectedDateObj?n.formatDate(n.latestSelectedDateObj,n.mobileFormatStr):""),n.input.value=gt(n.config.dateFormat),void 0!==n.altInput&&(n.altInput.value=gt(n.config.altFormat)),!1!==t&&pt("onValueUpdate")}function vt(t){const e=F(t),o=n.prevMonthNav.contains(e),r=n.nextMonthNav.contains(e);o||r?j(o?-1:1):n.yearElements.indexOf(e)>=0?e.select():e.classList.contains("arrowUp")?n.changeYear(n.currentYear+1):e.classList.contains("arrowDown")&&n.changeYear(n.currentYear-1)}return function(){n.element=n.input=t,n.isOpen=!1,function(){const r=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],i=Object.assign(Object.assign({},JSON.parse(JSON.stringify(t.dataset||{}))),e),a={};n.config.parseDate=i.parseDate,n.config.formatDate=i.formatDate,Object.defineProperty(n.config,"enable",{get:()=>n.config._enable,set:t=>{n.config._enable=ut(t)}}),Object.defineProperty(n.config,"disable",{get:()=>n.config._disable,set:t=>{n.config._disable=ut(t)}});const s="time"===i.mode;if(!i.dateFormat&&(i.enableTime||s)){const t=Q.defaultConfig.dateFormat||C.dateFormat;a.dateFormat=i.noCalendar||s?"H:i"+(i.enableSeconds?":S":""):t+" H:i"+(i.enableSeconds?":S":"")}if(i.altInput&&(i.enableTime||s)&&!i.altFormat){const t=Q.defaultConfig.altFormat||C.altFormat;a.altFormat=i.noCalendar||s?"h:i"+(i.enableSeconds?":S K":" K"):t+` h:i${i.enableSeconds?":S":""} K`}Object.defineProperty(n.config,"minDate",{get:()=>n.config._minDate,set:nt("min")}),Object.defineProperty(n.config,"maxDate",{get:()=>n.config._maxDate,set:nt("max")});const c=t=>e=>{n.config["min"===t?"_minTime":"_maxTime"]=n.parseDate(e,"H:i:S")};Object.defineProperty(n.config,"minTime",{get:()=>n.config._minTime,set:c("min")}),Object.defineProperty(n.config,"maxTime",{get:()=>n.config._maxTime,set:c("max")}),"time"===i.mode&&(n.config.noCalendar=!0,n.config.enableTime=!0),Object.assign(n.config,a,i);for(let t=0;t<r.length;t++)n.config[r[t]]=!0===n.config[r[t]]||"true"===n.config[r[t]];w.filter((t=>void 0!==n.config[t])).forEach((t=>{n.config[t]=N(n.config[t]||[]).map(o)})),n.isMobile=!n.config.disableMobile&&!n.config.inline&&"single"===n.config.mode&&!n.config.disable.length&&!n.config.enable&&!n.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(let t=0;t<n.config.plugins.length;t++){const e=n.config.plugins[t](n)||{};for(const t in e)w.indexOf(t)>-1?n.config[t]=N(e[t]).map(o).concat(n.config[t]):void 0===i[t]&&(n.config[t]=e[t])}i.altInputClass||(n.config.altInputClass=ot().className+" "+n.config.altInputClass),pt("onParseConfig")}(),rt(),n.input=ot(),n.input?(n.input._type=n.input.type,n.input.type="text",n.input.classList.add("flatpickr-input"),n._input=n.input,n.config.altInput&&(n.altInput=x(n.input.nodeName,n.config.altInputClass),n._input=n.altInput,n.altInput.placeholder=n.input.placeholder,n.altInput.disabled=n.input.disabled,n.altInput.required=n.input.required,n.altInput.tabIndex=n.input.tabIndex,n.altInput.type="text",n.input.setAttribute("type","hidden"),!n.config.static&&n.input.parentNode&&n.input.parentNode.insertBefore(n.altInput,n.input.nextSibling)),n.config.allowInput||n._input.setAttribute("readonly","readonly"),n._positionElement=n.config.positionElement||n._input):n.config.errorHandler(new Error("Invalid input element specified")),function(){n.selectedDates=[],n.now=n.parseDate(n.config.now)||new Date;const t=n.config.defaultDate||("INPUT"!==n.input.nodeName&&"TEXTAREA"!==n.input.nodeName||!n.input.placeholder||n.input.value!==n.input.placeholder?n.input.value:null);t&&dt(t,n.config.dateFormat),n._initialDate=n.selectedDates.length>0?n.selectedDates[0]:n.config.minDate&&n.config.minDate.getTime()>n.now.getTime()?n.config.minDate:n.config.maxDate&&n.config.maxDate.getTime()<n.now.getTime()?n.config.maxDate:n.now,n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth(),n.selectedDates.length>0&&(n.latestSelectedDateObj=n.selectedDates[0]),void 0!==n.config.minTime&&(n.config.minTime=n.parseDate(n.config.minTime,"H:i")),void 0!==n.config.maxTime&&(n.config.maxTime=n.parseDate(n.config.maxTime,"H:i")),n.minDateHasTime=!!n.config.minDate&&(n.config.minDate.getHours()>0||n.config.minDate.getMinutes()>0||n.config.minDate.getSeconds()>0),n.maxDateHasTime=!!n.config.maxDate&&(n.config.maxDate.getHours()>0||n.config.maxDate.getMinutes()>0||n.config.maxDate.getSeconds()>0)}(),n.utils={getDaysInMonth:(t=n.currentMonth,e=n.currentYear)=>1===t&&(e%4==0&&e%100!=0||e%400==0)?29:n.l10n.daysInMonth[t]},n.isMobile||function(){const t=window.document.createDocumentFragment();if(n.calendarContainer=x("div","flatpickr-calendar"),n.calendarContainer.tabIndex=-1,!n.config.noCalendar){if(t.appendChild((n.monthNav=x("div","flatpickr-months"),n.yearElements=[],n.monthElements=[],n.prevMonthNav=x("span","flatpickr-prev-month"),n.prevMonthNav.innerHTML=n.config.prevArrow,n.nextMonthNav=x("span","flatpickr-next-month"),n.nextMonthNav.innerHTML=n.config.nextArrow,I(),Object.defineProperty(n,"_hidePrevMonthArrow",{get:()=>n.__hidePrevMonthArrow,set(t){n.__hidePrevMonthArrow!==t&&(P(n.prevMonthNav,"flatpickr-disabled",t),n.__hidePrevMonthArrow=t)}}),Object.defineProperty(n,"_hideNextMonthArrow",{get:()=>n.__hideNextMonthArrow,set(t){n.__hideNextMonthArrow!==t&&(P(n.nextMonthNav,"flatpickr-disabled",t),n.__hideNextMonthArrow=t)}}),n.currentYearElement=n.yearElements[0],ht(),n.monthNav)),n.innerContainer=x("div","flatpickr-innerContainer"),n.config.weekNumbers){const{weekWrapper:t,weekNumbers:e}=function(){n.calendarContainer.classList.add("hasWeeks");const t=x("div","flatpickr-weekwrapper");t.appendChild(x("span","flatpickr-weekday",n.l10n.weekAbbreviation));const e=x("div","flatpickr-weeks");return t.appendChild(e),{weekWrapper:t,weekNumbers:e}}();n.innerContainer.appendChild(t),n.weekNumbers=e,n.weekWrapper=t}n.rContainer=x("div","flatpickr-rContainer"),n.rContainer.appendChild(O()),n.daysContainer||(n.daysContainer=x("div","flatpickr-days"),n.daysContainer.tabIndex=-1),y(),n.rContainer.appendChild(n.daysContainer),n.innerContainer.appendChild(n.rContainer),t.appendChild(n.innerContainer)}n.config.enableTime&&t.appendChild(function(){n.calendarContainer.classList.add("hasTime"),n.config.noCalendar&&n.calendarContainer.classList.add("noCalendar");const t=X(n.config);n.timeContainer=x("div","flatpickr-time"),n.timeContainer.tabIndex=-1;const e=x("span","flatpickr-time-separator",":"),o=q("flatpickr-hour",{"aria-label":n.l10n.hourAriaLabel});n.hourElement=o.getElementsByTagName("input")[0];const r=q("flatpickr-minute",{"aria-label":n.l10n.minuteAriaLabel});if(n.minuteElement=r.getElementsByTagName("input")[0],n.hourElement.tabIndex=n.minuteElement.tabIndex=-1,n.hourElement.value=A(n.latestSelectedDateObj?n.latestSelectedDateObj.getHours():n.config.time_24hr?t.hours:function(t){switch(t%24){case 0:case 12:return 12;default:return t%12}}(t.hours)),n.minuteElement.value=A(n.latestSelectedDateObj?n.latestSelectedDateObj.getMinutes():t.minutes),n.hourElement.setAttribute("step",n.config.hourIncrement.toString()),n.minuteElement.setAttribute("step",n.config.minuteIncrement.toString()),n.hourElement.setAttribute("min",n.config.time_24hr?"0":"1"),n.hourElement.setAttribute("max",n.config.time_24hr?"23":"12"),n.hourElement.setAttribute("maxlength","2"),n.minuteElement.setAttribute("min","0"),n.minuteElement.setAttribute("max","59"),n.minuteElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(o),n.timeContainer.appendChild(e),n.timeContainer.appendChild(r),n.config.time_24hr&&n.timeContainer.classList.add("time24hr"),n.config.enableSeconds){n.timeContainer.classList.add("hasSeconds");const e=q("flatpickr-second");n.secondElement=e.getElementsByTagName("input")[0],n.secondElement.value=A(n.latestSelectedDateObj?n.latestSelectedDateObj.getSeconds():t.seconds),n.secondElement.setAttribute("step",n.minuteElement.getAttribute("step")),n.secondElement.setAttribute("min","0"),n.secondElement.setAttribute("max","59"),n.secondElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(x("span","flatpickr-time-separator",":")),n.timeContainer.appendChild(e)}return n.config.time_24hr||(n.amPM=x("span","flatpickr-am-pm",n.l10n.amPM[R((n.latestSelectedDateObj?n.hourElement.value:n.config.defaultHour)>11)]),n.amPM.title=n.l10n.toggleTitle,n.amPM.tabIndex=-1,n.timeContainer.appendChild(n.amPM)),n.timeContainer}()),P(n.calendarContainer,"rangeMode","range"===n.config.mode),P(n.calendarContainer,"animate",!0===n.config.animate),P(n.calendarContainer,"multiMonth",n.config.showMonths>1),n.calendarContainer.appendChild(t);const e=void 0!==n.config.appendTo&&void 0!==n.config.appendTo.nodeType;if((n.config.inline||n.config.static)&&(n.calendarContainer.classList.add(n.config.inline?"inline":"static"),n.config.inline&&(!e&&n.element.parentNode?n.element.parentNode.insertBefore(n.calendarContainer,n._input.nextSibling):void 0!==n.config.appendTo&&n.config.appendTo.appendChild(n.calendarContainer)),n.config.static)){const t=x("div","flatpickr-wrapper");n.element.parentNode&&n.element.parentNode.insertBefore(t,n.element),t.appendChild(n.element),n.altInput&&t.appendChild(n.altInput),t.appendChild(n.calendarContainer)}n.config.static||n.config.inline||(void 0!==n.config.appendTo?n.config.appendTo:window.document.body).appendChild(n.calendarContainer)}(),function(){if(n.config.wrap&&["open","close","toggle","clear"].forEach((t=>{Array.prototype.forEach.call(n.element.querySelectorAll(`[data-${t}]`),(e=>d(e,"click",n[t])))})),n.isMobile)return void function(){const t=n.config.enableTime?n.config.noCalendar?"time":"datetime-local":"date";n.mobileInput=x("input",n.input.className+" flatpickr-mobile"),n.mobileInput.tabIndex=1,n.mobileInput.type=t,n.mobileInput.disabled=n.input.disabled,n.mobileInput.required=n.input.required,n.mobileInput.placeholder=n.input.placeholder,n.mobileFormatStr="datetime-local"===t?"Y-m-d\\TH:i:S":"date"===t?"Y-m-d":"H:i:S",n.selectedDates.length>0&&(n.mobileInput.defaultValue=n.mobileInput.value=n.formatDate(n.selectedDates[0],n.mobileFormatStr)),n.config.minDate&&(n.mobileInput.min=n.formatDate(n.config.minDate,"Y-m-d")),n.config.maxDate&&(n.mobileInput.max=n.formatDate(n.config.maxDate,"Y-m-d")),n.input.getAttribute("step")&&(n.mobileInput.step=String(n.input.getAttribute("step"))),n.input.type="hidden",void 0!==n.altInput&&(n.altInput.type="hidden");try{n.input.parentNode&&n.input.parentNode.insertBefore(n.mobileInput,n.input.nextSibling)}catch(t){}d(n.mobileInput,"change",(t=>{n.setDate(F(t).value,!1,n.mobileFormatStr),pt("onChange"),pt("onClose")}))}();const t=L(et,50);if(n._debouncedChange=L(u,300),n.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&d(n.daysContainer,"mouseover",(t=>{"range"===n.config.mode&&tt(F(t))})),d(window.document.body,"keydown",J),n.config.inline||n.config.static||d(window,"resize",t),void 0!==window.ontouchstart?d(window.document,"touchstart",Y):d(window.document,"mousedown",Y),d(window.document,"focus",Y,{capture:!0}),!0===n.config.clickOpens&&(d(n._input,"focus",n.open),d(n._input,"click",n.open)),void 0!==n.daysContainer&&(d(n.monthNav,"click",vt),d(n.monthNav,["keyup","increment"],l),d(n.daysContainer,"click",ct)),void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement){const t=t=>F(t).select();d(n.timeContainer,["increment"],i),d(n.timeContainer,"blur",i,{capture:!0}),d(n.timeContainer,"click",f),d([n.hourElement,n.minuteElement],["focus","click"],t),void 0!==n.secondElement&&d(n.secondElement,"focus",(()=>n.secondElement&&n.secondElement.select())),void 0!==n.amPM&&d(n.amPM,"click",(t=>{i(t),u()}))}n.config.allowInput&&d(n._input,"blur",Z)}(),(n.selectedDates.length||n.config.noCalendar)&&(n.config.enableTime&&s(n.config.noCalendar?n.latestSelectedDateObj:void 0),_t(!1)),r();const a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!n.isMobile&&a&&it(),pt("onReady")}(),n}function z(t,e){const n=Array.prototype.slice.call(t).filter((t=>t instanceof HTMLElement)),o=[];for(let t=0;t<n.length;t++){const r=n[t];try{if(null!==r.getAttribute("data-fp-omit"))continue;void 0!==r._flatpickr&&(r._flatpickr.destroy(),r._flatpickr=void 0),r._flatpickr=$(r,e||{}),o.push(r._flatpickr)}catch(t){console.error(t)}}return 1===o.length?o[0]:o}n(895),"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return z(this,t)},HTMLElement.prototype.flatpickr=function(t){return z([this],t)});var Q=function(t,e){return"string"==typeof t?z(window.document.querySelectorAll(t),e):t instanceof Node?z([t],e):z(t,e)};Q.defaultConfig={},Q.l10ns={en:Object.assign({},S),default:Object.assign({},S)},Q.localize=t=>{Q.l10ns.default=Object.assign(Object.assign({},Q.l10ns.default),t)},Q.setDefaults=t=>{Q.defaultConfig=Object.assign(Object.assign({},Q.defaultConfig),t)},Q.parseDate=V({}),Q.formatDate=H({}),Q.compareDates=W,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(t){return z(this,t)}),Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof t?parseInt(t,10):t))},"undefined"!=typeof window&&(window.flatpickr=Q);var K=Q;delete window.flatpickr;var Z=K;function J(t){var e=t.getBoundingClientRect();return{width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left,x:e.left,y:e.top}}function tt(t){if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function et(t){var e=tt(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function nt(t){return t instanceof tt(t).Element||t instanceof Element}function ot(t){return t instanceof tt(t).HTMLElement||t instanceof HTMLElement}function rt(t){return t?(t.nodeName||"").toLowerCase():null}function it(t){return((nt(t)?t.ownerDocument:t.document)||window.document).documentElement}function at(t){return J(it(t)).left+et(t).scrollLeft}function st(t){return tt(t).getComputedStyle(t)}function ct(t){var e=st(t),n=e.overflow,o=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+o)}function lt(t,e,n){void 0===n&&(n=!1);var o,r,i=it(e),a=J(t),s=ot(e),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(s||!s&&!n)&&(("body"!==rt(e)||ct(i))&&(c=(o=e)!==tt(o)&&ot(o)?{scrollLeft:(r=o).scrollLeft,scrollTop:r.scrollTop}:et(o)),ot(e)?((l=J(e)).x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=at(i))),{x:a.left+c.scrollLeft-l.x,y:a.top+c.scrollTop-l.y,width:a.width,height:a.height}}function dt(t){return{x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}function ut(t){return"html"===rt(t)?t:t.assignedSlot||t.parentNode||t.host||it(t)}function pt(t){return["html","body","#document"].indexOf(rt(t))>=0?t.ownerDocument.body:ot(t)&&ct(t)?t:pt(ut(t))}function ft(t,e){void 0===e&&(e=[]);var n=pt(t),o="body"===rt(n),r=tt(n),i=o?[r].concat(r.visualViewport||[],ct(n)?n:[]):n,a=e.concat(i);return o?a:a.concat(ft(ut(i)))}function mt(t){return["table","td","th"].indexOf(rt(t))>=0}function ht(t){if(!ot(t)||"fixed"===st(t).position)return null;var e=t.offsetParent;if(e){var n=it(e);if("body"===rt(e)&&"static"===st(e).position&&"static"!==st(n).position)return n}return e}function gt(t){for(var e=tt(t),n=ht(t);n&&mt(n)&&"static"===st(n).position;)n=ht(n);return n&&"body"===rt(n)&&"static"===st(n).position?e:n||function(t){for(var e=ut(t);ot(e)&&["html","body"].indexOf(rt(e))<0;){var n=st(e);if("none"!==n.transform||"none"!==n.perspective||n.willChange&&"auto"!==n.willChange)return e;e=e.parentNode}return null}(t)||e}var _t="top",vt="bottom",Et="right",yt="left",bt="auto",Tt=[_t,vt,Et,yt],It="start",Ot="end",wt="viewport",Ct="popper",Dt=Tt.reduce((function(t,e){return t.concat([e+"-"+It,e+"-"+Ot])}),[]),St=[].concat(Tt,[bt]).reduce((function(t,e){return t.concat([e,e+"-"+It,e+"-"+Ot])}),[]),At=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Rt(t){var e=new Map,n=new Set,o=[];function r(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var o=e.get(t);o&&r(o)}})),o.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||r(t)})),o}var Lt={placement:"bottom",modifiers:[],strategy:"absolute"};function Nt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function Pt(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,o=void 0===n?[]:n,r=e.defaultOptions,i=void 0===r?Lt:r;return function(t,e,n){void 0===n&&(n=i);var r,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign(Object.assign({},Lt),i),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},c=[],l=!1,d={state:s,setOptions:function(n){u(),s.options=Object.assign(Object.assign(Object.assign({},i),s.options),n),s.scrollParents={reference:nt(t)?ft(t):t.contextElement?ft(t.contextElement):[],popper:ft(e)};var r,a,l=function(t){var e=Rt(t);return At.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}((r=[].concat(o,s.options.modifiers),a=r.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign(Object.assign(Object.assign({},n),e),{},{options:Object.assign(Object.assign({},n.options),e.options),data:Object.assign(Object.assign({},n.data),e.data)}):e,t}),{}),Object.keys(a).map((function(t){return a[t]}))));return s.orderedModifiers=l.filter((function(t){return t.enabled})),s.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,o=void 0===n?{}:n,r=t.effect;if("function"==typeof r){var i=r({state:s,name:e,instance:d,options:o});c.push(i||function(){})}})),d.update()},forceUpdate:function(){if(!l){var t=s.elements,e=t.reference,n=t.popper;if(Nt(e,n)){s.rects={reference:lt(e,gt(n),"fixed"===s.options.strategy),popper:dt(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(t){return s.modifiersData[t.name]=Object.assign({},t.data)}));for(var o=0;o<s.orderedModifiers.length;o++)if(!0!==s.reset){var r=s.orderedModifiers[o],i=r.fn,a=r.options,c=void 0===a?{}:a,u=r.name;"function"==typeof i&&(s=i({state:s,options:c,name:u,instance:d})||s)}else s.reset=!1,o=-1}}},update:(r=function(){return new Promise((function(t){d.forceUpdate(),t(s)}))},function(){return a||(a=new Promise((function(t){Promise.resolve().then((function(){a=void 0,t(r())}))}))),a}),destroy:function(){u(),l=!0}};if(!Nt(t,e))return d;function u(){c.forEach((function(t){return t()})),c=[]}return d.setOptions(n).then((function(t){!l&&n.onFirstUpdate&&n.onFirstUpdate(t)})),d}}var xt={passive:!0};function Mt(t){return t.split("-")[0]}function kt(t){return t.split("-")[1]}function qt(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ft(t){var e,n=t.reference,o=t.element,r=t.placement,i=r?Mt(r):null,a=r?kt(r):null,s=n.x+n.width/2-o.width/2,c=n.y+n.height/2-o.height/2;switch(i){case _t:e={x:s,y:n.y-o.height};break;case vt:e={x:s,y:n.y+n.height};break;case Et:e={x:n.x+n.width,y:c};break;case yt:e={x:n.x-o.width,y:c};break;default:e={x:n.x,y:n.y}}var l=i?qt(i):null;if(null!=l){var d="y"===l?"height":"width";switch(a){case It:e[l]=Math.floor(e[l])-Math.floor(n[d]/2-o[d]/2);break;case Ot:e[l]=Math.floor(e[l])+Math.ceil(n[d]/2-o[d]/2)}}return e}var jt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Bt(t){var e,n=t.popper,o=t.popperRect,r=t.placement,i=t.offsets,a=t.position,s=t.gpuAcceleration,c=t.adaptive,l=function(t){var e=t.x,n=t.y,o=window.devicePixelRatio||1;return{x:Math.round(e*o)/o||0,y:Math.round(n*o)/o||0}}(i),d=l.x,u=l.y,p=i.hasOwnProperty("x"),f=i.hasOwnProperty("y"),m=yt,h=_t,g=window;if(c){var _=gt(n);_===tt(n)&&(_=it(n)),r===_t&&(h=vt,u-=_.clientHeight-o.height,u*=s?1:-1),r===yt&&(m=Et,d-=_.clientWidth-o.width,d*=s?1:-1)}var v,E=Object.assign({position:a},c&&jt);return s?Object.assign(Object.assign({},E),{},((v={})[h]=f?"0":"",v[m]=p?"0":"",v.transform=(g.devicePixelRatio||1)<2?"translate("+d+"px, "+u+"px)":"translate3d("+d+"px, "+u+"px, 0)",v)):Object.assign(Object.assign({},E),{},((e={})[h]=f?u+"px":"",e[m]=p?d+"px":"",e.transform="",e))}var Gt={left:"right",right:"left",bottom:"top",top:"bottom"};function Ut(t){return t.replace(/left|right|bottom|top/g,(function(t){return Gt[t]}))}var Yt={start:"end",end:"start"};function Ht(t){return t.replace(/start|end/g,(function(t){return Yt[t]}))}function Vt(t,e){var n,o=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(o&&((n=o)instanceof tt(n).ShadowRoot||n instanceof ShadowRoot)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Wt(t){return Object.assign(Object.assign({},t),{},{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Xt(t,e){return e===wt?Wt(function(t){var e=tt(t),n=it(t),o=e.visualViewport,r=n.clientWidth,i=n.clientHeight,a=0,s=0;return o&&(r=o.width,i=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=o.offsetLeft,s=o.offsetTop)),{width:r,height:i,x:a+at(t),y:s}}(t)):ot(e)?function(t){var e=J(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(e):Wt(function(t){var e=it(t),n=et(t),o=t.ownerDocument.body,r=Math.max(e.scrollWidth,e.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),i=Math.max(e.scrollHeight,e.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-n.scrollLeft+at(t),s=-n.scrollTop;return"rtl"===st(o||e).direction&&(a+=Math.max(e.clientWidth,o?o.clientWidth:0)-r),{width:r,height:i,x:a,y:s}}(it(t)))}function $t(t){return Object.assign(Object.assign({},{top:0,right:0,bottom:0,left:0}),t)}function zt(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}function Qt(t,e){void 0===e&&(e={});var n=e,o=n.placement,r=void 0===o?t.placement:o,i=n.boundary,a=void 0===i?"clippingParents":i,s=n.rootBoundary,c=void 0===s?wt:s,l=n.elementContext,d=void 0===l?Ct:l,u=n.altBoundary,p=void 0!==u&&u,f=n.padding,m=void 0===f?0:f,h=$t("number"!=typeof m?m:zt(m,Tt)),g=d===Ct?"reference":Ct,_=t.elements.reference,v=t.rects.popper,E=t.elements[p?g:d],y=function(t,e,n){var o="clippingParents"===e?function(t){var e=ft(ut(t)),n=["absolute","fixed"].indexOf(st(t).position)>=0&&ot(t)?gt(t):t;return nt(n)?e.filter((function(t){return nt(t)&&Vt(t,n)&&"body"!==rt(t)})):[]}(t):[].concat(e),r=[].concat(o,[n]),i=r[0],a=r.reduce((function(e,n){var o=Xt(t,n);return e.top=Math.max(o.top,e.top),e.right=Math.min(o.right,e.right),e.bottom=Math.min(o.bottom,e.bottom),e.left=Math.max(o.left,e.left),e}),Xt(t,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(nt(E)?E:E.contextElement||it(t.elements.popper),a,c),b=J(_),T=Ft({reference:b,element:v,strategy:"absolute",placement:r}),I=Wt(Object.assign(Object.assign({},v),T)),O=d===Ct?I:b,w={top:y.top-O.top+h.top,bottom:O.bottom-y.bottom+h.bottom,left:y.left-O.left+h.left,right:O.right-y.right+h.right},C=t.modifiersData.offset;if(d===Ct&&C){var D=C[r];Object.keys(w).forEach((function(t){var e=[Et,vt].indexOf(t)>=0?1:-1,n=[_t,vt].indexOf(t)>=0?"y":"x";w[t]+=D[n]*e}))}return w}function Kt(t,e,n){return Math.max(t,Math.min(e,n))}function Zt(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Jt(t){return[_t,Et,vt,yt].some((function(e){return t[e]>=0}))}var te=Pt({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,o=t.options,r=o.scroll,i=void 0===r||r,a=o.resize,s=void 0===a||a,c=tt(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&l.forEach((function(t){t.addEventListener("scroll",n.update,xt)})),s&&c.addEventListener("resize",n.update,xt),function(){i&&l.forEach((function(t){t.removeEventListener("scroll",n.update,xt)})),s&&c.removeEventListener("resize",n.update,xt)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=Ft({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,o=n.gpuAcceleration,r=void 0===o||o,i=n.adaptive,a=void 0===i||i,s={placement:Mt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign(Object.assign({},e.styles.popper),Bt(Object.assign(Object.assign({},s),{},{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign(Object.assign({},e.styles.arrow),Bt(Object.assign(Object.assign({},s),{},{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1})))),e.attributes.popper=Object.assign(Object.assign({},e.attributes.popper),{},{"data-popper-placement":e.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},o=e.attributes[t]||{},r=e.elements[t];ot(r)&&rt(r)&&(Object.assign(r.style,n),Object.keys(o).forEach((function(t){var e=o[t];!1===e?r.removeAttribute(t):r.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var o=e.elements[t],r=e.attributes[t]||{},i=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});ot(o)&&rt(o)&&(Object.assign(o.style,i),Object.keys(r).forEach((function(t){o.removeAttribute(t)})))}))}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,o=t.name,r=n.offset,i=void 0===r?[0,0]:r,a=St.reduce((function(t,n){return t[n]=function(t,e,n){var o=Mt(t),r=[yt,_t].indexOf(o)>=0?-1:1,i="function"==typeof n?n(Object.assign(Object.assign({},e),{},{placement:t})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*r,[yt,Et].indexOf(o)>=0?{x:s,y:a}:{x:a,y:s}}(n,e.rects,i),t}),{}),s=a[e.placement],c=s.x,l=s.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[o]=a}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,o=t.name;if(!e.modifiersData[o]._skip){for(var r=n.mainAxis,i=void 0===r||r,a=n.altAxis,s=void 0===a||a,c=n.fallbackPlacements,l=n.padding,d=n.boundary,u=n.rootBoundary,p=n.altBoundary,f=n.flipVariations,m=void 0===f||f,h=n.allowedAutoPlacements,g=e.options.placement,_=Mt(g),v=c||(_!==g&&m?function(t){if(Mt(t)===bt)return[];var e=Ut(t);return[Ht(t),e,Ht(e)]}(g):[Ut(g)]),E=[g].concat(v).reduce((function(t,n){return t.concat(Mt(n)===bt?function(t,e){void 0===e&&(e={});var n=e,o=n.placement,r=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,c=n.allowedAutoPlacements,l=void 0===c?St:c,d=kt(o),u=d?s?Dt:Dt.filter((function(t){return kt(t)===d})):Tt,p=u.filter((function(t){return l.indexOf(t)>=0}));0===p.length&&(p=u);var f=p.reduce((function(e,n){return e[n]=Qt(t,{placement:n,boundary:r,rootBoundary:i,padding:a})[Mt(n)],e}),{});return Object.keys(f).sort((function(t,e){return f[t]-f[e]}))}(e,{placement:n,boundary:d,rootBoundary:u,padding:l,flipVariations:m,allowedAutoPlacements:h}):n)}),[]),y=e.rects.reference,b=e.rects.popper,T=new Map,I=!0,O=E[0],w=0;w<E.length;w++){var C=E[w],D=Mt(C),S=kt(C)===It,A=[_t,vt].indexOf(D)>=0,R=A?"width":"height",L=Qt(e,{placement:C,boundary:d,rootBoundary:u,altBoundary:p,padding:l}),N=A?S?Et:yt:S?vt:_t;y[R]>b[R]&&(N=Ut(N));var P=Ut(N),x=[];if(i&&x.push(L[D]<=0),s&&x.push(L[N]<=0,L[P]<=0),x.every((function(t){return t}))){O=C,I=!1;break}T.set(C,x)}if(I)for(var M=function(t){var e=E.find((function(e){var n=T.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return O=e,"break"},k=m?3:1;k>0&&"break"!==M(k);k--);e.placement!==O&&(e.modifiersData[o]._skip=!0,e.placement=O,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,o=t.name,r=n.mainAxis,i=void 0===r||r,a=n.altAxis,s=void 0!==a&&a,c=n.boundary,l=n.rootBoundary,d=n.altBoundary,u=n.padding,p=n.tether,f=void 0===p||p,m=n.tetherOffset,h=void 0===m?0:m,g=Qt(e,{boundary:c,rootBoundary:l,padding:u,altBoundary:d}),_=Mt(e.placement),v=kt(e.placement),E=!v,y=qt(_),b="x"===y?"y":"x",T=e.modifiersData.popperOffsets,I=e.rects.reference,O=e.rects.popper,w="function"==typeof h?h(Object.assign(Object.assign({},e.rects),{},{placement:e.placement})):h,C={x:0,y:0};if(T){if(i){var D="y"===y?_t:yt,S="y"===y?vt:Et,A="y"===y?"height":"width",R=T[y],L=T[y]+g[D],N=T[y]-g[S],P=f?-O[A]/2:0,x=v===It?I[A]:O[A],M=v===It?-O[A]:-I[A],k=e.elements.arrow,q=f&&k?dt(k):{width:0,height:0},F=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},j=F[D],B=F[S],G=Kt(0,I[A],q[A]),U=E?I[A]/2-P-G-j-w:x-G-j-w,Y=E?-I[A]/2+P+G+B+w:M+G+B+w,H=e.elements.arrow&&gt(e.elements.arrow),V=H?"y"===y?H.clientTop||0:H.clientLeft||0:0,W=e.modifiersData.offset?e.modifiersData.offset[e.placement][y]:0,X=T[y]+U-W-V,$=T[y]+Y-W,z=Kt(f?Math.min(L,X):L,R,f?Math.max(N,$):N);T[y]=z,C[y]=z-R}if(s){var Q="x"===y?_t:yt,K="x"===y?vt:Et,Z=T[b],J=Kt(Z+g[Q],Z,Z-g[K]);T[b]=J,C[b]=J-Z}e.modifiersData[o]=C}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,o=t.name,r=n.elements.arrow,i=n.modifiersData.popperOffsets,a=Mt(n.placement),s=qt(a),c=[yt,Et].indexOf(a)>=0?"height":"width";if(r&&i){var l=n.modifiersData[o+"#persistent"].padding,d=dt(r),u="y"===s?_t:yt,p="y"===s?vt:Et,f=n.rects.reference[c]+n.rects.reference[s]-i[s]-n.rects.popper[c],m=i[s]-n.rects.reference[s],h=gt(r),g=h?"y"===s?h.clientHeight||0:h.clientWidth||0:0,_=f/2-m/2,v=l[u],E=g-d[c]-l[p],y=g/2-d[c]/2+_,b=Kt(v,y,E),T=s;n.modifiersData[o]=((e={})[T]=b,e.centerOffset=b-y,e)}},effect:function(t){var e=t.state,n=t.options,o=t.name,r=n.element,i=void 0===r?"[data-popper-arrow]":r,a=n.padding,s=void 0===a?0:a;null!=i&&("string"!=typeof i||(i=e.elements.popper.querySelector(i)))&&Vt(e.elements.popper,i)&&(e.elements.arrow=i,e.modifiersData[o+"#persistent"]={padding:$t("number"!=typeof s?s:zt(s,Tt))})},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,o=e.rects.reference,r=e.rects.popper,i=e.modifiersData.preventOverflow,a=Qt(e,{elementContext:"reference"}),s=Qt(e,{altBoundary:!0}),c=Zt(a,o),l=Zt(s,r,i),d=Jt(c),u=Jt(l);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:d,hasPopperEscaped:u},e.attributes.popper=Object.assign(Object.assign({},e.attributes.popper),{},{"data-popper-reference-hidden":d,"data-popper-escaped":u})}}]}),ee="tippy-content",ne="tippy-arrow",oe="tippy-svg-arrow",re={passive:!0,capture:!0};function ie(t,e,n){if(Array.isArray(t)){var o=t[e];return null==o?Array.isArray(n)?n[e]:n:o}return t}function ae(t,e){var n={}.toString.call(t);return 0===n.indexOf("[object")&&n.indexOf(e+"]")>-1}function se(t,e){return"function"==typeof t?t.apply(void 0,e):t}function ce(t,e){return 0===e?t:function(o){clearTimeout(n),n=setTimeout((function(){t(o)}),e)};var n}function le(t){return[].concat(t)}function de(t,e){-1===t.indexOf(e)&&t.push(e)}function ue(t){return[].slice.call(t)}function pe(){return document.createElement("div")}function fe(t){return["Element","Fragment"].some((function(e){return ae(t,e)}))}function me(t,e){t.forEach((function(t){t&&(t.style.transitionDuration=e+"ms")}))}function he(t,e){t.forEach((function(t){t&&t.setAttribute("data-state",e)}))}function ge(t,e,n){var o=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(e){t[o](e,n)}))}var _e={isTouch:!1},ve=0;function Ee(){_e.isTouch||(_e.isTouch=!0,window.performance&&document.addEventListener("mousemove",ye))}function ye(){var t=performance.now();t-ve<20&&(_e.isTouch=!1,document.removeEventListener("mousemove",ye)),ve=t}function be(){var t,e=document.activeElement;if((t=e)&&t._tippy&&t._tippy.reference===t){var n=e._tippy;e.blur&&!n.state.isVisible&&e.blur()}}var Te="undefined"!=typeof window&&"undefined"!=typeof document?navigator.userAgent:"",Ie=/MSIE |Trident\//.test(Te),Oe=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),we=Object.keys(Oe);function Ce(t){var e=(t.plugins||[]).reduce((function(e,n){var o=n.name,r=n.defaultValue;return o&&(e[o]=void 0!==t[o]?t[o]:r),e}),{});return Object.assign({},t,{},e)}function De(t,e){var n=Object.assign({},e,{content:se(e.content,[t])},e.ignoreAttributes?{}:function(t,e){return(e?Object.keys(Ce(Object.assign({},Oe,{plugins:e}))):we).reduce((function(e,n){var o=(t.getAttribute("data-tippy-"+n)||"").trim();if(!o)return e;if("content"===n)e[n]=o;else try{e[n]=JSON.parse(o)}catch(t){e[n]=o}return e}),{})}(t,e.plugins));return n.aria=Object.assign({},Oe.aria,{},n.aria),n.aria={expanded:"auto"===n.aria.expanded?e.interactive:n.aria.expanded,content:"auto"===n.aria.content?e.interactive?null:"describedby":n.aria.content},n}function Se(t,e){t.innerHTML=e}function Ae(t){var e=pe();return!0===t?e.className=ne:(e.className=oe,fe(t)?e.appendChild(t):Se(e,t)),e}function Re(t,e){fe(e.content)?(Se(t,""),t.appendChild(e.content)):"function"!=typeof e.content&&(e.allowHTML?Se(t,e.content):t.textContent=e.content)}function Le(t){var e=t.firstElementChild,n=ue(e.children);return{box:e,content:n.find((function(t){return t.classList.contains(ee)})),arrow:n.find((function(t){return t.classList.contains(ne)||t.classList.contains(oe)})),backdrop:n.find((function(t){return t.classList.contains("tippy-backdrop")}))}}function Ne(t){var e=pe(),n=pe();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var o=pe();function r(n,o){var r=Le(e),i=r.box,a=r.content,s=r.arrow;o.theme?i.setAttribute("data-theme",o.theme):i.removeAttribute("data-theme"),"string"==typeof o.animation?i.setAttribute("data-animation",o.animation):i.removeAttribute("data-animation"),o.inertia?i.setAttribute("data-inertia",""):i.removeAttribute("data-inertia"),i.style.maxWidth="number"==typeof o.maxWidth?o.maxWidth+"px":o.maxWidth,o.role?i.setAttribute("role",o.role):i.removeAttribute("role"),n.content===o.content&&n.allowHTML===o.allowHTML||Re(a,t.props),o.arrow?s?n.arrow!==o.arrow&&(i.removeChild(s),i.appendChild(Ae(o.arrow))):i.appendChild(Ae(o.arrow)):s&&i.removeChild(s)}return o.className=ee,o.setAttribute("data-state","hidden"),Re(o,t.props),e.appendChild(n),n.appendChild(o),r(t.props,t.props),{popper:e,onUpdate:r}}Ne.$$tippy=!0;var Pe=1,xe=[],Me=[];function ke(t,e){var n,o,r,i,a,s,c,l,d,u=De(t,Object.assign({},Oe,{},Ce((n=e,Object.keys(n).reduce((function(t,e){return void 0!==n[e]&&(t[e]=n[e]),t}),{}))))),p=!1,f=!1,m=!1,h=!1,g=[],_=ce($,u.interactiveDebounce),v=Pe++,E=(d=u.plugins).filter((function(t,e){return d.indexOf(t)===e})),y={id:v,reference:t,popper:pe(),popperInstance:null,props:u,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:E,clearDelayTimeouts:function(){clearTimeout(o),clearTimeout(r),cancelAnimationFrame(i)},setProps:function(e){if(!y.state.isDestroyed){x("onBeforeUpdate",[y,e]),W();var n=y.props,o=De(t,Object.assign({},y.props,{},e,{ignoreAttributes:!0}));y.props=o,V(),n.interactiveDebounce!==o.interactiveDebounce&&(q(),_=ce($,o.interactiveDebounce)),n.triggerTarget&&!o.triggerTarget?le(n.triggerTarget).forEach((function(t){t.removeAttribute("aria-expanded")})):o.triggerTarget&&t.removeAttribute("aria-expanded"),k(),P(),I&&I(n,o),y.popperInstance&&(Z(),tt().forEach((function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)}))),x("onAfterUpdate",[y,e])}},setContent:function(t){y.setProps({content:t})},show:function(){var t=y.state.isVisible,e=y.state.isDestroyed,n=!y.state.isEnabled,o=_e.isTouch&&!y.props.touch,r=ie(y.props.duration,0,Oe.duration);if(!(t||e||n||o||A().hasAttribute("disabled")||(x("onShow",[y],!1),!1===y.props.onShow(y)))){if(y.state.isVisible=!0,S()&&(T.style.visibility="visible"),P(),G(),y.state.isMounted||(T.style.transition="none"),S()){var i=L();me([i.box,i.content],0)}var a,s,l;c=function(){if(y.state.isVisible&&!h){if(h=!0,T.offsetHeight,T.style.transition=y.props.moveTransition,S()&&y.props.animation){var t=L(),e=t.box,n=t.content;me([e,n],r),he([e,n],"visible")}M(),k(),de(Me,y),y.state.isMounted=!0,x("onMount",[y]),y.props.animation&&S()&&function(t,e){Y(t,(function(){y.state.isShown=!0,x("onShown",[y])}))}(r)}},s=y.props.appendTo,l=A(),(a=y.props.interactive&&s===Oe.appendTo||"parent"===s?l.parentNode:se(s,[l])).contains(T)||a.appendChild(T),Z()}},hide:function(){var t=!y.state.isVisible,e=y.state.isDestroyed,n=!y.state.isEnabled,o=ie(y.props.duration,1,Oe.duration);if(!(t||e||n)&&(x("onHide",[y],!1),!1!==y.props.onHide(y))){if(y.state.isVisible=!1,y.state.isShown=!1,h=!1,p=!1,S()&&(T.style.visibility="hidden"),q(),U(),P(),S()){var r=L(),i=r.box,a=r.content;y.props.animation&&(me([i,a],o),he([i,a],"hidden"))}M(),k(),y.props.animation?S()&&function(t,e){Y(t,(function(){!y.state.isVisible&&T.parentNode&&T.parentNode.contains(T)&&e()}))}(o,y.unmount):y.unmount()}},hideWithInteractivity:function(t){R().addEventListener("mousemove",_),de(xe,_),_(t)},enable:function(){y.state.isEnabled=!0},disable:function(){y.hide(),y.state.isEnabled=!1},unmount:function(){y.state.isVisible&&y.hide(),y.state.isMounted&&(J(),tt().forEach((function(t){t._tippy.unmount()})),T.parentNode&&T.parentNode.removeChild(T),Me=Me.filter((function(t){return t!==y})),y.state.isMounted=!1,x("onHidden",[y]))},destroy:function(){y.state.isDestroyed||(y.clearDelayTimeouts(),y.unmount(),W(),delete t._tippy,y.state.isDestroyed=!0,x("onDestroy",[y]))}};if(!u.render)return y;var b=u.render(y),T=b.popper,I=b.onUpdate;T.setAttribute("data-tippy-root",""),T.id="tippy-"+y.id,y.popper=T,t._tippy=y,T._tippy=y;var O=E.map((function(t){return t.fn(y)})),w=t.hasAttribute("aria-expanded");return V(),k(),P(),x("onCreate",[y]),u.showOnCreate&&et(),T.addEventListener("mouseenter",(function(){y.props.interactive&&y.state.isVisible&&y.clearDelayTimeouts()})),T.addEventListener("mouseleave",(function(t){y.props.interactive&&y.props.trigger.indexOf("mouseenter")>=0&&(R().addEventListener("mousemove",_),_(t))})),y;function C(){var t=y.props.touch;return Array.isArray(t)?t:[t,0]}function D(){return"hold"===C()[0]}function S(){var t;return!!(null==(t=y.props.render)?void 0:t.$$tippy)}function A(){return l||t}function R(){var t,e=A().parentNode;return e?(t=le(e)[0])&&t.ownerDocument||document:document}function L(){return Le(T)}function N(t){return y.state.isMounted&&!y.state.isVisible||_e.isTouch||a&&"focus"===a.type?0:ie(y.props.delay,t?0:1,Oe.delay)}function P(){T.style.pointerEvents=y.props.interactive&&y.state.isVisible?"":"none",T.style.zIndex=""+y.props.zIndex}function x(t,e,n){var o;void 0===n&&(n=!0),O.forEach((function(n){n[t]&&n[t].apply(void 0,e)})),n&&(o=y.props)[t].apply(o,e)}function M(){var e=y.props.aria;if(e.content){var n="aria-"+e.content,o=T.id;le(y.props.triggerTarget||t).forEach((function(t){var e=t.getAttribute(n);if(y.state.isVisible)t.setAttribute(n,e?e+" "+o:o);else{var r=e&&e.replace(o,"").trim();r?t.setAttribute(n,r):t.removeAttribute(n)}}))}}function k(){!w&&y.props.aria.expanded&&le(y.props.triggerTarget||t).forEach((function(t){y.props.interactive?t.setAttribute("aria-expanded",y.state.isVisible&&t===A()?"true":"false"):t.removeAttribute("aria-expanded")}))}function q(){R().removeEventListener("mousemove",_),xe=xe.filter((function(t){return t!==_}))}function F(t){if(!(_e.isTouch&&(m||"mousedown"===t.type)||y.props.interactive&&T.contains(t.target))){if(A().contains(t.target)){if(_e.isTouch)return;if(y.state.isVisible&&y.props.trigger.indexOf("click")>=0)return}else x("onClickOutside",[y,t]);!0===y.props.hideOnClick&&(y.clearDelayTimeouts(),y.hide(),f=!0,setTimeout((function(){f=!1})),y.state.isMounted||U())}}function j(){m=!0}function B(){m=!1}function G(){var t=R();t.addEventListener("mousedown",F,!0),t.addEventListener("touchend",F,re),t.addEventListener("touchstart",B,re),t.addEventListener("touchmove",j,re)}function U(){var t=R();t.removeEventListener("mousedown",F,!0),t.removeEventListener("touchend",F,re),t.removeEventListener("touchstart",B,re),t.removeEventListener("touchmove",j,re)}function Y(t,e){var n=L().box;function o(t){t.target===n&&(ge(n,"remove",o),e())}if(0===t)return e();ge(n,"remove",s),ge(n,"add",o),s=o}function H(e,n,o){void 0===o&&(o=!1),le(y.props.triggerTarget||t).forEach((function(t){t.addEventListener(e,n,o),g.push({node:t,eventType:e,handler:n,options:o})}))}function V(){var t;D()&&(H("touchstart",X,{passive:!0}),H("touchend",z,{passive:!0})),(t=y.props.trigger,t.split(/\s+/).filter(Boolean)).forEach((function(t){if("manual"!==t)switch(H(t,X),t){case"mouseenter":H("mouseleave",z);break;case"focus":H(Ie?"focusout":"blur",Q);break;case"focusin":H("focusout",Q)}}))}function W(){g.forEach((function(t){var e=t.node,n=t.eventType,o=t.handler,r=t.options;e.removeEventListener(n,o,r)})),g=[]}function X(t){var e,n=!1;if(y.state.isEnabled&&!K(t)&&!f){var o="focus"===(null==(e=a)?void 0:e.type);a=t,l=t.currentTarget,k(),!y.state.isVisible&&ae(t,"MouseEvent")&&xe.forEach((function(e){return e(t)})),"click"===t.type&&(y.props.trigger.indexOf("mouseenter")<0||p)&&!1!==y.props.hideOnClick&&y.state.isVisible?n=!0:et(t),"click"===t.type&&(p=!n),n&&!o&&nt(t)}}function $(t){var e=t.target,n=A().contains(e)||T.contains(e);"mousemove"===t.type&&n||function(t,e){var n=e.clientX,o=e.clientY;return t.every((function(t){var e=t.popperRect,r=t.popperState,i=t.props.interactiveBorder,a=r.placement.split("-")[0],s=r.modifiersData.offset;if(!s)return!0;var c="bottom"===a?s.top.y:0,l="top"===a?s.bottom.y:0,d="right"===a?s.left.x:0,u="left"===a?s.right.x:0,p=e.top-o+c>i,f=o-e.bottom-l>i,m=e.left-n+d>i,h=n-e.right-u>i;return p||f||m||h}))}(tt().concat(T).map((function(t){var e,n=null==(e=t._tippy.popperInstance)?void 0:e.state;return n?{popperRect:t.getBoundingClientRect(),popperState:n,props:u}:null})).filter(Boolean),t)&&(q(),nt(t))}function z(t){K(t)||y.props.trigger.indexOf("click")>=0&&p||(y.props.interactive?y.hideWithInteractivity(t):nt(t))}function Q(t){y.props.trigger.indexOf("focusin")<0&&t.target!==A()||y.props.interactive&&t.relatedTarget&&T.contains(t.relatedTarget)||nt(t)}function K(t){return!!_e.isTouch&&D()!==t.type.indexOf("touch")>=0}function Z(){J();var e=y.props,n=e.popperOptions,o=e.placement,r=e.offset,i=e.getReferenceClientRect,a=e.moveTransition,s=S()?Le(T).arrow:null,l=i?{getBoundingClientRect:i,contextElement:i.contextElement||A()}:t,d=[{name:"offset",options:{offset:r}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if(S()){var n=L().box;["placement","reference-hidden","escaped"].forEach((function(t){"placement"===t?n.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?n.setAttribute("data-"+t,""):n.removeAttribute("data-"+t)})),e.attributes.popper={}}}}];S()&&s&&d.push({name:"arrow",options:{element:s,padding:3}}),d.push.apply(d,(null==n?void 0:n.modifiers)||[]),y.popperInstance=te(l,T,Object.assign({},n,{placement:o,onFirstUpdate:c,modifiers:d}))}function J(){y.popperInstance&&(y.popperInstance.destroy(),y.popperInstance=null)}function tt(){return ue(T.querySelectorAll("[data-tippy-root]"))}function et(t){y.clearDelayTimeouts(),t&&x("onTrigger",[y,t]),G();var e=N(!0),n=C(),r=n[0],i=n[1];_e.isTouch&&"hold"===r&&i&&(e=i),e?o=setTimeout((function(){y.show()}),e):y.show()}function nt(t){if(y.clearDelayTimeouts(),x("onUntrigger",[y,t]),y.state.isVisible){if(!(y.props.trigger.indexOf("mouseenter")>=0&&y.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&p)){var e=N(!1);e?r=setTimeout((function(){y.state.isVisible&&y.hide()}),e):i=requestAnimationFrame((function(){y.hide()}))}}else U()}}function qe(t,e){void 0===e&&(e={});var n=Oe.plugins.concat(e.plugins||[]);document.addEventListener("touchstart",Ee,re),window.addEventListener("blur",be);var o,r=Object.assign({},e,{plugins:n}),i=(o=t,fe(o)?[o]:function(t){return ae(t,"NodeList")}(o)?ue(o):Array.isArray(o)?o:ue(document.querySelectorAll(o))).reduce((function(t,e){var n=e&&ke(e,r);return n&&t.push(n),t}),[]);return fe(t)?i[0]:i}qe.defaultProps=Oe,qe.setDefaultProps=function(t){Object.keys(t).forEach((function(e){Oe[e]=t[e]}))},qe.currentInput=_e,qe.setDefaultProps({render:Ne});var Fe=qe;delete window.tippy;var je,Be,Ge,Ue,Ye,He,Ve,We,Xe,$e,ze,Qe=Fe,Ke=n(136),Ze=n(236),Je=n.n(Ze),tn=n(521),en=n.n(tn);function nn(t,e){var n;null===(n=e.parentNode)||void 0===n||n.insertBefore(t,e),t.appendChild(e)}!function(t){t.DISABLE="disable",t.BESIDE="beside",t.ONCE="once",t.OVERLAY="overlay"}(je||(je={})),function(t){t.FIXED="fixed",t.PERCENT="percent"}(Be||(Be={})),function(t){t.IMAGE="image",t.TEXT="text",t.AUDIO="audio",t.OTHER="other"}(Ge||(Ge={})),function(t){t.ABSOLUTE="absolute",t.RELATIVE="relative"}(Ue||(Ue={})),function(t){t.TEXT="text",t.TEXTAREA="textarea",t.NUMBER="number",t.DATE="date",t.FILE="file",t.CHECKBOX="checkbox",t.RADIO="radio",t.SELECT="select",t.MULTISELECT="multiselect",t.SWATCH="swatch",t.MULTISWATCH="multiswatch",t.BUTTON="button",t.MULTIBUTTON="multibutton"}(Ye||(Ye={})),function(t){t.PRICE="price",t.QUANTITY="quantity",t.IMAGES="images",t.TITLE="title",t.WEIGHT="weight",t.SKU="sku"}(He||(He={})),function(t){t.OPTION="option",t.VARIANT="variant"}(Ve||(Ve={})),function(t){t.ALL="all",t.ANY="any"}(We||(We={})),function(t){t.EQ="eq",t.NEQ="!eq"}(Xe||(Xe={})),function(t){t.SET="set",t.INCREASE="increase",t.DECREASE="decrease"}($e||($e={})),function(t){t.SET="set",t.APPEND="append"}(ze||(ze={}));const on="${{amount}}";function rn(t,e=on){"string"==typeof t&&(t=t.replace(".",""));let n="";const o=/\{\{\s*(\w+)\s*\}\}/,r=e||on;function i(t,e=2,n=",",o="."){if(isNaN(t)||null==t)return 0;const r=(t=(t/100).toFixed(e)).split(".");return r[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,`$1${n}`)+(r[1]?o+r[1]:"")}switch(r.match(o)[1]){case"amount":n=i(t,2);break;case"amount_no_decimals":n=i(t,0);break;case"amount_with_comma_separator":n=i(t,2,".",",");break;case"amount_no_decimals_with_comma_separator":n=i(t,0,".",",");break;case"amount_with_apostrophe_separator":n=i(t,2,"'",".")}return r.replace(o,n)}const an=[Ye.CHECKBOX,Ye.MULTISWATCH,Ye.MULTIBUTTON,Ye.MULTISELECT],sn=[Ye.SWATCH,Ye.BUTTON,Ye.SELECT,Ye.RADIO],cn=[...an,...sn],ln=cn.filter((t=>t!==Ye.MULTISELECT)),dn=[r.OWN_PROP_CART,r.OWN_PROP_QTY,r.OWN_PROP_PRODUCTS,r.OWN_PROP_REQUIRED,r.OWN_PROP_OPTION];function un(t,e){const n=(e,n)=>{if(null!==e.override)return e.override;let o=0;return(()=>{for(let r of e.add_rules){const e=t.loadedState.rules[r].rule[n];if(0===Math.abs(e.value))continue;let i=e.value*t.loadedState.qty;e.mode===$e.INCREASE&&(o+=i),e.mode===$e.DECREASE&&(o-=i)}})(),(()=>{for(let r of e.add_values){const i=t.loadedState.values[r],a=t.loadedState.options[i.option_id];let s=i.value.pricing[n];if(0!==Math.abs(s)){if(i.value.pricing.price_type===Be.PERCENT){const t=null!==e.override?e.override:e.base;s=Number((t*s/100).toFixed(2))}ln.includes(a.input_type)&&a.qty_input&&(s*=parseInt(i.qty_input)||1),[Ye.TEXT,Ye.TEXTAREA].includes(i.value.input_type)&&i.value.price_per_character&&(s*=i.user_input.trim().length),i.value.pricing.is_onetime||(s*=t.loadedState.qty),o+=s}}})(),o+e.base*t.loadedState.qty};let o=n(t.loadedState.attributes.price,"price"),r=n(t.loadedState.attributes.compare_at_price,"compare_at_price");o>r&&t.loadedState.attributes.compare_at_price.base>0&&(r=o),o=e("applyAttributeStateToHtml::price",{price:o,base:t.loadedState.attributes.price.base}).price,r=e("applyAttributeStateToHtml::comparePrice",{comparePrice:r,base:t.loadedState.attributes.compare_at_price.base}).comparePrice,o=o<0?0:o,r=r<0?0:r;const i="with_currency"===t.initConfig.settings.currency_html_format?t.initConfig.shop_money_with_currency_format:t.initConfig.shop_money_format,a=t.htmlElements.price?t.htmlElements.price:gn("price",t.initConfig.settings.selectors.product.price);if(a.length)for(let t of a)t.innerHTML=rn(100*o,i);const s=t.htmlElements.compare_price?t.htmlElements.compare_price:gn("compare_price",t.initConfig.settings.selectors.product.compare_price);if(s.length)for(let t of s)t.innerHTML=rn(100*r,i)}function pn(t,e){const n=(e,n)=>{const o=t.values[e];cn.includes(o.value.input_type)||(o.user_input.trim().length>0&&!1===n.add_values.includes(o.value.id)&&n.add_values.push(o.value.id),o.enabled&&0!==o.user_input.trim().length||n.add_values.includes(o.value.id)&&n.add_values.splice(n.add_values.indexOf(o.value.id),1)),cn.includes(o.value.input_type)&&(!o.enabled&&n.add_values.includes(o.value.id)&&n.add_values.splice(n.add_values.indexOf(o.value.id),1),o.enabled&&!1===n.add_values.includes(o.value.id)&&n.add_values.push(o.value.id))},o=t.attributes;for(let r of e){const e=t.values[r];e?e.value.pricing.enabled&&(n(r,o.price),n(r,o.compare_at_price)):d(`Value id: ${e} not found.`)}}function fn(t,e,n,o){const r=(e,n,o)=>{const r=new Set(["src","srcset","href","data-srcset","data-src","data-src-retina","data-cloudzoom","data-mfp-src"]),i=(t,e,n)=>{if(!t.hasAttribute(e))return;const o=`data-mws-old-${e}`;!t.hasAttribute(o)&&t.setAttribute(o,t.getAttribute(e)||""),(n||t.getAttribute(o))&&t.setAttribute(e,"string"==typeof n?n:t.getAttribute(o)||""),!n&&t.removeAttribute(o)};if(t.htmlElements.gallery_container)for(let a of t.htmlElements.gallery_container.querySelectorAll("img")){for(let t of r)i(a,t,e);"string"==typeof n&&i(a,"alt",n),"string"==typeof o&&i(a,"title",o)}if(t.htmlElements.gallery_image){for(let n of r)i(t.htmlElements.gallery_image,n,e);"string"==typeof n&&i(t.htmlElements.gallery_image,"alt",n),"string"==typeof o&&i(t.htmlElements.gallery_image,"title",o)}};if(t.initConfig.settings.selectors.product.gallery_container.trim()&&(t.htmlElements.gallery_container=document.querySelector(t.initConfig.settings.selectors.product.gallery_container)),t.initConfig.settings.selectors.product.gallery_image.trim()&&(t.htmlElements.gallery_image=document.querySelector(t.initConfig.settings.selectors.product.gallery_image)),(t.htmlElements.gallery_image||t.htmlElements.gallery_container)&&(e.replacedImage.value_id&&t.loadedState.values[e.replacedImage.value_id].hidden.length>0&&(r(!1),e.replacedImage={}),o))for(let o in n){if(!t.loadedState.values[o])continue;const i=t.loadedState.values[o].value;for(let t of i.images){const a=t;a.replace&&(n[o]&&(e.replacedImage.value_id=i.id,e.replacedImage.url=a.url,r(a.url,a.alt,a.title)),n[o]||r(!1))}}}function mn(t){var e,n,o;let i="select > option";t.settings.selectors.common.own_variants.trim()&&(i+=`, ${t.settings.selectors.common.own_variants}`);const a=document.querySelectorAll(i);for(let t of a)if(t.innerHTML.indexOf(r.OWN_VARIANT_TITLE)>-1){const r=null===(e=t.parentNode)||void 0===e?void 0:e.parentElement;"select-one"===r.type&&2===r.querySelectorAll("option").length?null===(n=r.parentNode)||void 0===n||n.removeChild(r):null===(o=t.parentNode)||void 0===o||o.removeChild(t)}}function hn(t,e){if("select-one"!==t.type)t.setAttribute("value",e);else{const n=(t=t).querySelectorAll("option");for(let t of n)t.removeAttribute("selected");const r=t.querySelector(`option[value="${e}"]`);if(r)r.setAttribute("selected","selected");else{const n=document.createElement("option");n.setAttribute("selected","selected"),n.setAttribute("value",e),n.classList.add(o.VISUALLY_HIDDEN),t.appendChild(n)}}}function gn(t,e){let n=[];if(e&&e.trim())n=[...document.querySelectorAll(e.trim())];else{const e=E(t);n=e?[e]:[]}return n}var _n=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((o=o.apply(t,e||[])).next())}))};function vn(t=!1,e=""){return _n(this,void 0,void 0,(function*(){const n=t?`/cart${e}`:`/cart.js${e}`;return s().get(n).then((t=>t.data)).catch((t=>{d("getCart",t)}))}))}function En(t){return _n(this,void 0,void 0,(function*(){let e=[];for(let n of t){let t={};for(let e in n.properties)"string"==typeof n.properties[e]?t[e]=n.properties[e].toString():t[e]=n.properties[e].join(", ");e.push({id:n.variant_id,quantity:n.qty,properties:t})}return e.length?(h(r.CART_TOKEN_COOKIE_NAME),s().post("/cart/add.js",{items:e},{headers:{}}).then((t=>t)).catch((t=>(d("addOwnCartItems",t),t)))):{status:200}}))}function yn(t,e){return _n(this,void 0,void 0,(function*(){if(!Number.isInteger(t))return void d(`removeOwnCartItems cartId "${t}" is not valid.`);let n={};for(let o of e){o.properties=o.properties||{};const e=o.properties[r.OWN_PROP_CART];e&&e===t.toString()&&(n[o.key]=0)}Object.keys(n).length&&(yield s().post("/cart/update.js",{updates:n}))}))}function bn(t,e){(()=>{const t=y("cart_properties");if(t.length)for(let e of t)if(e.textContent){for(let t of dn)e.textContent.includes(t)&&(e.innerHTML=e.innerHTML.replace(/.*/,""));e.textContent.includes(r.OWN_VARIANT_TITLE)&&(e.classList.add(o.VISUALLY_HIDDEN),e.innerHTML=e.innerHTML.replace(/\#MWS\sOptions\s+\d+/,""))}})(),(()=>{if(!t.items.filter((t=>t.properties&&t.properties[r.OWN_PROP_CART])).length)return;let n=[];if(n=e.settings.selectors.cart.lines.trim()?[...document.querySelectorAll(e.settings.selectors.cart.lines)]:y("cart_row"),n.length)for(let i in t.items){const a=t.items[i];a.properties=a.properties||{};const s=a.properties[r.OWN_PROP_CART];if(!s)continue;const c=n[i];if(!c){d(`hideElements::Not found line for ${r.OWN_PROP_CART}: ${s}`);continue}let l=null;l=e.settings.selectors.cart.line_remove.trim()?c.querySelector(e.settings.selectors.cart.line_remove):E("cart_line_remove",c),l?a.properties[r.OWN_PROP_OPTION]&&l.classList.add(o.VISUALLY_HIDDEN):d("hideElements::Not found cart line remove");let u=null;u=e.settings.selectors.cart.line_quantity.trim()?c.querySelector(e.settings.selectors.cart.line_quantity):E("cart_line_qty",c),u?a.properties[r.OWN_PROP_OPTION]&&u.setAttribute("disabled","disabled"):d("hideElements::Not found cart line qty")}else d("hideElements::Cart lines not found.")})()}function Tn(t){var e;!t.cart.items.filter((t=>t.properties&&t.properties[r.OWN_PROP_CART])).length&&(e=r.CART_TOKEN_COOKIE_NAME,m(e,"",{"max-age":"-1"})),An(t.cart,t),function(t){let e=0;const n=()=>{e&&clearTimeout(e),e=window.setTimeout((()=>_n(this,void 0,void 0,(function*(){const e=yield vn();let n;try{n="string"==typeof e?JSON.parse(e):e}catch(t){return void d(`listenCartAjaxRequest:: Not valid response: ${e}`)}void 0!==(null==n?void 0:n.item_count)&&An(n,t)}))),500)};let o=XMLHttpRequest.prototype.open;if(XMLHttpRequest.prototype.open=function(){const[t,e]=arguments;"POST"===t&&["/cart/change.js","/cart/update.js","/cart/add.js"].includes(e)&&this.addEventListener("load",(()=>{n()})),o.apply(this,arguments)},"function"==typeof window.fetch){const t=window.fetch;window.fetch=function(...e){const[o,r]=e,i=t.apply(window,e);return"POST"===(null==r?void 0:r.method)&&["/cart/change.js","/cart/update.js","/cart/add.js"].includes(o.toString())&&i.then((t=>{200===t.status&&n()})),i}}}(t)}function In(t,e){let n=null;for(let o of t.items)if(o.properties=o.properties||{},o.properties[r.OWN_PROP_CART]===e&&!o.properties[r.OWN_PROP_OPTION]){n=o;break}return n}function On(t,e){return t.items.filter((t=>t.properties&&t.properties[r.OWN_PROP_CART]===e&&t.properties[r.OWN_PROP_OPTION]))}function wn(t,e){let n=!0;return null===e&&(d(`validateParent::Not found parent variant; cart_id: ${t}`),n=!1),n}function Cn(t,e,n){let o=!0;if(null!==e&&e.properties&&e.properties[r.OWN_PROP_REQUIRED]){const i=e.properties[r.OWN_PROP_REQUIRED].split(";");for(let e of i){const[i,a]=e.split(",");if(n.filter((e=>e.properties&&e.properties[r.OWN_PROP_OPTION]===i&&e.properties[r.OWN_PROP_CART]===t)).length<parseInt(a)){d(`checkCartItems::Required options validation; cart_id: ${t}; option_id: ${i}`),o=!1;break}}}return o}function Dn(t,e){let n=!0;const o=(t=>{let e={};if(null===t)return e;if(t.properties=t.properties||{},!t.properties[r.OWN_PROP_PRODUCTS])return e;const n=t.properties[r.OWN_PROP_PRODUCTS].split("; ");for(let t of n){const[n,o,r]=t.split(",");e[`${n}_${o}`]=r}return e})(t);if(Object.keys(o).length){let t={};for(let n of e)n.properties=n.properties||{},t[`${n.properties[r.OWN_PROP_OPTION]}_${n.variant_id}`]=n.quantity.toString();for(let e in o)t[e]&&t[e]===o[e]||(n=!1);n||d(`validateChildProducts products not equals; collectedProducts: ${JSON.stringify(o)}; collectedChilds: ${JSON.stringify(t)};`)}return n}function Sn(t,e=!1){const n="mws_apo_zero_pricing_attempt",o=t=>t.items.filter((t=>t.properties&&t.properties[r.OWN_PROP_CART]&&null===t.product_id)).length;let i=localStorage.getItem(n);return i=null===i?"0":i,0===o(t)?(localStorage.removeItem(n),void(parseInt(i)>0&&e&&window.location.reload())):(e&&((t=!1)=>{var e;const n=document.createElement("div");n.setAttribute("class","mw-overlay"),n.setAttribute("id","mws_apo_loader"),n.innerHTML='\n  <svg class="mw-overlay__spinner" height="100" width="100" viewBox="0 0 100 100">\n    <circle class="mw-overlay__spinner-circle mw-overlay__spinner-circle-background" cx="50" cy="50" r="45"></circle>\n    <circle class="mw-overlay__spinner-circle mw-overlay__spinner-circle--animated" cx="50" cy="50" r="45"></circle>\n  </svg>';let o=document.querySelector("#mws_apo_loader");t&&o?o.remove():o||null===(e=document.querySelector("body"))||void 0===e||e.appendChild(n)})(),parseInt(i)>=100?(d("Fixing zero pricing is failed."),localStorage.removeItem(n),void(e&&window.location.reload())):(i=(parseInt(i)+1).toString(),localStorage.setItem(n,i),void(o(t)>0?setTimeout((()=>_n(this,void 0,void 0,(function*(){Sn(yield vn(!1,`?mws_apo_t=${(new Date).getTime().toString()}`),e)}))),400):localStorage.removeItem(n))))}function An(t,e){return _n(this,void 0,void 0,(function*(){Sn(t,"cart"===e.template_name),function(){const t=[...document.querySelectorAll('[href*="/products/mws_apo_"]')];for(let e of t)e.href=e.href.replace("mws_apo_","")}();const n=t.items.filter((t=>t.properties&&t.properties[r.OWN_PROP_CART]));if(!n.length)return void d("checkCartItems::Own items not found in cart.");const o=h(r.CART_TOKEN_COOKIE_NAME);let i=new Set,a={},l=new Set,u=new Set,p=new Set;for(let s of n){s.properties=s.properties||{};for(let t of dn)if(s.properties[t]){l.add(s.variant_id);break}if(l.has(s.variant_id)){if(Object.keys(e.lock_cart_ids).includes(s.properties[r.OWN_PROP_CART]))continue;if(void 0===o||!s.properties[r.OWN_PROP_CART]||!s.properties[r.OWN_PROP_QTY]){i.add(s.key);continue}const n=s.properties[r.OWN_PROP_CART];if(u.has(n))continue;u.add(n);const c=In(t,n),l=On(t,n),d=[wn(n,c),Cn(n,c,l),Dn(c,l)].every((t=>!0===t));if(!d){p.add(n),null!==c&&i.add(c.key);for(let t of l)i.add(t.key)}d&&!s.properties[r.OWN_PROP_OPTION]&&s.properties[r.OWN_PROP_QTY]!==s.quantity.toString()&&(a[n]=s.quantity)}}if(l.size&&bn(t,e),!i.size&&!Object.keys(a).length)return;if(Object.keys(a).length&&o)for(let n in a){const r=c.cartQtyOptionsUri.replace(":shopDomain",e.shop_domain).replace(":cartId",n).replace(":qty",a[n].toString());e.lock_cart_ids[n.toString()]="";const i=(yield Promise.all([yn(parseInt(n),t.items),s().put(r,{},{headers:{"cart-token":o}})]))[1].data;if(i.children){const t=i.children;i.children=[],t.push(Object.assign({},i)),yield En(t)}delete e.lock_cart_ids[n.toString()]}let f=[];if(void 0!==o)for(let t of p){const n=c.cartOptionsUri.replace(":shopDomain",e.shop_domain).replace(":cartId",t);f.push(s().delete(n,{headers:{"cart-token":o}}))}for(let t of i)f.push(s().post("/cart/change.js",{id:t,quantity:0}));yield Promise.all(f).then((()=>{"cart"===e.template_name&&window.location.reload()}))}))}function Rn(t){t=Object.assign({},t);for(let e in t){!["items","item_count"].includes(e)&&delete t[e];for(let e of t.items){for(let t in e)!["properties"].includes(t)&&delete e[t];e.properties=e.properties||{}}}return t}function Ln(t){return t.replace(/(?:\r\n|\r|\n)/g,"").length}function Nn(t,e=[]){e=e.length?[...new Set(e)]:Object.keys(t.options);let n=!0;for(let o of e){const e=t.options[o];e.input_type===Ye.SELECT&&qn(e,t),e.hidden||!e.is_required||kn(e,t)||(n=!1),e.hidden||xn(e,t)||(n=!1),e.hidden||Mn(e,t)||(n=!1),e.hidden||Pn(e,t)||(n=!1)}return n}function Pn(t,n){if(![Ye.CHECKBOX,Ye.MULTIBUTTON,Ye.MULTISELECT,Ye.MULTISWATCH].includes(t.input_type))return!0;if(!(t=t).selection_limit.enabled)return!0;let r=!1;const i=n.html.querySelector(`#${t.id}`),a=null==i?void 0:i.querySelector('[data-helptext-type="selection_limit"]'),s=t.values.filter((t=>n.values[t].enabled&&0===n.values[t].hidden.length));if(0===s.length){const t=i.querySelectorAll(`[${e.H_VALIDATION_DISABLED}]`);for(let n of t)n.removeAttribute("disabled"),n.removeAttribute(e.H_VALIDATION_DISABLED);return null==a||a.classList.add(o.HIDDEN),!0}if((s.length<=t.selection_limit.min||s.length>=t.selection_limit.max)&&(null==a||a.classList.remove(o.HIDDEN)),t.selection_limit.max>0&&s.length>=t.selection_limit.max){const o=((t,e)=>{let n="";for(let o of t)!1===[Ye.MULTISELECT,Ye.SELECT].includes(e.values[o].value.input_type)?n+=` #${o},`:n+=` #select_${e.values[o].option_id} [value="${o}"],`;return n.trim().length>0&&(n=n.substring(1,n.length-1)),n})(t.values.filter((t=>!n.values[t].enabled&&0===n.values[t].hidden.length)),n);if(o.length>0){const t=i.querySelectorAll(o);for(let n of t)n.setAttribute("disabled","disabled"),n.setAttribute(e.H_VALIDATION_DISABLED,"1")}}if(s.length<=t.selection_limit.min&&(s.length<t.selection_limit.max||0===t.selection_limit.max)){const t=i.querySelectorAll(`[${e.H_VALIDATION_DISABLED}]`);for(let n of t)n.removeAttribute("disabled"),n.removeAttribute(e.H_VALIDATION_DISABLED)}return s.length>=t.selection_limit.min&&(s.length<=t.selection_limit.max||0===t.selection_limit.max)&&(r=!0),r}function xn(t,n){if(![Ye.TEXT,Ye.TEXTAREA].includes(t.input_type))return!0;const r=n.values[t.values[0]],i=r.value;if(!i.length_range.enabled)return!0;const a=n.html.querySelector(`#${t.id}`),s=(null==a||a.querySelector(`#${r.value.id}`),null==a?void 0:a.querySelector('[data-helptext-type="length_range"]')),c=null==a?void 0:a.querySelector(`.mw-option__helptext [${e.TEXT_LENGTH}]`),l=i.length_range.max-Ln(r.user_input);if(c&&i.length_range.max>0&&l>=0&&(c.innerHTML=l.toString()),!t.is_required&&""===r.user_input.trim())return null==s||s.classList.add(o.HIDDEN),!0;const d=i.length_range.min||-1,u=i.length_range.max||Number.MAX_SAFE_INTEGER;return Ln(r.user_input)<d||Ln(r.user_input)>u?(null==s||s.classList.remove(o.HIDDEN),!1):Ln(r.user_input)>=d&&Ln(r.user_input)<=u&&(null==s||s.classList.add(o.HIDDEN),!0)}function Mn(t,e){if(![Ye.NUMBER].includes(t.input_type))return!0;const n=e.values[t.values[0]],r=n.value;if(!r.number_range.enabled)return!0;let i=!1;const a=e.html.querySelector(`#${r.id}`),s=e.html.querySelector(`#${t.id} [data-helptext-type="number_range"]`);if(!t.is_required&&""===n.user_input.trim())return null==s||s.classList.add(o.HIDDEN),!0;const c=r.number_range.lowest||0,l=r.number_range.highest||Number.MAX_SAFE_INTEGER,d=parseInt(a.value);return d<c&&(a.value=r.number_range.lowest.toString(),null==s||s.classList.remove(o.HIDDEN)),d>l&&(a.value=r.number_range.highest.toString(),null==s||s.classList.remove(o.HIDDEN)),d>=c&&d<=l&&(null==s||s.classList.add(o.HIDDEN),i=!0),i}function kn(t,e){let n=!0;if(!t.is_required)return n;const r=[Ye.TEXT,Ye.TEXTAREA,Ye.DATE,Ye.NUMBER,Ye.FILE];return cn.includes(t.input_type)&&(n=(t=>{let n=!0;const r=(t=t).values.filter((t=>e.values[t].enabled&&0===e.values[t].hidden.length)),i=e.html.querySelector(`#${t.id} [data-helptext-type="required"]`);return r.length||(null==i||i.classList.remove(o.HIDDEN),n=!1),r.length&&(null==i||i.classList.add(o.HIDDEN)),n})(t)),r.includes(t.input_type)&&(n=((t,n=!1)=>{let r=!0;t=t;const i=e.values[t.values[0]],a=e.values[t.values[0]].value.id;let s=e.html.querySelector(`#${a}`);const c=e.html.querySelector(`#${t.id} [data-helptext-type="required"]`);return""===(n?null==i?void 0:i.user_input.trim():s.value.trim())?(null==c||c.classList.remove(o.HIDDEN),r=!1):null==c||c.classList.add(o.HIDDEN),r})(t,[Ye.FILE].includes(t.input_type))),n}function qn(t,e){var n;const o=e.options[t.id].values.filter((t=>e.values[t].enabled&&!e.values[t].hidden.length)),r=e.html.querySelector(`#select_${t.id}`);null===(n=null==r?void 0:r.querySelector('option[disabled="disabled"]'))||void 0===n||n.removeAttribute("selected"),(0===o.length||o.length>1)&&(r.selectedIndex=0,o.length>1&&o.map((t=>{e.values[t].enabled=!1}))),1===o.length&&(null==r||r.querySelectorAll("option").forEach(((t,e)=>{t.getAttribute("value")===o[0]&&(r.selectedIndex=e)})))}function Fn(t,e,n){for(let o in n)t.values[o]&&(t.values[o].enabled=n[o],Bn(t,e,o),pn(t,[o]))}function jn(t,e,n){const r=t.rules[n].rule,i=(e,n)=>{var o;const r=new Event("change"),i=t.values[e].value.input_type;if([Ye.SELECT,Ye.MULTISELECT].includes(i)){const a=t.html.querySelector(`#select_${t.values[e].option_id}`);if(!a)return;i===Ye.SELECT&&(null===(o=a.querySelector('option[selected="selected"]'))||void 0===o||o.removeAttribute("selected")),n?a.querySelectorAll("option").forEach(((t,n)=>{t.getAttribute("value")===e&&(a.selectedIndex=n)})):a.selectedIndex=0,null==a||a.dispatchEvent(r)}else{const o=t.html.querySelector(`#${e}`);o.checked=n,o.dispatchEvent(r)}},a=(e,n,o)=>{if(null===n)return;const r=t.attributes[o],i=t.rules[e].enabled;if(n.mode===$e.INCREASE&&(i&&!1===r.add_rules.includes(e)&&r.add_rules.push(e),i||(r.add_rules=r.add_rules.filter((t=>t!==e)))),n.mode===$e.DECREASE&&(i&&!1===r.add_rules.includes(e)&&r.add_rules.push(e),i||(r.add_rules=r.add_rules.filter((t=>t!==e)))),n.mode===$e.SET&&(i&&!1===r.override_rules.includes(e)&&r.override_rules.push(e),i||(r.override_rules=r.override_rules.filter((t=>t!==e)),r.override_rules.length||(r.override=null)),r.override_rules.sort(((e,n)=>t.rules[e].priority-t.rules[n].priority)),r.override_rules.length)){const e=r.override_rules[r.override_rules.length-1];r.override=t.rules[e].rule[o].value}},s=(n,r,a)=>{let s=r.values,c={};s.length||(s=t.options[r.option_id].values);for(let e of s)t.values[e].option_id===r.option_id&&(a&&!1===t.values[e].hidden.includes(n)&&(0===t.values[e].hidden.length&&(t.values[e].before_hide=t.values[e].enabled),t.values[e].hidden.push(n),t.values[e].enabled=!1),a||(t.values[e].hidden=t.values[e].hidden.filter((t=>t!==n)),0===t.values[e].hidden.length&&(t.values[e].enabled=t.values[e].before_hide)),c[e]=t.values[e].enabled,t.values[e].before_hide&&0===t.values[e].hidden.length&&i(e,!a));const l=t.options[r.option_id].values.filter((e=>t.values[e].hidden.length));t.options[r.option_id].hidden=l.length===t.options[r.option_id].values.length,((e,n,r)=>{var i,a;const s=t.html.querySelector(`#${e}`);if(null===s)return void d(`Not found option container: ${e}`);const c=t.options[e],l=n.length?n:c.values;if(r&&c.hidden&&(s.classList.add(o.HIDDEN),c.input_type===Ye.FILE)){const t=s.querySelector(`.${o.OPTION_CONTAINER} .${o.OPTION_VALUE_BLOCK} .filepond--root`);t&&Ke.find(t).setOptions({disabled:!0})}if(!r&&!c.hidden&&(s.classList.remove(o.HIDDEN),c.input_type===Ye.FILE)){const t=s.querySelector(`.${o.OPTION_CONTAINER} .${o.OPTION_VALUE_BLOCK} .filepond--root`);t&&Ke.find(t).setOptions({disabled:!1})}const u=cn.includes(c.input_type);for(let e of l){const n=u?s.querySelector(`[value="${e}"]`):s.querySelector(`#${e}`);r&&t.values[e].hidden.length&&(null==n||n.setAttribute("disabled","disabled"),[Ye.SELECT,Ye.MULTISELECT].includes(c.input_type)?(null==n||n.classList.add(o.HIDDEN),null==n||n.setAttribute("hidden","hidden")):null===(i=null==n?void 0:n.closest(`.${o.OPTION_VALUE_BLOCK}`))||void 0===i||i.classList.add(o.HIDDEN)),r||0!==t.values[e].hidden.length||(null==n||n.removeAttribute("disabled"),[Ye.SELECT,Ye.MULTISELECT].includes(c.input_type)?(null==n||n.classList.remove(o.HIDDEN),null==n||n.removeAttribute("hidden")):null===(a=null==n?void 0:n.closest(`.${o.OPTION_VALUE_BLOCK}`))||void 0===a||a.classList.remove(o.HIDDEN))}})(r.option_id,r.values,a),Fn(t,e,c)};for(let o of r.hide_actions)s(n,o,t.rules[n].enabled),e.push(o.option_id);for(let o of r.show_actions)s(n,o,!t.rules[n].enabled),e.push(o.option_id);a(n,r.price,"price"),a(n,r.compare_at_price,"compare_at_price")}function Bn(t,e,n){const o=(e,n)=>e.operator===Xe.EQ?sn.includes(n)?e.values.some((e=>t.values[e].enabled)):e.values.every((e=>t.values[e].enabled)):e.operator===Xe.NEQ?e.values.every((e=>!t.values[e].enabled)):(d(`triggerRules::checkRuleCondition bad rule condition operator: ${e.operator}`),!1);t.runtime_rules||(t.runtime_rules=new Set);for(let r of t.values[n].rules){let i=t.rules[r].rule,a=t.options[t.values[n].option_id],s=i.condition_type===We.ANY?i.conditions.some((t=>o(t,a.input_type))):i.conditions.every((t=>o(t,a.input_type)));!s||t.rules[i.id].enabled&&t.runtime_rules.has(r)||(!t.runtime_rules.has(r)&&t.runtime_rules.add(r),t.rules[i.id].enabled=!0,jn(t,e,i.id)),s||!t.rules[i.id].enabled&&t.runtime_rules.has(r)||(!t.runtime_rules.has(r)&&t.runtime_rules.add(r),t.rules[i.id].enabled=!1,jn(t,e,i.id))}}function Gn(t,e){const n=t.replace(/(?:\r\n|\r|\n)/g,"<br />").trim(),o=/^<img/g.test(e);return`\n    <div class="mw-tooltip">\n      ${e?`<div class="mw-tooltip__media mw-tooltip__media--${o?"image":"color"}">\n    ${e}\n  </div>`:""}\n      ${n?`<div class="mw-tooltip__content">\n      ${n}\n    </div>`:""}\n    </div>`}var Un=function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function a(t){try{c(o.next(t))}catch(t){i(t)}}function s(t){try{c(o.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((o=o.apply(t,e||[])).next())}))};Ke.registerPlugin(Je()),Ke.registerPlugin(en());class Yn{constructor(t,e,n){this.inProgress=!1,this.appState={replacedImage:{}},this.commonData=t,this.onCallback=e,this.onEvent=n,function(t){const e=t.loadedState.options,n=t.loadedState.values;for(let t of Object.keys(e))e[t].hidden=e[t].values.filter((t=>n[t].hidden.length)).length===e[t].values.length}(this.commonData),this.init()}init(){this.commonData.type===t.INLINE&&(()=>{const t=(e=0)=>{var n;e>=10?d("Terminated due to iteration count limit exceeded"):null===(null===(n=this.commonData.htmlElements.options)||void 0===n?void 0:n.offsetParent)&&(this.commonData.htmlElements.options=this.commonData.htmlElements.options.parentElement,t(e+1))};if(!this.commonData.htmlElements.options)return;const e=(new Date).getTime().toString(),n=this.commonData.htmlElements.options.getAttribute("id")||`mw_apo_${e}`,o=document.querySelector(`#${n}`);o&&(this.commonData.htmlElements.options=o),t(),this.commonData.loadedState.html=this.commonData.loadedState.html.firstChild,this.commonData.loadedState.html.setAttribute("id",n),this.commonData.htmlElements.options.replaceWith(this.commonData.loadedState.html),this.onEvent("init::insertIntoInline::afterHtmlInserted",this.commonData)})(),this.commonData.type===t.MODAL&&(()=>{const t=new(T().modal)({footer:!0,stickyFooter:!0,closeMethods:["overlay","button","escape"],closeLabel:"",onClose:()=>{},beforeClose:()=>!0}),e=document.createElement("div");e.classList.add("mw-tingle"),nn(e,t.modal),t.addFooterBtn(this.commonData.initConfig.settings.translations.i18n_modal_cancel_btn,"btn button btn--secondary secondary btn--secondary-accent",(()=>{t.destroy()})),t.addFooterBtn(this.commonData.initConfig.settings.translations.i18n_modal_submit_btn,"btn button btn--primary primary btn--primary-accent",(e=>{const n=e.currentTarget;this.inProgress||(this.inProgress=!0,this.onEvent("init::insertIntoModal::submitStart",this.commonData),n.classList.add(o.IN_PROGRESS),this.onClickAddToCart().then((e=>{n.classList.remove(o.IN_PROGRESS),200===(null==e?void 0:e.status)?(t.destroy(),this.onEvent("init::insertIntoModal::clickEnd",this.commonData),"cart"===this.commonData.initConfig.template_name&&window.location.reload()):d(null==e?void 0:e.message)})).catch((t=>{d("init::insertIntoModal::clickError",t)})).finally((()=>{n.classList.remove(o.IN_PROGRESS),this.inProgress=!1})))}));const n=`mw_apo_${(new Date).getTime().toString()}`;this.commonData.loadedState.html.setAttribute("id",n),t.setContent(this.commonData.loadedState.html),t.open()})(),this.attachEvents(),un(this.commonData,this.onCallback),function(t,e){const n=Object.values(t.loadedState.values).filter((e=>e.enabled&&cn.includes(t.loadedState.options[e.option_id].input_type)));if(n.length){let o={};for(let t of n)o[t.value.id]=!0;fn(t,e,o,!0)}}(this.commonData,this.appState),this.onEvent("init::finish",this.commonData)}onClickAddToCart(){return Un(this,void 0,void 0,(function*(){const t=()=>Un(this,void 0,void 0,(function*(){this.commonData.initConfig.cart=yield vn()}));if(!Nn(this.commonData.loadedState))return this.onEvent("onClick::validate-failed"),u(0),{status:400,message:"onClickAddToCart: Validate is failed"};let n=yield(()=>Un(this,void 0,void 0,(function*(){yield t();let e=`${c.apiUrl}/product/${this.commonData.initConfig.shop_domain}/cart`;this.commonData.cartId&&(e=`${e}/${this.commonData.cartId}`);let n={};const o=h(r.CART_TOKEN_COOKIE_NAME);return void 0!==o&&(n["cart-token"]=o),s()({method:this.commonData.cartId?"put":"post",url:e,data:{state:Object.assign(Object.assign({},this.commonData.loadedState),{html:""}),shop_cart:Rn(this.commonData.initConfig.cart)},headers:n}).then((t=>(o!==t.data.token&&((t,e,n)=>{const o=new Date;o.setTime(o.getTime()+12096e5),m(t,e,{expires:o.toUTCString()})})(r.CART_TOKEN_COOKIE_NAME,t.data.token),Object.assign(Object.assign({},t.data),{status:t.status})))).catch((t=>(d("onClick::getMwVariant",t),Object.assign(Object.assign({},t.response.data),{status:t.response.status}))))})))();return 200!==n.status?{status:400,message:"onClickAddToCart: ownCart is broken"}:void 0===h(r.CART_TOKEN_COOKIE_NAME)?{status:400,message:"onClickAddToCart: Cart token is not valid."}:(n=n,this.commonData.initConfig.lock_cart_ids[n.id.toString()]="",yield(n=>Un(this,void 0,void 0,(function*(){if(!this.commonData.htmlElements.form)return;const o=this.commonData.htmlElements.form.querySelectorAll(`[${e.PROP_HIDDEN}]`);for(let t of o)t.remove();for(let t in n.properties){if(dn.includes(t)&&"string"==typeof n.properties[t]){const e=f(`properties[${t}]`,n.properties[t].toString());this.commonData.htmlElements.form.insertBefore(e,this.commonData.htmlElements.form.firstChild)}if(Array.isArray(n.properties[t])){const e=f(`properties[${t}]`,n.properties[t].join(", "));this.commonData.htmlElements.form.appendChild(e)}}if(this.commonData.htmlElements.variants&&this.commonData.htmlElements.variants.length)for(let t of this.commonData.htmlElements.variants)hn(t,n.variant_id.toString());else{const t=f("id",n.variant_id.toString());this.commonData.htmlElements.form.appendChild(t)}const r=this.commonData.htmlElements.form.querySelector('[name="quantity"]');if(r)r.setAttribute("value",n.qty.toString());else{const t=f("quantity",n.qty.toString());this.commonData.htmlElements.form.appendChild(t)}return yield t(),yield yn(n.id,this.commonData.initConfig.cart.items),200!==(yield En(n.children)).status?{status:400,message:"onClickAddToCart: updateCartInForm addOwnCart not 200 response"}:void 0})))(n),yield(e=>Un(this,void 0,void 0,(function*(){if(this.commonData.htmlElements.form)return;yield t(),yield yn(e.id,this.commonData.initConfig.cart.items);const n=e.children;return e.children=[],n.push(Object.assign({},e)),200!==(yield En(n)).status?{status:400,message:"updateCartNoForm addOwnCart not 200 response"}:void 0})))(n),delete this.commonData.initConfig.lock_cart_ids[n.id.toString()],this.onEvent("onClickFinish",n),{status:200,message:""})}))}onClickBuyItNow(){return Un(this,void 0,void 0,(function*(){if(!Nn(this.commonData.loadedState))return this.onEvent("onClickBuyItNow::validate-failed"),u(0),{status:400,message:"onClickBuyItNow: Validate is failed"};let t=yield(()=>Un(this,void 0,void 0,(function*(){let t=`${c.apiUrl}/product/${this.commonData.initConfig.shop_domain}/cart`;return this.commonData.cartId&&(t=`${t}/${this.commonData.cartId}`),s()({method:"post",url:t,data:Object.assign(Object.assign({},this.commonData.loadedState),{html:""})}).then((t=>Object.assign(Object.assign({},t.data),{status:t.status}))).catch((t=>(d("onClickBuyItNow::getOwnCart",t),Object.assign(Object.assign({},t.response.data),{status:t.response.status}))))})))();if(200!==t.status)return{status:400,message:"onClickBuyItNow: ownCart is broken"};this.onEvent("onClickBuyItNow::finish",t)}))}onChange(t){var n,r,i;if(this.inProgress)return;let a=[];const s=t.closest("[data-option-id]"),c=(null==s?void 0:s.getAttribute("data-option-id"))||"";let l=this.commonData.loadedState.options[c];if(""===c||!this.commonData.loadedState.options[c])return void d(`Parent attribute "data-option-id" not found or ID not present in loaded state. ID: ${c}`);if(t.hasAttribute(e.QTY_VALUE_ID)&&ln.includes(l.input_type)&&l.qty_input){const n=t.getAttribute(e.QTY_VALUE_ID);if(n&&this.commonData.loadedState.values[n]){let e=parseInt(t.value)||1;e=e<=0?1:e,t.value=e.toString(),this.commonData.loadedState.values[n].qty_input=t.value,un(this.commonData,this.onCallback)}return}const u=cn.includes(l.input_type),p=u?t.value:t.id;let f={};if(u){switch(l.input_type){case Ye.MULTISWATCH:case Ye.CHECKBOX:case Ye.MULTIBUTTON:null===(n=t.closest(`.${o.OPTION_VALUE_BLOCK}`))||void 0===n||n.classList.toggle(o.OPTION_VALUE_SELECTED),f[p]=t.checked;break;case Ye.MULTISELECT:for(let e of t.options)f[e.value]=e.selected;break;case Ye.SWATCH:case Ye.BUTTON:case Ye.RADIO:s&&[...s.querySelectorAll(`.${o.OPTION_CONTAINER} > .${o.OPTION_VALUE_SELECTED}`)].map((t=>t.classList.remove(o.OPTION_VALUE_SELECTED))),null===(r=t.closest(`.${o.OPTION_VALUE_BLOCK}`))||void 0===r||r.classList.add(o.OPTION_VALUE_SELECTED);case Ye.SELECT:l=l;const e=l.values.filter((t=>this.commonData.loadedState.values[t].enabled));for(let t of e)t!==p&&(f[t]=!1);""!==p&&(f[p]=!0)}if(l.qty_input){const n=null===(i=t.closest(`.${o.OPTION_VALUE_BLOCK}`))||void 0===i?void 0:i.querySelector(`input[${e.QTY_VALUE_ID}]`);null==n||n.setAttribute(e.QTY_VALUE_ID,p),null==n||n.setAttribute("value","1")}Object.keys(f).length>0&&(Fn(this.commonData.loadedState,a,f),function(t,n){var r,i,a,s;for(let c in n){if(!t.values[c])continue;const n=t.values[c],l=t.options[n.option_id];if(ln.includes(l.input_type)&&l.qty_input){let t=`#${n.option_id} .${o.OPTION_VALUE_BLOCK}[${e.VALUE_ID}__REPLACE_ID__]`;t=l.input_type===Ye.SELECT?t.replace("__REPLACE_ID__",""):t.replace("__REPLACE_ID__",`="${n.value.id}"`);const c=document.querySelector(t);n.enabled?(null===(r=null==c?void 0:c.querySelector(`.${o.VALUE_QTY_BLOCK}`))||void 0===r||r.classList.remove(o.VALUE_QTY_BLOCK_DISABLED),null===(i=null==c?void 0:c.querySelector(`.${o.VALUE_QTY_BLOCK} input[${e.QTY_VALUE_ID}]`))||void 0===i||i.removeAttribute("disabled")):(null===(a=null==c?void 0:c.querySelector(`.${o.VALUE_QTY_BLOCK}`))||void 0===a||a.classList.add(o.VALUE_QTY_BLOCK_DISABLED),null===(s=null==c?void 0:c.querySelector(`.${o.VALUE_QTY_BLOCK} input[${e.QTY_VALUE_ID}]`))||void 0===s||s.setAttribute("disabled","disabled"))}}}(this.commonData.loadedState,f))}else f[p]=!0,this.commonData.loadedState.values[p].user_input=t.value.trim(),this.commonData.loadedState.values[p].enabled=t.value.trim().length>0,pn(this.commonData.loadedState,Object.keys(f));a.push(l.id),fn(this.commonData,this.appState,f,u),function(t,e){var n;const r=(e=[...new Set(e)]).filter((e=>{const n=t.options[e];return n.input_type===Ye.SELECT&&n.values.some((e=>t.values[e].value.images.length>0))}));if(r.length)for(let e of r){const r=t.options[e],i=t.html.querySelector(`#select_${r.id}`).value,a=r.values.map((e=>({[e]:t.html.querySelector(`.${o.OPTION_MEDIA}[data-value-id=${e}]`)}))).reduce(((t,e)=>{var n;const r=Object.keys(e)[0];return e[r]?(null===(n=e[r].parentElement)||void 0===n||n.classList.add(o.HIDDEN),t[r]=e[r],t):t}),{});a[i]&&(null===(n=a[i].parentElement)||void 0===n||n.classList.remove(o.HIDDEN))}}(this.commonData.loadedState,a),function(t,n){var r,i;const a=(n=[...new Set(n)]).filter((e=>[Ye.SELECT].includes(t.options[e].input_type)));if(a.length)for(let n of a){const a=t.options[n].values.find((e=>t.values[e].enabled)),s=t.html.querySelector(`#${n}`);s&&([...s.querySelectorAll(`[${e.DESCRIPTION_TOOLTIP}]`)].map((t=>{var e;return null===(e=t.parentElement)||void 0===e?void 0:e.classList.add(o.HIDDEN)})),a&&(null===(i=null===(r=s.querySelector(`[${e.TOOLTIP}="${a}"]`))||void 0===r?void 0:r.parentElement)||void 0===i||i.classList.remove(o.HIDDEN)))}}(this.commonData.loadedState,a),function(t,n){const r=(n=[...new Set(n)]).filter((e=>[Ye.BUTTON,Ye.MULTIBUTTON,Ye.SWATCH,Ye.MULTISWATCH,Ye.SELECT].includes(t.options[e].input_type)));if(r.length)for(let n of r){const r=t.html.querySelector(`#${n} [${e.DESCRIPTION_TEXT}]`);if(!r)continue;const i=r.parentElement,a=t.options[n].values.filter((e=>t.values[e].enabled));if(!a){null==i||i.classList.add(o.HIDDEN);continue}const s=a.map((e=>t.values[e].value.description));r.innerHTML=s.join("<br />"),null==i||i.classList.remove(o.HIDDEN)}}(this.commonData.loadedState,a),function(t,n){const o=(n=[...new Set(n)]).filter((e=>[Ye.SWATCH,Ye.MULTISWATCH].includes(t.options[e].input_type)&&!t.options[e].show_titles||[Ye.MULTIBUTTON,Ye.BUTTON].includes(t.options[e].input_type)));if(o.length)for(let n of o){let o=t.html.querySelector(`#${n} [${e.ACCUMULATED_TITLE}]`);if(!o)continue;const r=t.options[n].values.filter((e=>t.values[e].enabled));o.innerHTML=r.reduce(((e,n)=>(e&&(e+=", "),e+t.values[n].value.title)),"")}}(this.commonData.loadedState,a),Nn(this.commonData.loadedState,a),un(this.commonData,this.onCallback)}attachEvents(){const t=this.commonData.loadedState.html;(()=>{if(!this.commonData.htmlElements.add_to_cart)return;const t=this.commonData.htmlElements.add_to_cart;if(t.parentElement&&[...t.parentElement.querySelectorAll(`.${o.CLONED_ADD_TO_CART}`)].map((t=>t.remove())),t.hasAttribute("aria-disabled"))return void t.classList.remove(o.ORIGIN_ADD_TO_CART);t.classList.remove("btn-cart"),t.classList.add(o.ORIGIN_ADD_TO_CART);const e=t.cloneNode(!0);e.removeAttribute("id"),e.setAttribute("type","button"),e.classList.add(o.CLONED_ADD_TO_CART),e.classList.remove(o.ORIGIN_ADD_TO_CART),t.insertAdjacentElement("beforebegin",e);const n=()=>{setTimeout((()=>{this.inProgress=!1,e.classList.remove(o.IN_PROGRESS)}),100)};e.addEventListener("click",(r=>{r.stopPropagation(),this.inProgress||(this.inProgress=!0,e.classList.add(o.IN_PROGRESS),e.setAttribute("disabled","disabled"),this.onEvent("attachEvents::initAddToCart::clickStart",this.commonData),this.onClickAddToCart().then((e=>{200===(null==e?void 0:e.status)&&t.click(),n(),200!==(null==e?void 0:e.status)&&d(e),this.onEvent("attachEvents::initAddToCart::clickEnd")})).catch((t=>{n(),this.onEvent("attachEvents::initAddToCart::clickError",t),d("attachEvents::initAddToCart::clickError",t)})).finally((()=>{n(),e.removeAttribute("disabled"),this.onEvent("attachEvents::initAddToCart::clickFinally")})))}),!0)})(),(()=>{if(!this.commonData.htmlElements.buy_it_now)return;const t=this.commonData.htmlElements.buy_it_now,e=t.cloneNode(!0);e.removeAttribute("id"),e.setAttribute("type","button"),e.classList.add(o.CLONED_BUY_IT_NOW),t.classList.remove("btn-cart"),t.classList.add(o.ORIGIN_BUY_IT_NOW),t.insertAdjacentElement("beforebegin",t),t.addEventListener("click",(t=>{d("OnClick buyItNow")}),!0)})(),(()=>{const n=t=>{const e=t.target||t.srcElement;"number"!==e.type||e.validity.valid||""!==e.value?this.onChange(e):e.value=e.value.replace(/[^0-9.]/g,"")},o=t.querySelectorAll("input, textarea, select");for(let t of o){if(t.hasAttribute(e.EVENT_SKIP)||"file"===t.type)continue;let o=["change"];["text","textarea","number"].includes(t.type)&&o.push("input");for(let e of o)t.addEventListener(e,n)}})(),(()=>{var t,e;null===(t=this.commonData.htmlElements.quantity)||void 0===t||t.addEventListener("change",(t=>{const e=parseInt((t.target||t.srcElement).value);this.commonData.loadedState.qty=e>0?e:1,un(this.commonData,this.onCallback)})),null===(e=this.commonData.htmlElements.quantity)||void 0===e||e.dispatchEvent(new Event("change"))})(),(()=>{const e={cal_date_format:this.commonData.initConfig.settings.calendar_format||"m/d/Y",cal_disable_mobile:"yes"===this.commonData.initConfig.settings.calendar_disable_mobile};let n={dateFormat:e.cal_date_format,disableMobile:e.cal_disable_mobile,onReady:function(t,e,n){if(!n.calendarContainer)return;const o=document.createElement("div"),r=n.calendarContainer;o.classList.add("mw-flatpickr"),nn(o,r)}};const o=function(t){const e=new Date;return new Date(e.getFullYear(),e.getMonth(),e.getDate()+t,0,0,0,0)};n=this.onCallback("attachEvents::initCalendar::flatpickrConfigBase",n);for(let e in this.commonData.loadedState.options){const r=this.commonData.loadedState.options[e];if(r.input_type!==Ye.DATE)continue;const i=t.querySelector(`#${r.id} .mw-option__value input.mw-option__control`);if(!i){d(`Not found date input for option id: ${r.id}`);continue}const a=this.commonData.loadedState.values[r.values[0]],s=a.value;let c=Object.assign({},n);a.user_input.trim()&&(c.defaultDate=a.user_input),s.date_range.enabled&&s.date_range.type===Ue.ABSOLUTE&&(s.date_range.start&&s.date_range.start.trim()&&(c.minDate=new Date(Date.parse(s.date_range.start))),s.date_range.end&&s.date_range.end.trim()&&(c.maxDate=new Date(Date.parse(s.date_range.end)))),s.date_range.enabled&&s.date_range.type===Ue.RELATIVE&&(void 0===s.date_range.min||Number.isNaN(parseInt(s.date_range.min.toString()))||(c.minDate=o(-s.date_range.min)),void 0===s.date_range.max||Number.isNaN(parseInt(s.date_range.max.toString()))||(c.maxDate=o(s.date_range.max))),c=this.onCallback(`attachEvents::initCalendar::flatpickrConfig::${this.commonData.loadedState.variant_id}`,c);const l=Z(i,c);this.onEvent("attachEvents::initCalendar::flatpickrInstance",l)}})(),(()=>{Un(this,void 0,void 0,(function*(){const e=`${c.apiUrl}/files/${this.commonData.initConfig.shop_domain}`,n={server:{url:`${e}/upload`,revert:(t,e)=>{e()},remove:(t,e)=>{e()}},allowRevert:!0,allowRemove:!0,allowMultiple:!1,allowPaste:!1,allowProcess:!1,labelFileProcessing:"",credits:""};Ke.setOptions(n),(t=>Un(this,void 0,void 0,(function*(){let e={};for(let n in this.commonData.loadedState.options){const o=this.commonData.loadedState.options[n];if(o.input_type!==Ye.FILE)continue;e[o.id]=[];const r=this.commonData.loadedState.values[o.values[0]];if(!r.user_input.trim())continue;let i;try{i=yield s().get(`${t}/${r.user_input.replace(/.*\//,"")}`)}catch(t){continue}Object.keys(i.data).every((t=>["content-disposition","content-length","content-type"].includes(t)))&&e[o.id].push({source:r.user_input,options:{type:"local",file:{name:i.data["content-disposition"].replace(/.+filename="(.+)"/,"$1"),size:i.data["content-length"],type:i.data["content-type"]}}})}return e})))(`${e}/head`).then((e=>{for(let o in this.commonData.loadedState.options){const r=this.commonData.loadedState.options[o];if(r.input_type!==Ye.FILE)continue;const i=t.querySelector(`#${r.id} input[type="file"]:first-child`);if(!i){d(`Not found file input for option id: ${r.id}`);continue}const a=this.commonData.loadedState.values[r.values[0]],s=a.value,c={allowFileSizeValidation:!0,maxFileSize:"20MB",maxTotalFileSize:"20MB"};let l={};if(s.file_ext.enabled){let t=[];for(let e of s.file_ext.mime_type)e!==Ge.OTHER&&(t=[...t,...(n=e,{text:["text/*","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.template.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12","application/vnd.ms-access","application/vnd.apple.pages","application/vnd.apple.numbers","application/xml","application/zip"],audio:["audio/*","video/*"],image:["image/*"]}[n])]);l={allowFileTypeValidation:!0,fileValidateTypeLabelExpectedTypes:""},l=s.file_ext.mime_type.includes(Ge.OTHER)?Object.assign({acceptedFileTypes:["custom"],fileValidateTypeDetectType:(e,n)=>new Promise(((o,r)=>{const i=e.name.replace(/.*\.(.+)$/,"$1");(s.file_ext.allowed_ext.includes(i)||n.trim()&&t.includes(n.replace(/\/.*/,"/*")))&&(n="custom"),o(n)}))},l):Object.assign({acceptedFileTypes:t},l)}Ke.create(i,Object.assign(Object.assign(Object.assign({},c),l),{name:"file",stylePanelLayout:"compact",onactivatefile:()=>{a.user_input.trim()&&window.open(a.user_input,"_blank")},onprocessfile:(t,e)=>{try{a.user_input=JSON.parse(e.serverId).file,a.enabled=!!a.user_input.trim(),pn(this.commonData.loadedState,[a.value.id]),un(this.commonData,this.onCallback)}catch(t){d("FilePond::onprocessfile::catch",t)}this.onEvent("FilePond::onprocessfile",[t,e])},onremovefile:(t,e)=>{a.user_input="",a.enabled=!1,pn(this.commonData.loadedState,[a.value.id]),un(this.commonData,this.onCallback),this.onEvent("FilePond::onremovefile",[t,e])},files:e.hasOwnProperty(r.id)?e[r.id]:[]}))}var n}))}))})(),(()=>{const n={theme:"light-border",interactive:!0,appendTo:document.body,allowHTML:!0};Qe.setDefaultProps(n);const o=["auto","auto-start","auto-end","top","bottom","right","left","top-start","top-end","bottom-start","bottom-end","right-start","right-end","left-start","left-end"],r=t.querySelectorAll(`[${e.TOOLTIP}]`);if(r.length){const t=this.commonData,n=Qe(r,{onCreate(t){t.popper.classList.add("mw-tippy")},onShow(n){let r=n.reference.getAttribute(e.TOOLTIP_PLACEMENT);null!==r&&o.includes(r)||(r="top"),n.setProps({placement:r});const i=n.reference.getAttribute(e.TOOLTIP);if(0===i.indexOf("v_")){let e=t.loadedState.values[i].value,o="",r="";if(cn.includes(e.input_type)&&(e=e,e.description.trim()&&(o=e.description.trim()),[Ye.SWATCH,Ye.MULTISWATCH].includes(e.input_type)&&e.images.length>0)){const t=e.images.filter((t=>t.hover)).reverse()[0];r=t&&t.url?`<img src="${t.url}?width=400&height=400" alt="${t.alt}" title="${t.title}" />`:r,r=t&&t.color?`<div style="background-color: ${t.color};"></div>`:r}return(""!==o||""!==r)&&void n.setContent(Gn(o,r))}if(0===i.indexOf("media_")){const o=parseInt(i.replace("media_","")),r=n.reference.getAttribute(e.VALUE_ID);if(!r||!t.loadedState.values[r])return;let a=t.loadedState.values[r].value,s="";if(cn.includes(a.input_type)&&(a=a,a.images[o]&&a.images[o].hover)){const t=a.images[o];s=t&&t.url?`<img src="${t.url}?width=400&height=400" alt="${t.alt}" title="${t.title}" />`:s,s=t&&t.color?`<div style="background-color: ${t.color};"></div>`:s}return""!==s&&void n.setContent(Gn("",s))}if(0===i.indexOf("o_")){const e=t.loadedState.options[i];return!!e.description.trim()&&void n.setContent(Gn(e.description,""))}0===i.indexOf("v_")&&0===i.indexOf("o_")&&0===i.indexOf("media_")||n.setContent(Gn(i,""))}});this.onEvent("attachEvents::initTooltip",n)}})(),(()=>{for(let n of t.querySelectorAll(`[${e.LIGHTBOX}]`))n.addEventListener("click",(t=>{new O(t.target||t.srcElement,{sourceAttr:e.LIGHTBOX,nav:!1}).open()}))})(),[...t.querySelectorAll("input, select")].map((t=>g(t)))}}let Hn=(t,e)=>{},Vn=(t,e)=>e;const Wn=(n,o)=>{var i,a;if(!n.add_to_cart||!n.options)return void d("initInline is failed. add_to_cart, options elements is required.");if(null===n.options.getAttribute(e.INIT))return void d(`initInline is failed. ${e.INIT} attribute is missing or incorrect.`,n.options);const l=(e,r)=>{const i=c.variantOptionsUri.replace(":shopDomain",o.shop_domain).replace(":cacheHash",o.cache_hash.toString()).replace(":productId",e).replace(":variantId",r);s().get(i).then((t=>{if(204!==t.status&&t.data.html)return t.data.html=p(t.data.html),t.data})).then((r=>{(null==r?void 0:r.options)&&Object.keys(r.options).length?(new Yn({htmlElements:n,initConfig:o,loadedState:r,type:t.INLINE},Vn,Hn),o.response=o.response?o.response:{},o.response[r.variant_id]=_("html",r)):d(`No options for the product ${e}.`)}))},u=n.options.getAttribute(e.INIT),f=n.options.getAttribute(e.VARIANT_ID)||"0";if(u){if(l(u,f),"product"===o.template_name&&u===o.product.id.toString()&&(n.variants&&null!==(null===(i=n.variants[0])||void 0===i?void 0:i.offsetParent)||n.visible_variants)){let t=[];n.variants&&null!==(null===(a=n.variants[0])||void 0===a?void 0:a.offsetParent)&&(t=[n.variants[0]]),!t.length&&n.visible_variants&&(t=n.visible_variants);const e=t=>{if("select-one"!==t.type)return;let e=t.value;if(n.variants&&(null===e||Number.isNaN(parseInt(e)))&&(e=n.variants[0].value),null===e||Number.isNaN(parseInt(e)))d(`New variant ID is bad: ${e}`);else{if(o.product.variants&&o.product.variants.length>1){const t=o.product.variants.filter((t=>t.id.toString()===e)),n=o.product.variants.filter((t=>t.title.toString()===e));let i=null;if(t.length&&(i=t[0]),null===i&&n.length&&(i=n[0]),i&&(e=i.id.toString(),i.title.indexOf(r.OWN_VARIANT_TITLE)>-1)){const t=`${window.location.protocol}//${window.location.host}/products/${o.product.handle}`;return void(window.location.href=t)}}l(u,e)}};if(!t)return;for(let n of t)null==n||n.addEventListener("change",(t=>{setTimeout((()=>{e(t.target||t.srcElement)}),0)}),!1)}}else d(`Missing productId in attribute: ${e.INIT}`)},Xn=(n,o)=>{const i=n.getAttribute(e.CONFIGURE_LINK),a=n.getAttribute(e.VARIANT_ID)||"0",u=n.getAttribute(e.CART_ID)||"";i?((n,i,a)=>{var u,f,m,g;u=void 0,f=void 0,g=function*(){a.length&&!Number.isInteger(parseInt(a))&&(a="");const u=(a.length?c.cartOptionsUri:c.variantOptionsUri).replace(":shopDomain",o.shop_domain).replace(":cacheHash",o.cache_hash.toString()).replace(":productId",n).replace(":variantId",i).replace(":cartId",a),f=h(r.CART_TOKEN_COOKIE_NAME);let m={};void 0!==f&&(m["cart-token"]=f),s().get(u,{headers:m}).then((t=>{if(204===t.status||!t.data.html)return{};if(t.data.product_title){const n=((t,n,o,i,a)=>{const s=!!n;return`\n  <div class="mw-product-info">\n    <div class="mw-grid">\n      ${s?`<div class="mw-grid__item--4">\n    <div class="mw-product-info__image">\n      <img src="${function(t,e){if(null===e)return t;if("master"===e)return l(t);const n=t.match(/\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?$/i);if(n){const o=t.split(n[0]),r=n[0];return l(`${o[0]}_${e}${r}`)}return null}(n,"400x400")}" alt="${t}" />\n    </div>\n  </div>`:""}\n      <div class="mw-grid__item${s?"--8":""}">\n        <div class="mw-stack mw-stack--vertical">\n          <div class="mw-stack__item">\n            <h2 class="mw-product-info__title">${t}</h2>\n          </div>\n          <div class="mw-stack__item">\n            <h3 class="mw-product-info__price">\n              <span>${o}</span>\n              ${i&&Number(i)>Number(o)?`&nbsp;<s class="mw-product-info__compare-price"><small>${i}</small></s>`:""}\n            </h3>\n          </div>\n          <div class="mw-stack__item">\n            ${r.PRODUCT_META_PLACEHOLDER}\n          </div>\n          <div class="mw-stack__item">\n            <div class="mw-product-info__quantity">\n              <div class="mw-stack mw-stack--alignment-center">\n                <div class="mw-stack__item">\n                  Qty:\n                </div>\n                <div class="mw-stack__item">\n                  <input ${e.EVENT_SKIP}="" type="number" value="${a}" min="1" pattern="[0-9]*" />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>`})(t.data.product_title,t.data.product_img,t.data.attributes.price.base.toString(),t.data.attributes.compare_at_price.base.toString(),t.data.qty);t.data.html=n.replace(r.PRODUCT_META_PLACEHOLDER,t.data.html)}return t.data.html=p(t.data.html),t.data})).then((e=>{if(!(null==e?void 0:e.options)||!Object.keys(e.options).length)return void d(`No options for the productId ${n}; variantId: ${i}; cartId: ${a};`);o.response=o.response?o.response:{},o.response[e.variant_id]=_("html",e);const r={};if(e.html.querySelector(".mw-product-info")){let t=e.html.querySelector(".mw-product-info__quantity input");t&&(r.quantity=t),t=e.html.querySelector(".mw-product-info__price span"),e.attributes.price.base.toString()&&t&&(r.price=[t]),t=e.html.querySelector(".mw-product-info__compare-price"),e.attributes.compare_at_price.base.toString()&&t&&(r.compare_price=[t]),o.settings.selectors.product.gallery_container=".mw-product-info .mw-product-info__image"}new Yn({htmlElements:r,initConfig:o,loadedState:e,type:t.MODAL,cartId:parseInt(a)||null},Vn,Hn)}))},new((m=void 0)||(m=Promise))((function(t,e){function n(t){try{r(g.next(t))}catch(t){e(t)}}function o(t){try{r(g.throw(t))}catch(t){e(t)}}function r(e){var r;e.done?t(e.value):(r=e.value,r instanceof m?r:new m((function(t){t(r)}))).then(n,o)}r((g=g.apply(u,f||[])).next())}))})(i,a,u):d(`Missing productId in attribute: ${e.CONFIGURE_LINK}`)},$n=t=>{const n=document.querySelectorAll(`[${e.INIT}]:not([${e.PROCESS}])`);for(let o of n){let n={};if(!o.getAttribute(e.S_CONTAINER)){d(`${e.S_CONTAINER} is reuqired attribute for inline options.`,o);continue}n.container=o.closest(o.getAttribute(e.S_CONTAINER)),o.getAttribute(e.S_ADD_TO_CART)&&(n.add_to_cart=n.container.querySelector(o.getAttribute(e.S_ADD_TO_CART))),o.getAttribute(e.S_PRICE)&&(n.price=[...n.container.querySelectorAll(o.getAttribute(e.S_PRICE))]),o.getAttribute(e.S_COMPARE_PRICE)&&(n.compare_price=[...n.container.querySelectorAll(o.getAttribute(e.S_COMPARE_PRICE))]),o.getAttribute(e.S_QUANTITY)&&(n.quantity=n.container.querySelector(o.getAttribute(e.S_QUANTITY))),o.getAttribute(e.S_GALLERY_CONTAINER)&&(n.gallery_container=n.container.querySelector(o.getAttribute(e.S_GALLERY_CONTAINER))),o.getAttribute(e.S_GALLERY_IMAGE)&&(n.gallery_image=n.container.querySelector(o.getAttribute(e.S_GALLERY_IMAGE))),o.getAttribute(e.S_FORM)&&(n.form=n.container.querySelector(o.getAttribute(e.S_FORM))),o.getAttribute(e.S_VARIANTS)&&(n.variants=[...n.container.querySelectorAll(o.getAttribute(e.S_VARIANTS))]),n.options=o;const r=(new Date).getTime().toString(),i=`options_${r}`;n.options.setAttribute(e.PROCESS,r),n.options.setAttribute("id",i),Wn(n,t)}},zn=t=>{document.addEventListener("click",(n=>{const o=n.target||n.srcElement;o.hasAttribute(e.CONFIGURE_LINK)&&Xn(o,t)}))};let Qn={initialized:!1,initInline:Wn,initConfigureLinks:Xn,hideCartElements:bn,removeOwnVariants:mn,validateCart:Tn,initInlineHelpers:$n,initConfigureHelpers:zn,initialize:t=>{void 0!==t?t.apo.initialized?d("APO is already initialized."):t.is_used?d("window.mwApoInit is already used."):(void 0!==t.onEvent&&(Hn=t.onEvent),void 0!==t.onCallback&&(Vn=t.onCallback),Hn("initialize::start"),t.is_used=!0,t.apo.initialized=!0,(()=>{const e=["amount","amount_no_decimals","amount_with_comma_separator","amount_no_decimals_with_comma_separator","amount_with_apostrophe_separator"];let n="";for(let o in e)if(t.shop_money_format.indexOf(o)){n=o;break}e.includes(n)&&(t.settings.currency_format=n)})(),t.lock_cart_ids||(t.lock_cart_ids={}),"product"===t.template_name&&Wn((()=>{let n={};if(t.settings.selectors.product.buy_it_now.trim()?n.buy_it_now=document.querySelector(t.settings.selectors.product.buy_it_now):n.buy_it_now=E("buy_it_now"),n.buy_it_now||d("HtmlElement 'buy_it_now' not found."),t.settings.selectors.product.add_to_cart.trim()?n.add_to_cart=document.querySelector(t.settings.selectors.product.add_to_cart):n.add_to_cart=E("add_to_cart"),n.add_to_cart||d("HtmlElement 'add_to_cart' not found."),t.settings.selectors.product.quantity.trim()?n.quantity=document.querySelector(t.settings.selectors.product.quantity):n.quantity=E("product_qty"),n.quantity||d("HtmlElement 'quantity' not found."),t.settings.selectors.product.gallery_container.trim()&&(n.gallery_container=document.querySelector(t.settings.selectors.product.gallery_container)),n.gallery_container||d("HtmlElement 'gallery_container' not found."),t.settings.selectors.product.gallery_image.trim()&&(n.gallery_image=document.querySelector(t.settings.selectors.product.gallery_image)),n.gallery_image||d("HtmlElement 'gallery_image' not found."),t.settings.selectors.product.form.trim()&&(n.form=document.querySelector(t.settings.selectors.product.form)),n.form||(n.form=document.querySelector(`#product_form_${t.product.id}`),n.form=!n.form&&n.add_to_cart?n.add_to_cart.closest("form"):null,n.form=n.form||E("product_form")),n.form||d("HtmlElement 'form' not found."),t.settings.selectors.product.variants.trim()&&(n.variants=[...document.querySelectorAll(t.settings.selectors.product.variants)]),n.variants||(n.variants=y("shopify_variants")),n.variants.length)for(let t of n.variants)g(t);else d("HtmlElement 'variants' not found.");if(t.settings.selectors.product.visible_variants.trim()&&(n.visible_variants=[...document.querySelectorAll(t.settings.selectors.product.visible_variants)]),n.visible_variants||(n.visible_variants=[...y("visible_variants")]),n.visible_variants)for(let t of n.visible_variants)g(t);else d("HtmlElement 'visible_variants' not found.");let o=null;t.settings.selectors.product.place_options.trim()&&(o=document.querySelector(t.settings.selectors.product.place_options));const r=(new Date).getTime().toString(),i=`options_${r}`;if(null===o&&(n.form||n.variants)){const a=document.createElement("span");a.setAttribute(e.INIT,t.product.id.toString()),n.variants&&n.variants.length&&a.setAttribute(e.VARIANT_ID,n.variants[0].value),a.setAttribute(e.PROCESS,r),a.setAttribute("id",i),n.variants&&n.variants.length?n.variants[0].insertAdjacentElement("afterend",a):n.form&&n.form.insertBefore(a,n.form.firstChild),o=document.querySelector(`[${e.PROCESS}="${r}"]`)}return null!==o&&(o.hasAttribute(e.INIT)||o.setAttribute(e.INIT,t.product.id.toString()),o.hasAttribute(e.PROCESS)||o.setAttribute(e.PROCESS,r),o.hasAttribute("id")||o.setAttribute("id",i)),n.options=o,n.options||d("HtmlElement 'options' not found."),n})(),t),"cart"===t.template_name&&t.cart.items.length&&(()=>{var n;if(!t.cart.items.filter((t=>t.properties&&t.properties[r.OWN_PROP_CART])).length)return;let i={};if(t.settings.selectors.cart.lines.trim()?i.lines=[...document.querySelectorAll(t.settings.selectors.cart.lines)]:i.lines=y("cart_row"),i.lines.length)for(let a in t.cart.items){const s=t.cart.items[a];s.properties=s.properties||{};const c=s.properties[r.OWN_PROP_CART];if(!c)continue;if(null===s.product_id)return;const l=i.lines[a];if(!l){d(`Not found line for ${r.OWN_PROP_CART}: ${c}`);continue}const u=`[${e.CONFIGURE_LINK}="${s.product_id}"]`;let p=l.querySelector(u);if(p&&p.getAttribute(e.VARIANT_ID)===s.id.toString()&&p.getAttribute(e.CART_ID)===c)continue;const f=document.createElement("a");f.setAttribute("href","javascript:void(0);"),f.setAttribute(e.CONFIGURE_LINK,s.product_id.toString()),f.setAttribute(e.VARIANT_ID,s.id.toString()),f.setAttribute(e.CART_ID,c),f.classList.add(o.CONFIGURE_LINK),f.innerText=t.settings.translations.i18n_configure_link;const m=[...l.querySelectorAll(`a[href*="${s.url}"]`)],h=m.filter((t=>!t.querySelector("img")))[0];m.map((t=>{t.setAttribute("href",(t.getAttribute("href")||"").replace(/\?variant=.*/,""))})),s.properties[r.OWN_PROP_OPTION]&&h&&h.classList.add(o.PREVENT_DEFAULT),p?(p.insertAdjacentElement("afterend",f),null===(n=p.parentNode)||void 0===n||n.removeChild(p)):h?h.parentElement&&"TD"!==h.parentElement.tagName?h.parentElement.insertAdjacentElement("afterend",f):h.insertAdjacentElement("afterend",f):d(`Not found automated link for line: ${s.url}`)}else d("Cart lines not found.")})(),zn(t),$n(t),mn(t),Tn(t),document.addEventListener("click",(t=>{(t.target||t.srcElement).classList.contains(o.PREVENT_DEFAULT)&&t.preventDefault()})),Hn("initialize::end")):d("window.mwApoInit is not defined.")}};window.mwApoInit.apo=Qn,window.mwApoInit.apo.initialize(window.mwApoInit)}()}();